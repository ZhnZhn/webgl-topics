{"version":3,"sources":["../../../../src/components/topics/gl-fn/fnGL.js"],"names":["fnGL","createBuffer","gl","bufferData","bufferType","buffer","bindBuffer","STATIC_DRAW","createAttrib","shaderProgram","attrName","dim","rawDim","offset","isBindBuffer","attr","getAttribLocation","vertexAttribPointer","FLOAT","enableVertexAttribArray","ARRAY_BUFFER","translateMatrix","target","matrix","trZ","trZD","minTrZ","maxTrZ","trZStep","create","translate","multiply","rotateMatrix","rX","rY","rZ","rotateX","rotateY","rotateZ"],"mappings":";;;;;;AAAA;;AAEA,IAAOA,OAAO;AACZC,gBAAe,sBAACC,EAAD,EAAKC,UAAL,EAA+C;AAAA,QAA9BC,UAA8B,uEAAnB,cAAmB;;AAC5D,QAAMC,SAASH,GAAGD,YAAH,EAAf;AACAC,OAAGI,UAAH,CAAcJ,GAAGE,UAAH,CAAd,EAA8BC,MAA9B;AACAH,OAAGC,UAAH,CAAcD,GAAGE,UAAH,CAAd,EAA8BD,UAA9B,EAA0CD,GAAGK,WAA7C;AACA,WAAOF,MAAP;AACD,GANW;;AAQZG,gBAAe,sBAASN,EAAT,EAAaO,aAAb,EAA4BC,QAA5B,EAAsCC,GAAtC,EAAkF;AAAA,QAAvCC,MAAuC,uEAAhC,CAAgC;AAAA,QAA7BC,MAA6B,uEAAtB,CAAsB;AAAA,QAAnBC,YAAmB,uEAAN,IAAM;;AAC/F,QAAMC,OAAOb,GAAGc,iBAAH,CAAqBP,aAArB,EAAoCC,QAApC,CAAb;AACAR,OAAGe,mBAAH,CAAuBF,IAAvB,EAA6BJ,GAA7B,EAAkCT,GAAGgB,KAArC,EAA4C,KAA5C,EAAmDN,MAAnD,EAA2DC,MAA3D;AACAX,OAAGiB,uBAAH,CAA2BJ,IAA3B;AACA,QAAID,YAAJ,EAAiB;AACfZ,SAAGI,UAAH,CAAcJ,GAAGkB,YAAjB,EAA+B,IAA/B;AACD;AACD,WAAO,IAAP;AACD,GAhBW;;AAkBZC,mBAAkB,yBAACC,MAAD,EAAY;AAAA,QAEpBC,MAFoB,GAIlBD,MAJkB,CAEpBC,MAFoB;AAAA,QAGpBC,GAHoB,GAIlBF,MAJkB,CAGpBE,GAHoB;AAAA,QAGfC,IAHe,GAIlBH,MAJkB,CAGfG,IAHe;AAAA,QAGTC,MAHS,GAIlBJ,MAJkB,CAGTI,MAHS;AAAA,QAGDC,MAHC,GAIlBL,MAJkB,CAGDK,MAHC;AAAA,QAGOC,OAHP,GAIlBN,MAJkB,CAGOM,OAHP;;;AAM5B,QAAIH,SAAS,CAAC,CAAd,EAAiB;AACf,UAAID,MAAIE,MAAR,EAAe;AACbJ,eAAOE,GAAP,GAAaA,MAAMI,OAAnB;AACD,OAFD,MAEO;AACNN,eAAOG,IAAP,GAAc,CAAd;AACA;AACF,KAND,MAMO;AACL,UAAID,MAAIG,MAAR,EAAe;AACbL,eAAOE,GAAP,GAAaA,MAAMI,OAAnB;AACD,OAFD,MAEO;AACNN,eAAOG,IAAP,GAAc,CAAC,CAAf;AACA;AACF;;AAED,QAAMJ,kBAAkB,eAAKQ,MAAL,EAAxB;AACA,mBAAKC,SAAL,CAAeT,eAAf,EAAgCA,eAAhC,EAAiD,CAAC,CAAD,EAAI,CAAJ,EAAOC,OAAOG,IAAP,GAAYG,OAAnB,CAAjD;AACA,mBAAKG,QAAL,CAAcR,MAAd,EAAsBF,eAAtB,EAAuCE,MAAvC;AAED,GA1CW;;AA4CZS,gBAAe,sBAACV,MAAD,EAAY;AAAA,QACjBC,MADiB,GACMD,MADN,CACjBC,MADiB;AAAA,QACTU,EADS,GACMX,MADN,CACTW,EADS;AAAA,QACLC,EADK,GACMZ,MADN,CACLY,EADK;AAAA,QACDC,EADC,GACMb,MADN,CACDa,EADC;;AAEzB,mBAAKC,OAAL,CAAab,MAAb,EAAqBA,MAArB,EAA6BU,EAA7B;AACA,mBAAKI,OAAL,CAAad,MAAb,EAAqBA,MAArB,EAA6BW,EAA7B;AACA,mBAAKI,OAAL,CAAaf,MAAb,EAAqBA,MAArB,EAA6BY,EAA7B;AACD;;AAjDW,CAAd;;kBAqDenC,I","file":"fnGL.js","sourcesContent":["import { mat4 } from 'gl-matrix';\r\n\r\nconst  fnGL = {\r\n  createBuffer : (gl, bufferData, bufferType=\"ARRAY_BUFFER\") => {\r\n    const buffer = gl.createBuffer();\r\n    gl.bindBuffer(gl[bufferType], buffer);\r\n    gl.bufferData(gl[bufferType], bufferData, gl.STATIC_DRAW);\r\n    return buffer;\r\n  },\r\n\r\n  createAttrib : function(gl, shaderProgram, attrName, dim, rawDim=0, offset=0, isBindBuffer=true) {\r\n    const attr = gl.getAttribLocation(shaderProgram, attrName);\r\n    gl.vertexAttribPointer(attr, dim, gl.FLOAT, false, rawDim, offset);\r\n    gl.enableVertexAttribArray(attr);\r\n    if (isBindBuffer){\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  translateMatrix : (target) => {\r\n    const {\r\n            matrix,\r\n            trZ, trZD, minTrZ, maxTrZ, trZStep\r\n          } = target\r\n\r\n    if (trZD === -1) {\r\n      if (trZ>minTrZ){\r\n        target.trZ = trZ - trZStep\r\n      } else {\r\n       target.trZD = 1\r\n      }\r\n    } else {\r\n      if (trZ<maxTrZ){\r\n        target.trZ = trZ + trZStep\r\n      } else {\r\n       target.trZD = -1\r\n      }\r\n    }\r\n\r\n    const translateMatrix = mat4.create()\r\n    mat4.translate(translateMatrix, translateMatrix, [0, 0, target.trZD*trZStep])\r\n    mat4.multiply(matrix, translateMatrix, matrix)\r\n\r\n  },\r\n\r\n  rotateMatrix : (target) => {\r\n    const { matrix, rX, rY, rZ } = target\r\n    mat4.rotateX(matrix, matrix, rX);\r\n    mat4.rotateY(matrix, matrix, rY);\r\n    mat4.rotateZ(matrix, matrix, rZ);\r\n  }\r\n\r\n}\r\n\r\nexport default fnGL\r\n"]}