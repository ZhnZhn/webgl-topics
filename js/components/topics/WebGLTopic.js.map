{"version":3,"sources":["../../../src/components/topics/WebGLTopic.jsx"],"names":["WIDTH","HEIGHT","STYLE","ROOT","position","BT_RUN","top","right","WebGLTopic","initGL","createShaders","createPerspective","setPointSize","configMatrix","draw","startAnimation","isAnimate","isStopDraw","_handleClickCanvas","forceUpdate","_renderTopicLink","valuesForInit","undefined","topicLink","type","Comp","RouterLink","componentDidMount","props","componentWillUnmount","render","el","canvas","borderRadius","Component"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;AAEA,IAAMA,KAAK,GAAG,GAAd;AAAA,IACMC,MAAM,GAAG,GADf;AAAA,IAEMC,KAAK,GAAG;AACRC,EAAAA,IAAI,EAAG;AACLC,IAAAA,QAAQ,EAAG,UADN;AAEL,aAAQ;AAFH,GADC;AAKRC,EAAAA,MAAM,EAAG;AACPD,IAAAA,QAAQ,EAAE,UADH;AAEPE,IAAAA,GAAG,EAAE,KAFE;AAGPC,IAAAA,KAAK,EAAG;AAHD;AALD,CAFd;;IAsBMC,U,OAPLC,kB,eACAC,yB,eACAC,6B,eACAC,wB,eACAC,wB,eACAC,gB,eACAC,0B;;;;;;;;;;;UAUCC,S,GAAY,I;UACZC,U,GAAa,K;;UAgBbC,kB,GAAqB,YAAM;AACzB,YAAKF,SAAL,GAAiB,CAAC,MAAKA,SAAvB;;AACA,YAAKG,WAAL;AACD,K;;UAEDC,gB,GAAmB,UAACC,aAAD,EAAmB;AACpC,UAAI,CAACA,aAAL,EAAmB;AACjB,eAAOC,SAAP;AACD,OAFD,MAEO;AAAA,oCACoBD,aADpB,CACGE,SADH;AAAA,YACGA,SADH,sCACa,EADb;AAAA,YAEGC,IAFH,GAEYD,SAFZ,CAEGC,IAFH;AAAA,YAGCC,IAHD,GAGQC,uBAAWF,IAAX,CAHR;;AAIL,YAAI,OAAOC,IAAP,KAAgB,WAApB,EAAgC;AAC9B,iBAAOH,SAAP;AACD,SAFD,MAGE,oBAAQ,qBAAC,IAAD,gCAAUC,SAAV,EAAR;AACH;AACF,K;;;;;;;SA9BDI,iB,GAAA,6BAAmB;AAAA,QACTZ,cADS,GACU,KAAKa,KADf,CACTb,cADS;;AAEjB,QAAK,OAAOA,cAAP,KAA0B,UAA/B,EAA0C;AACxCA,MAAAA,cAAc,CAAC,IAAD,CAAd;AACD,KAFD,MAEO;AACL,WAAKA,cAAL,CAAoB,IAApB;AACD;AACF,G;;SAEDc,oB,GAAA,gCAAsB;AACpB,SAAKZ,UAAL,GAAkB,IAAlB;AACD,G;;SAqBDa,M,GAAA,kBAAQ;AAAA;;AAAA,QACET,aADF,GACoB,KAAKO,KADzB,CACEP,aADF;AAEN,wBACE;AAAK,MAAA,KAAK,EAAEnB,KAAK,CAACC,IAAlB;AAAA,8BACE;AACG,QAAA,GAAG,EAAG,aAAA4B,EAAE;AAAA,iBAAI,MAAI,CAACC,MAAL,GAAcD,EAAlB;AAAA,SADX;AAEG,QAAA,KAAK,EAAE/B,KAFV;AAGG,QAAA,MAAM,EAAEC,MAHX;AAIG,QAAA,KAAK,EAAE;AAAEgC,UAAAA,YAAY,EAAE;AAAhB,SAJV;AAKG,QAAA,OAAO,EAAE,KAAKf,kBALjB;AAAA,8EAQE;AAAA;AAAA,UARF;AAAA,QADF,EAYK,KAAKF,SAAL,KAAmB,KAApB,iBACA,qBAAC,kBAAD;AACE,QAAA,OAAO,EAAC,eADV;AAEE,QAAA,KAAK,EAAEd,KAAK,CAACG,MAFf;AAGE,QAAA,OAAO,EAAE,KAAKa;AAHhB,QAbJ,EAoBI,KAAKE,gBAAL,CAAsBC,aAAtB,CApBJ;AAAA,MADF;AAyBD,G;;;EAxEsBa,gB;;eA2EV1B,U","sourcesContent":["import { Component } from 'react';\r\n\r\nimport RouterLink from './links/RouterLink';\r\n\r\nimport initGL from './gl-decorators/initGL';\r\nimport createShaders from './gl-decorators/createShaders';\r\nimport createPerspective from './gl-decorators/createPerspective';\r\nimport setPointSize from './gl-decorators/setPointSize';\r\nimport configMatrix from './gl-decorators/configMatrix';\r\nimport draw from './gl-decorators/draw';\r\nimport startAnimation from './gl-decorators/startAnimation';\r\n\r\nimport Button from '../zhn-atoms/Button';\r\n\r\nconst WIDTH = 500\r\n    , HEIGHT = 500\r\n    , STYLE = {\r\n      ROOT : {\r\n        position : 'relative',\r\n        float : 'left'\r\n      },\r\n      BT_RUN : {\r\n        position: 'absolute',\r\n        top: '8px',\r\n        right : '8px'\r\n      }\r\n    };\r\n\r\n\r\n@initGL\r\n@createShaders\r\n@createPerspective\r\n@setPointSize\r\n@configMatrix\r\n@draw\r\n@startAnimation\r\nclass WebGLTopic extends Component {\r\n   /*\r\n   static propTypes = {\r\n     valuesForInit: PropTypes.object\r\n   }\r\n   */\r\n\r\n\r\n\r\n  isAnimate = true\r\n  isStopDraw = false\r\n\r\n\r\n  componentDidMount(){\r\n    const { startAnimation } = this.props\r\n    if ( typeof startAnimation === \"function\"){\r\n      startAnimation(this)\r\n    } else {\r\n      this.startAnimation(this);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.isStopDraw = true\r\n  }\r\n\r\n  _handleClickCanvas = () => {\r\n    this.isAnimate = !this.isAnimate\r\n    this.forceUpdate();\r\n  }\r\n\r\n  _renderTopicLink = (valuesForInit) => {\r\n    if (!valuesForInit){\r\n      return undefined;\r\n    } else {\r\n      const { topicLink={} } = valuesForInit\r\n          , { type } = topicLink\r\n          , Comp = RouterLink[type];\r\n      if (typeof Comp === 'undefined'){\r\n        return undefined;\r\n      } else\r\n        return (<Comp {...topicLink} />);\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { valuesForInit } = this.props\r\n    return (\r\n      <div style={STYLE.ROOT}>\r\n        <canvas\r\n           ref={ el => this.canvas = el }\r\n           width={WIDTH}\r\n           height={HEIGHT}\r\n           style={{ borderRadius: '2px' }}\r\n           onClick={this._handleClickCanvas}\r\n        >\r\n          Your browser doesn't appear to support the\r\n          <code>&lt;canvas&gt;</code> element.\r\n        </canvas>\r\n        {\r\n          (this.isAnimate === false) &&\r\n          <Button\r\n            caption=\"Run Animation\"\r\n            style={STYLE.BT_RUN}\r\n            onClick={this._handleClickCanvas}\r\n         />\r\n        }\r\n        {\r\n          this._renderTopicLink(valuesForInit)\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WebGLTopic\r\n"],"file":"WebGLTopic.js"}