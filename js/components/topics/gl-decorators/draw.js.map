{"version":3,"sources":["../../../../src/components/topics/gl-decorators/draw.js"],"names":["_draw","target","gl","isAnimate","vertexCount","isStopDraw","draw","drawMode","isDrawElemnts","indexCount","isDynamicTranslate","matrixLocation","matrix","fnGL","rotateMatrix","translateMatrix","uniformMatrix4fv","clear","COLOR_BUFFER_BIT","drawElements","UNSIGNED_BYTE","drawArrays","window","requestAnimationFrame","bind","props","clearBuffers","prototype"],"mappings":";;;;;;;AAAA;;AAEO,IAAMA,KAAK,GAAG,SAARA,KAAQ,CAACC,MAAD,EAAY;AAAA,MAErBC,EAFqB,GAOnBD,MAPmB,CAErBC,EAFqB;AAAA,MAEjBC,SAFiB,GAOnBF,MAPmB,CAEjBE,SAFiB;AAAA,MAENC,WAFM,GAOnBH,MAPmB,CAENG,WAFM;AAAA,MAGrBC,UAHqB,GAOnBJ,MAPmB,CAGrBI,UAHqB;AAAA,MAGTC,IAHS,GAOnBL,MAPmB,CAGTK,IAHS;AAAA,yBAOnBL,MAPmB,CAGHM,QAHG;AAAA,MAGHA,QAHG,iCAGM,WAHN;AAAA,MAIrBC,aAJqB,GAOnBP,MAPmB,CAIrBO,aAJqB;AAAA,MAINC,UAJM,GAOnBR,MAPmB,CAINQ,UAJM;AAAA,MAKrBC,kBALqB,GAOnBT,MAPmB,CAKrBS,kBALqB;AAAA,MAMrBC,cANqB,GAOnBV,MAPmB,CAMrBU,cANqB;AAAA,MAMLC,MANK,GAOnBX,MAPmB,CAMLW,MANK;;AAS7B,MAAIT,SAAJ,EAAc;AAEZU,qBAAKC,YAAL,CAAkBb,MAAlB;;AACA,QAAGS,kBAAH,EAAsB;AACpBG,uBAAKE,eAAL,CAAqBd,MAArB;AACD;;AAEDC,IAAAA,EAAE,CAACc,gBAAH,CAAoBL,cAApB,EAAoC,KAApC,EAA2CC,MAA3C;AACAV,IAAAA,EAAE,CAACe,KAAH,CAASf,EAAE,CAACgB,gBAAZ;;AAGA,QAAIV,aAAJ,EAAkB;AAChBN,MAAAA,EAAE,CAACiB,YAAH,CAAgBjB,EAAE,CAACK,QAAD,CAAlB,EAA8BE,UAA9B,EAA0CP,EAAE,CAACkB,aAA7C,EAA4D,CAA5D;AACD,KAFD,MAEO;AACLlB,MAAAA,EAAE,CAACmB,UAAH,CAAcnB,EAAE,CAACK,QAAD,CAAhB,EAA4B,CAA5B,EAA+BH,WAA/B;AACD;AACF;;AAED,MAAI,CAACC,UAAL,EAAgB;AACdiB,IAAAA,MAAM,CAACC,qBAAP,CAA6BjB,IAAI,CAACkB,IAAL,CAAU,IAAV,EAAgBvB,MAAhB,CAA7B;AACD,GAFD,MAEO;AACLA,IAAAA,MAAM,CAACwB,KAAP,CAAaC,YAAb,CAA0BzB,MAA1B;AACD;AACJ,CAhCM;;;;AAkCP,IAAMK,IAAI,GAAG,SAAPA,IAAO,CAACL,MAAD,EAAY;AACvBA,EAAAA,MAAM,CAAC0B,SAAP,CAAiBrB,IAAjB,GAAwBN,KAAxB;AACD,CAFD;;eAIeM,I","sourcesContent":["import fnGL from '../gl-fn/fnGL';\r\n\r\nexport const _draw = (target) => {\r\n    const {\r\n            gl, isAnimate, vertexCount,\r\n            isStopDraw, draw, drawMode=\"TRIANGLES\",\r\n            isDrawElemnts, indexCount,\r\n            isDynamicTranslate,\r\n            matrixLocation, matrix\r\n          } = target\r\n\r\n    if (isAnimate){\r\n\r\n      fnGL.rotateMatrix(target)\r\n      if(isDynamicTranslate){\r\n        fnGL.translateMatrix(target)\r\n      }\r\n\r\n      gl.uniformMatrix4fv(matrixLocation, false, matrix);\r\n      gl.clear(gl.COLOR_BUFFER_BIT);\r\n\r\n\r\n      if (isDrawElemnts){\r\n        gl.drawElements(gl[drawMode], indexCount, gl.UNSIGNED_BYTE, 0);\r\n      } else {\r\n        gl.drawArrays(gl[drawMode], 0, vertexCount);\r\n      }\r\n    }\r\n\r\n    if (!isStopDraw){\r\n      window.requestAnimationFrame(draw.bind(null, target))\r\n    } else {\r\n      target.props.clearBuffers(target)\r\n    }\r\n}\r\n\r\nconst draw = (target) => {\r\n  target.prototype.draw = _draw\r\n}\r\n\r\nexport default draw\r\n"],"file":"draw.js"}