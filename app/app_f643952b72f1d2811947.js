(()=>{var e={38:(e,t,r)=>{e.exports=r(548)(12)},130:(e,t,r)=>{e.exports=r(548)(133)},905:(e,t,r)=>{e.exports=r(548)(400)},993:(e,t,r)=>{e.exports=r(548)(748)},363:(e,t,r)=>{e.exports=r(548)(887)},548:e=>{"use strict";e.exports=lib_vendor}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(993);const t=e=>(e||{}).current,o={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round"};var n=r(905),i=0;function a(e,t,r,o,a,l){var s,c,d={};for(c in t)"ref"==c?s=t[c]:d[c]=t[c];var p={type:e,props:d,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--i,__source:a,__self:l};if("function"==typeof e&&(s=e.defaultProps))for(c in s)void 0===d[c]&&(d[c]=s[c]);return n.options.vnode&&n.options.vnode(p),p}const l=e=>{let{className:t,title:r}=e;return a("span",{className:t,title:r,children:a("svg",{...o,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"2",strokeWidth:"2",children:[a("title",{children:r}),a("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),a("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),a("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})},s=e=>{let{className:t,style:r,caption:o}=e;return a("span",{className:t,style:r,children:o})},c=e=>{let{className:t,href:r,ariaLabel:n}=e;return a("a",{"aria-label":n,className:t,href:r,children:a("svg",{...o,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414","aria-hidden":"true",children:a("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})})})},d="WebGL Topics v0.2.0",p="header",u=p+"__icon-app",f=p+"__label-app",m=p+"__github-link",h=()=>a("header",{className:"header",children:[a(l,{className:u,title:d}),a(s,{className:f,caption:d}),a(c,{className:m,href:"https://github.com/zhnzhn/webgl-topics/",ariaLabel:"GitHub Repository"})]}),g=function(t,r,o){void 0===o&&(o="listen"),(0,e.useEffect)((()=>t[o](r)),[])};var v=r(130),b=r.n(v);const y="viewTopic",x=b().createActions({[y]:{}}),E=(t=>(r,o)=>(0,e.useCallback)((e=>{t(e)&&(e.preventDefault(),e.stopPropagation(),r(e))}),o||[]))((e=>{let{keyCode:t}=e;return 13===t||32===t})),C=e=>!!e,_=(e,t)=>"boolean"==typeof t?t:!e,T=t=>(0,e.useReducer)(_,t,C),w="#af94dc",S={lineHeight:1.5,backgroundColor:"#4d4d4d"},A={color:w,paddingLeft:4,fontWeight:"bold",fontSize:"16px",cursor:"pointer"},N={display:"inline-block",width:16,height:16},R={display:"inline-block"},L={display:"block"},I={display:"none"},M=w,k=e=>{let{isClose:t,style:r,toogleStyle:o,childrenStyle:n,caption:i,children:l}=e;const[s,c]=T(!t),d=E(c),[p,u,f,m]=s?["M 2,14 L 14,14 14,2 2,14",M,L,"show-popup"]:["M 2,2 L 14,8 2,14 2,2","#33373A",I];return a("div",{style:{...S,...r},children:[a("div",{role:"button",tabIndex:"0",className:"zhn-oc not-selected",style:o,onClick:c,onKeyDown:d,children:[a("div",{style:N,children:a("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:R,children:a("path",{d:p,fill:u,strokeWidth:"1",stroke:w})})}),a("span",{style:A,children:i})]}),a("div",{"aria-expanded":s,className:m,style:{...n,...f},children:l})]})},B={backgroundColor:"#24282a"},F={color:"gray"},P={borderRight:"8px solid #1b75bb"},D=e=>{let{style:t,title:r,onClick:o}=e;const n=E(o);return a("div",{role:"menuitem",tabIndex:"0",className:"row__topic",style:{...F,...t},onClick:o,onKeyDown:n,children:r})},G=e=>{let{dataModel:t,topicId:r,toogleStyle:o}=e;const{caption:n,items:i}=t||{};return a(k,{caption:n,style:B,toogleStyle:o,children:i.map((e=>{let{id:t,title:o,onClick:n}=e;return a(D,{style:t===r?P:void 0,title:o,onClick:n},t)}))})},O=e=>{let{style:t,toogleStyle:r,menuModel:o,topicId:n}=e;return a("div",{style:t,children:o.map((e=>a(G,{toogleStyle:r,dataModel:e,topicId:n},n)))})},Y="RANDOM_TRIANGLES",z="CROWN",U="PLANE",W="CUBE",Z="CUBE_WITH_LIGHT",V="CUBE_TRANSPARENT",H=[{caption:"WebGL with gl-matrix",items:[[Y,"Random Triangles"],[z,"Crown Sample"],[U,"Plane"],[W,"Cube"],[Z,"Cube With Light"],[V,"Cube Transparent"]].map((e=>{return t=e[0],r=e[1],{id:t,title:r,onClick:()=>x.viewTopic(t)};var t,r}))}],X="sidebar",K=X+" with-scroll",j=X+"__menu",q={borderRight:"1px solid black"},$={paddingLeft:6},J=t=>{let{store:r}=t;const[o,n]=(0,e.useState)(r.state.topicId);return g(r,((e,t)=>{e===y&&n(t.topicId)})),a("section",{className:K,children:a("div",{className:j,role:"navigation",children:a(O,{style:q,toogleStyle:$,menuModel:H,topicId:o})})})},Q=()=>({}),ee=()=>(0,e.useReducer)(Q)[1],te=e=>"function"==typeof e,re=/^-?\d*(\.\d+)?$/,oe=e=>{const t=(""+e).trim();return!isNaN(parseFloat(t))&&(""!==t&&re.test(t))},ne=e=>{const{canvas:t}=e,{width:r,height:o}=t,n=e.gl=t.getContext("webgl");n.enable(n.DEPTH_TEST),n.viewport(0,0,r,o),n.clearColor(.5,.5,.5,1)},ie="\nattribute float pointSize;\nattribute vec4 coords;\nattribute vec4 colors;\nuniform mat4 transformMatrix;\nuniform mat4 perspectiveMatrix;\nvarying vec4 varyingColors;\nvoid main(void){\n  gl_Position = perspectiveMatrix * transformMatrix * coords;\n  gl_PointSize = pointSize;\n  varyingColors = colors;\n}\n",ae="\nprecision mediump float;\nvarying vec4 varyingColors;\nvoid main(void) {\n  gl_FragColor = varyingColors;\n}\n",le="FRAGMENT",se="VERTEX",ce=(e,t,r)=>{let o;if(r===le)o=e.createShader(e.FRAGMENT_SHADER);else{if(r!==se)return null;o=e.createShader(e.VERTEX_SHADER)}return e.shaderSource(o,t),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(alert(e.getShaderInfoLog(o)),null)},de=e=>{const{gl:t,props:r}=e,{vertexShaderCode:o=ie,fragmentShaderCode:n=ae}=r,i=ce(t,o,se),a=ce(t,n,le),l=e.shaderProgram=t.createProgram();t.attachShader(l,i),t.attachShader(l,a),t.linkProgram(l),t.useProgram(l)};var pe=r(363);const ue=e=>{const{canvas:t,gl:r,shaderProgram:o,perspectiveNear:n,perspectiveFar:i}=e,a=pe.mat4.create();pe.mat4.perspective(a,1,t.width/t.height,n,i);const l=r.getUniformLocation(o,"perspectiveMatrix");r.uniformMatrix4fv(l,!1,a)},fe=e=>{let{gl:t,shaderProgram:r}=e;const o=t.getAttribLocation(r,"pointSize");t.vertexAttrib1f(o,20)},me=e=>{const{gl:t,shaderProgram:r,zMatrixTranslate:o=-2}=e,n=e.matrix=pe.mat4.create();pe.mat4.translate(n,n,[0,0,o]),e.matrixLocation=t.getUniformLocation(r,"transformMatrix")},he={createBuffer:function(e,t,r){void 0===r&&(r="ARRAY_BUFFER");const o=e.createBuffer();return e.bindBuffer(e[r],o),e.bufferData(e[r],t,e.STATIC_DRAW),o},createAttrib:function(e,t,r,o,n,i,a){void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=!0);const l=e.getAttribLocation(t,r);return e.vertexAttribPointer(l,o,e.FLOAT,!1,n,i),e.enableVertexAttribArray(l),a&&e.bindBuffer(e.ARRAY_BUFFER,null),this},translateMatrix:e=>{const{matrix:t,trZ:r,trZD:o,minTrZ:n,maxTrZ:i,trZStep:a}=e;-1===o?r>n?e.trZ=r-a:e.trZD=1:r<i?e.trZ=r+a:e.trZD=-1;const l=pe.mat4.create();pe.mat4.translate(l,l,[0,0,e.trZD*a]),pe.mat4.multiply(t,l,t)},rotateMatrix:e=>{const{matrix:t,rX:r,rY:o,rZ:n}=e;pe.mat4.rotateX(t,t,r),pe.mat4.rotateY(t,t,o),pe.mat4.rotateZ(t,t,n)}},ge=e=>{const{isAnimate:t,isStopDraw:r,gl:o,vertexCount:n,draw:i,drawMode:a="TRIANGLES",isDrawElemnts:l,indexCount:s,isDynamicTranslate:c,matrixLocation:d,matrix:p}=e||{};t&&(he.rotateMatrix(e),c&&he.translateMatrix(e),o.uniformMatrix4fv(d,!1,p),o.clear(o.COLOR_BUFFER_BIT),l?o.drawElements(o[a],s,o.UNSIGNED_BYTE,0):o.drawArrays(o[a],0,n)),r?e.props.clearBuffers(e):window.requestAnimationFrame((()=>i(e)))},ve=Object.assign,be=(r,o,n)=>{(0,e.useEffect)((()=>{const e=t(r),i=t(o),{valuesForInit:a,createVertices:l,createIndices:s,loadTexture:c}=n;return ve(i,{...a,canvas:e,props:n,configMatrix:me,draw:n.draw||ge}),ne(i),de(i),l(i),i.isWithoutPerspective||(i.createPerspective=ue,ue(i)),i.isWithoutPointSize||fe(i),me(i),te(s)&&s(i),te(c)&&c(i),te(i.draw)&&i.draw(i),()=>{i.isStopDraw=!0}}),[])},ye={position:"relative",color:"#673ab7",padding:"6px 8px",marginLeft:16,fontSize:"16px",fontWeight:"bold",border:"2px solid #673ab7",borderRadius:8},xe=e=>{let{caption:t,style:r,onClick:o}=e;return a("button",{className:"bt",style:{...ye,...r},onClick:o,children:t})},Ee={display:"table-cell"},Ce={display:"inline-block",color:"#ffffff",marginLeft:4,padding:"3px 7px",borderRadius:3,fontWeight:"700",textDecoration:"none",background:"#ef494f"},_e={EGGHEAD:e=>{let{isPro:t,style:r,title:o,href:n}=e;return a("a",{className:"native-link",style:{...Ee,...r},href:n,children:[a("span",{children:o}),t?a("span",{style:Ce,children:"P"}):null]})}},Te=e=>{let{config:t}=e;if(t){const{topicLink:e}=t,{type:r,...o}=e||{},n=r&&_e[r];return n?a(n,{...o}):null}return null},we={position:"relative",float:"left"},Se={borderRadius:"2px"},Ae={position:"absolute",top:8,right:8},Ne=(0,e.forwardRef)(((r,o)=>{const n=(0,e.useRef)(),i=(0,e.useRef)({isAnimate:!0,isStopDraw:!1}),l=ee(),s=(0,e.useCallback)((()=>{i.current.isAnimate=!t(i).isAnimate,l()}),[]);be(n,i,r),(0,e.useImperativeHandle)(o,(()=>t(i)));const{valuesForInit:c}=r,{isAnimate:d}=t(i)||{};return a("div",{style:we,children:[a("canvas",{ref:n,width:500,height:500,style:Se,onClick:s,children:["Your browser doesn't appear to support the",a("code",{children:"<canvas>"})," element."]}),!d&&a(xe,{caption:"Run Animation",style:Ae,onClick:s}),a(Te,{config:c})]})})),Re={zMatrixTranslate:-2,rX:-.007,rY:.012,rZ:.01,perspectiveNear:.1,perspectiveFar:10},Le={valuesForInit:{topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl"}},createVertices:e=>{const{gl:t,shaderProgram:r}=e,o=e.vertices=[],n=e.colors=[],i=e.vertexCount=30;for(var a=0;a<i;a++)o.push(2*Math.random()-1),o.push(2*Math.random()-1),o.push(2*Math.random()-1),n.push(Math.random()),n.push(Math.random()),n.push(Math.random()),n.push(1);e.buffer=he.createBuffer(t,new Float32Array(o)),he.createAttrib(t,r,"coords",3),e.colorBuffer=he.createBuffer(t,new Float32Array(n)),he.createAttrib(t,r,"colors",4)},clearBuffers:e=>{const{gl:t,buffer:r,colorBuffer:o}=e;t.deleteBuffer(r),t.deleteBuffer(o)}},Ie=(e,t)=>{e.push(Math.cos(t)),e.push(Math.sin(t)),e.push(.1*Math.sin(10*t))},Me=(e,t)=>{e.push(.5*Math.sin(10*t)+.5),e.push(.5*Math.sin(8*t)+.5),e.push(.5*Math.sin(12*t)+.5),e.push(1)},ke={DF:Le,[Y]:Le,[z]:{valuesForInit:{topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:e=>{const t=e.vertices=[.88,-.25,-.18,1,0,0,1,.9,.25,0,1,0,0,1,.88,-.25,.18,1,0,0,1,.85,-.25,.29,1,1,0,1,.78,.25,.45,1,1,0,1,.67,-.25,.6,1,1,0,1,.6,-.25,.67,0,1,0,1,.45,.25,.78,0,1,0,1,.29,-.25,.85,0,1,0,1,.18,-.25,.88,0,1,1,1,0,.25,.9,0,1,1,1,-.18,-.25,.88,0,1,1,1,-.29,-.25,.85,0,0,1,1,-.45,.25,.78,0,0,1,1,-.6,-.25,.67,0,0,1,1];e.vertexCount=t.length/7;const{gl:r,shaderProgram:o}=e;e.buffer=he.createBuffer(r,new Float32Array(t)),he.createAttrib(r,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},clearBuffers:e=>{const{gl:t,buffer:r}=e;t.deleteBuffer(r)}},[U]:{valuesForInit:{drawMode:"TRIANGLE_FAN",topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:e=>{const t=e.vertices=[];t.push(0,.9,.3,1,1,1,1);for(var r=0;r<2*Math.PI;r+=.01)Ie(t,r),Me(t,r);r=2*Math.PI,Ie(t,r),Me(t,r),e.vertexCount=t.length/7;const{gl:o,shaderProgram:n}=e;e.buffer=he.createBuffer(o,new Float32Array(t)),he.createAttrib(o,n,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(o,n,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},clearBuffers:e=>{const{gl:t,buffer:r}=e;t.deleteBuffer(r)}},[W]:{valuesForInit:{zMatrixTranslate:-4,isDrawElemnts:!0,topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:e=>{const t=e.vertices=[-1,-1,-1,1,0,0,1,1,-1,-1,1,1,0,1,-1,1,-1,0,1,1,1,1,1,-1,0,0,1,1,-1,1,1,1,.5,0,1,1,1,1,.5,1,1,1,-1,-1,1,1,0,.5,1,1,-1,1,.5,0,1,1];e.vertexCount=t.length/7;const{gl:r,shaderProgram:o}=e;e.buffer=he.createBuffer(r,new Float32Array(t)),he.createAttrib(r,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},createIndices:e=>{const t=e.indices=[0,1,2,1,2,3,2,3,4,3,4,5,4,5,6,5,6,7,6,7,0,7,0,1,0,2,6,2,6,4,1,3,7,3,7,5];e.indexCount=t.length;const{gl:r}=e;e.indexBuffer=he.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:e=>{const{gl:t,buffer:r,indexBuffer:o}=e;t.deleteBuffer(r),t.deleteBuffer(o)}},TEXTURE_IMAGE:{vertexShaderCode:"\n  attribute vec4 coords;\n  attribute float pointSize;\n  uniform mat4 transformMatrix;\n  uniform mat4 perspectiveMatrix;\n  attribute vec4 colors;\n  varying vec4 varyingColors;\n\n  attribute vec2 textureCoords;\n  varying vec2 varyingTextureCoords;\n  void main(void){\n    gl_Position = perspectiveMatrix * transformMatrix * coords;\n    gl_PointSize = pointSize;\n    varyingColors = colors;\n\n    varyingTextureCoords = textureCoords;\n  }\n  ",fragmentShaderCode:"\n  precision mediump float;\n  uniform vec4 color;\n  varying vec4 varyingColors;\n\n  varying vec2 varyingTextureCoords;\n  uniform sampler2D sampler;\n  void main(void) {\n    gl_FragColor = texture2D(sampler, varyingTextureCoords);\n  }\n  ",valuesForInit:{drawMode:"TRIANGLE_STRIP",topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:e=>{const t=e.vertices=[-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1];e.vertexCount=t.length/4;const{gl:r,shaderProgram:o}=e;e.buffer=he.createBuffer(r,new Float32Array(t)),he.createAttrib(r,o,"coords",2,4*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,o,"textureCoords",2,4*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT,!1)},loadTexture:e=>{const t=document.createElement("img");t.crossOrigin="",t.addEventListener("load",(function(){const{gl:r,shaderProgram:o}=e,n=r.createTexture(),i=r.getUniformLocation(o,"sampler");r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,1),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texImage2D(r.TEXTURE_2D,0,r.RGB,r.RGB,r.UNSIGNED_BYTE,t),r.uniform1i(i,0)})),t.src="img/cat.jpg"},clearBuffers:e=>{}},[Z]:{vertexShaderCode:"\n  attribute vec4 coords;\n  uniform mat4 transformMatrix;\n  uniform mat4 perspectiveMatrix;\n\n  attribute vec3 normal;\n  uniform vec3 lightColor;\n  uniform vec3 lightDirection;\n\n  varying vec4 varyingColors;\n  void main(void){\n    vec3 norm = normalize(normal);\n    vec3 ld = normalize(lightDirection);\n    float dotProduct = max(dot(norm, ld), 0.0);\n    vec3 vertexColor = lightColor * vec3(1, 1, 0) * dotProduct;\n    varyingColors = vec4(vertexColor, 1);\n\n    gl_Position = perspectiveMatrix * transformMatrix * coords;\n  }\n  ",fragmentShaderCode:"\n  precision mediump float;\n  varying vec4 varyingColors;\n  void main(void) {\n    gl_FragColor = varyingColors;\n  }\n  ",valuesForInit:{zMatrixTranslate:-4,isWithoutPointSize:!0,isDrawElemnts:!0,topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:e=>{const t=e.vertices=[-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1,-1,1,1,1,1,1,-1,-1,1,1,-1,1];e.vertexCount=t.length/3;const{gl:r,shaderProgram:o}=e;e.buffer=he.createBuffer(r,new Float32Array(t)),he.createAttrib(r,o,"coords",3,0,0,!1);e.normalBuffer=he.createBuffer(r,new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0])),he.createAttrib(r,o,"normal",3,0,0);const n=r.getUniformLocation(o,"lightColor");r.uniform3f(n,1,1,1);const i=r.getUniformLocation(o,"lightDirection");r.uniform3f(i,.5,1,0)},createIndices:e=>{const t=e.indices=[0,1,2,1,2,3,2,3,4,3,4,5,4,5,6,5,6,7,6,7,0,7,0,1,0,2,6,2,6,4,1,3,7,3,7,5];e.indexCount=t.length;const{gl:r}=e;e.indexBuffer=he.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:e=>{const{gl:t,buffer:r,indexBuffer:o}=e;t.deleteBuffer(r),t.deleteBuffer(o)}},[V]:{valuesForInit:{zMatrixTranslate:-4,isDrawElemnts:!0,drawMode:"LINES",isDynamicTranslate:!0,trZStep:.005,trZ:-4,trZD:-1,minTrZ:-10,maxTrZ:-2},createVertices:e=>{const t=e.vertices=[0,0,0,1,1,1,1,-1,-1,-1,1,0,0,1,1,-1,-1,1,1,0,1,-1,1,-1,1,0,0,1,1,1,-1,1,1,0,1,-1,-1,1,1,0,0,1,1,-1,1,1,1,0,1,-1,1,1,1,0,0,1,1,1,1,1,1,0,1];e.vertexCount=t.length/7;const{gl:r,shaderProgram:o}=e;e.buffer=he.createBuffer(r,new Float32Array(t)),he.createAttrib(r,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},createIndices:e=>{const t=e.indices=[0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,1,2,2,4,4,3,3,1,1,5,5,6,6,2,6,8,8,7,7,5,8,4,7,3];e.indexCount=t.length;const{gl:r}=e;e.indexBuffer=he.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:e=>{const{gl:t,buffer:r,indexBuffer:o}=e;t.deleteBuffer(r),t.deleteBuffer(o)}}},Be=e=>{const t=e&&ke[e]||ke.DF;return t.valuesForInit={...Re,...t.valuesForInit},t.key=e,{Comp:Ne,props:t}},Fe=t=>{const r=(0,e.useRef)(t);return(0,e.useMemo)((()=>[e=>{r.current=e},()=>r.current]),[])},Pe=e=>{let{id:t,style:r,title:o}=e;return a("label",{className:"not-selected",style:r,htmlFor:t,children:o})};var De=r(38);const Ge={position:"relative",display:"inline-block",backgroundColor:"rgb(225, 225, 203)",margin:"0 5px",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},Oe={display:"inline-block"},Ye={display:"inline",color:"green",width:40,height:26,marginRight:5,fontSize:"16px",fontWeight:"bold",backgroundColor:"#e1e1cb",background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none"},ze={width:"100%",margin:"0 0 5px 0",borderWidth:"medium medium 2px",borderStyle:"none none solid",borderColor:"red",borderImage:"none"},Ue={display:"inline-block",position:"relative",borderColor:"rgb(103, 58, 183) transparent transparent",borderStyle:"solid",borderWidth:"12px 6px 4px",cursor:"pointer"},We={...Ue,transform:"rotateX(180deg)",margin:"0 6px",top:-16},Ze={...Ue,top:-12,marginRight:6},Ve=()=>{},He={0:{borderColor:"#f44336"},1:{borderColor:"#673ab7"},2:{borderColor:"#9e9e9e"}},Xe=(e,t)=>oe(t)?e!==parseFloat(t)?1:2:0,Ke=e=>{let{initialValue:t="0"}=e;return{mode:oe(t)?2:0,value:t,initedValue:t}},je=(e,t,r)=>(e.mode=t,e.value=r,{...e}),qe="dfKey",$e=.1,Je=(0,e.forwardRef)(((t,r)=>{const{id:o,inputStyle:n,initialValue:i,inputKey:l=qe,step:s=$e,onChangeMode:c=Ve,onKeyDownEnter:d=Ve}=t,p=(0,e.useRef)(),[u,f]=(0,e.useState)((()=>Ke(t))),{mode:m,value:h,initedValue:g}=u,v=e=>{m!==e&&c(l,e)},b=()=>{const e=new De.default(h).plus(s).toString(),t=Xe(g,e);v(t),f((r=>je(r,t,e)))},y=()=>{const e=new De.default(h).minus(s).toString(),t=Xe(g,e);v(t),f((r=>je(r,t,e)))};(0,e.useEffect)((()=>{f(Ke(t))}),[i]),(0,e.useImperativeHandle)(r,(()=>({getValue:()=>parseFloat(h),setMode:e=>{f((t=>(t.mode=e,2===e&&(t.initedValue=h),{...t})))}})));const x=He[m];return a("div",{style:Ge,children:[a("button",{style:We,onClick:b}),a("div",{style:Oe,children:[a("input",{ref:p,id:o,type:"text",style:{...Ye,...n},value:h,onChange:e=>{const t=e.target.value,r=Xe(g,t);v(r),f((e=>je(e,r,t)))},onKeyDown:e=>{switch(e.keyCode){case 13:d();break;case 27:{const e=h!==g||""+g=="0"?2:1;v(e),f((t=>je(t,e,g)));break}case 38:e.preventDefault(),b();break;case 40:e.preventDefault(),y();break;default:return}}}),a("hr",{style:{...ze,...x}})]}),a("button",{style:Ze,onClick:y})]})})),Qe={color:"#fefcff",height:30,padding:"4px 6px",marginLeft:16,fontSize:"16px",fontWeight:"bold",backgroundColor:"#673ab7",border:"2px solid #673ab7",borderRadius:8},et={0:{...Qe,color:"#f44336",backgroundColor:"#9e9e9e",border:"2px solid #9e9e9e"},1:{...Qe,border:"2px solid #673ab7"},2:{...Qe,backgroundColor:"#9e9e9e",border:"2px solid #9e9e9e"}},tt=(0,e.forwardRef)(((t,r)=>{let{mode:o=2,style:n,onClick:i}=t;const[l,s]=(0,e.useState)(o);(0,e.useImperativeHandle)(r,(()=>({setMode:s})),[]);return a("button",{className:"bt",style:{...n,...et[l]},onClick:1===l?i:void 0,children:"Set"})})),rt={Label:Pe,OpenClose:k,InputFloat:Je,ButtonSet:tt},ot=e=>{let{item:t,propCaption:r}=e;return a("span",{children:t[r]})},nt="zhn-select",it=nt+"__input",at=nt+"__spinner",lt=nt+"__spinner--failed",st=nt+"__input__hr",ct=nt+"__options",dt=nt+"__options__div",pt=nt+"__row",ut=nt+"__row--active",ft=nt+"__footer",mt=nt+"__footer__index",ht=nt+"__footer__bts",gt=nt+"__footer--margin",vt=(e,t)=>e?-1!==(""+e).indexOf("%")?{...t,width:e}:{...t,width:e+"px"}:null,bt=Array.isArray,yt=e=>bt(e)?e[0]?e[1]:"":e||"",xt=(e,t)=>{const r=yt(e),o=yt(t);return r?o?r+" "+o:r:o||void 0},Et=e=>{let{className:t,style:r,caption:o="",onClick:n,...i}=e;return a("button",{...i,className:xt("zhn-bt-circle2",t),style:r,onClick:n,children:a("div",{children:o})})},Ct={backgroundColor:"#949ab4"},_t=(0,e.forwardRef)(((e,t)=>{let{indexActiveOption:r,nFiltered:o,nAll:n,onStepDown:i,onStepUp:l,onClear:s}=e;return a("div",{className:ft+" not-selected",children:[a("span",{className:mt,children:[a("span",{ref:t,children:r}),a("span",{children:[": ",o,": ",n]})]}),a("span",{className:ht,children:[a(Et,{className:gt,style:Ct,caption:"Dn",onClick:i}),a(Et,{className:gt,style:Ct,caption:"Up",onClick:l}),a(Et,{style:Ct,caption:"CL",onClick:s})]})]})})),Tt={display:"block"},wt={display:"none"},St=e=>{let{refOptionsComp:t,refIndexNode:r,rootOptionsStyle:o,width:n,isShowOption:i,domOptions:l,indexActiveOption:s,nFiltered:c,nAll:d,onStepUp:p,onStepDown:u,onClear:f}=e;const m=vt(n,i?Tt:wt);return a("div",{className:ct,style:m,"data-scrollable":!0,children:[a("div",{ref:t,className:dt,style:{...o,...m},children:l}),a(_t,{ref:r,indexActiveOption:s,nAll:d,nFiltered:c,onStepUp:p,onStepDown:u,onClear:f})]})},At=e=>{let{options:t,indexActiveOption:r,propCaption:o,ItemOptionComp:n,onClick:i}=e;return t.map(((e,t)=>a("div",{role:"option","aria-selected":r===t,tabIndex:"0",className:pt,"data-index":t,onClick:t=>i(e,t),children:a(n,{item:e,propCaption:o})},t)))},Nt={position:"absolute",top:10,right:0,width:35,paddingRight:5,textAlign:"center",verticalAlign:"middle",cursor:"pointer"},Rt={position:"relative",top:2,display:"inline-block",height:0,width:0,borderColor:"#999 transparent transparent",borderStyle:"solid",borderWidth:"10px 8px 4px"},Lt=e=>{const r=t(e);return r&&r.style||{}},It=(0,e.forwardRef)(((t,r)=>{let{arrowStyle:o,onClick:n}=t;const i=(0,e.useRef)(),l=(0,e.useRef)();return(0,e.useImperativeHandle)(r,(()=>({startAnimation:()=>{Lt(i).animation="circle infinite 1.25s linear",Lt(l).borderColor="#1b75bb transparent transparent"},stopAnimation:()=>{Lt(i).animation=""}}))),a("button",{ref:i,style:Nt,tabIndex:"-1",onClick:n,children:a("span",{ref:l,style:{...Rt,...o}})})})),Mt={borderColor:"#1b75bb transparent transparent"},kt=(e,t,r,o)=>{const{isLoading:n,isLoadingFailed:i,placeholder:l,optionName:s="",onLoadOption:c}=e,{isShowOption:d,optionNames:p}=t;return n||i?n?["Loading "+p+"...",a("span",{className:at,"data-loader":"circle"})]:i?["Loading "+p+" Failed",a(Et,{className:lt,"data-loader":"circle-failed",onClick:c})]:[]:[l||"Select "+s+"...",a(It,{ref:r,arrowStyle:d?Mt:void 0,onClick:o})]},Bt="From input:",Ft=(e,t,r,o)=>{const n=((e,t,r)=>{const o=t.toLowerCase();return(e||[]).filter((e=>-1!==e[r].toLowerCase().indexOf(o)))})(t,e,r);return 0===n.length&&n.push(((e,t,r)=>{const o=String(e).replace(Bt,"").trim();return{[t]:r?Bt+" "+o:"No results found",value:"noresult",inputValue:o}})(e,r,o)),n},Pt=e=>"number"==typeof e&&e-e==0,Dt=e=>{const{dataset:t}=e,{index:r}=t||{};return Number(r)},Gt=(r,o)=>(0,e.useMemo)((()=>[e=>{if(e){e.classList.add(ut);const o=Dt(e),n=t(r);n&&Pt(o)&&(n.textContent=o+1)}},e=>{const t=e||o();t&&t.classList.remove(ut)}]),[]),Ot=e=>(e.children||{}).length,Yt=(r,o,n,i,a,l)=>(0,e.useMemo)((()=>[()=>{const e=o();if(e){i(e);const s=t(r);a(l()+1),l()>=Ot(s)&&(a(0),s.scrollTop=0);const c=o();n(c);const d=c.offsetTop,p=s.scrollTop;d-p>70&&(s.scrollTop+=d-p-70)}},()=>{const e=o();if(e){i(e);const s=t(r);if(a(l()-1),l()<0){a(Ot(s)-1);const e=o();s.scrollTop=e.offsetTop}const c=o();n(c);const d=c.offsetTop,p=s.scrollTop;d-p<70&&(s.scrollTop-=70-(d-p))}}]),[]),zt=[],Ut=e=>{let{optionName:t,optionNames:r,options:o=zt}=e;return{value:"",initialOptions:o,options:o,optionNames:r||t||""}},Wt=()=>{},Zt={...rt,InputSelect:r=>{const{rootStyle:o,width:n,rootOptionsStyle:i,propCaption:l="caption",ItemOptionComp:s=ot,isWithInput:c=!1,onSelect:d=Wt}=r,p=(0,e.useRef)(),u=(0,e.useRef)(),f=(0,e.useRef)(),m=(0,e.useRef)(),[h,g]=Fe(0),[v,b]=(0,e.useState)((()=>Ut(r))),{value:y,options:x,initialOptions:E}=v,[C,_]=T(!1),w=(0,e.useCallback)((()=>{b((()=>Ut(r))),_(!1),h(0)}),[r]),S=(0,e.useCallback)((()=>((t(f)||{}).childNodes||[])[g()]),[]),[A,N]=Gt(m,S),[R,L]=Yt(f,S,A,N,h,g),I=(0,e.useCallback)(((e,t)=>{N(),h(Dt(t.currentTarget)),_(!1),b((t=>({...t,value:e[l]}))),d(e)}),[]),M=(0,e.useMemo)((()=>a(At,{options:x,indexActiveOption:g(),propCaption:l,ItemOptionComp:s,onClick:I})),[x]);(0,e.useEffect)((()=>{if(C){const e=S();A(e),(e=>{if(e){const{offsetTop:t}=e,r=e.parentElement,{scrollTop:o}=r;t-o>70&&(r.scrollTop+=t-o-70),t-o<0&&(r.scrollTop=0)}})(e)}}),[C]);const k=g(),B=vt(n,o),[F,P]=kt(r,v,p,_),[D,G]=(e=>{let{options:t,initialOptions:r}=e;return[t[0]&&"noresult"!==t[0].value?t.length:0,r?r.length:0]})(v);return a("div",{className:nt,style:B,children:[a("input",{ref:u,className:it,type:"text",name:"select",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,value:y,placeholder:F,onChange:e=>{const t=e.target.value,r=t.length,o=y.length;if(r!==o){0!==g()&&(N(),h(0)),b((e=>({...e,value:t,options:Ft(t,r>o?x:E,l,c)}))),_(!0)}},onKeyDown:e=>{switch(e.keyCode){case 13:{const e=g();if(Pt(e)){const t=x[e];if(t&&t[l]){const e="noresult"!==t.value?t:c?((e,t)=>({[t]:"From Input",value:e.inputValue}))(t,l):void 0;d(e),_(!1),b((e=>({...e,value:t[l]})))}}else d();break}case 27:case 46:e.preventDefault(),C?_(!1):(N(),w(),d());break;case 40:C?(e.preventDefault(),R()):_(!0);break;case 38:C&&(e.preventDefault(),L());break;default:return}}}),P,a("hr",{className:st}),C&&a(St,{refOptionsComp:f,refIndexNode:m,rootOptionsStyle:i,width:n,isShowOption:C,domOptions:M,indexActiveOption:k,nFiltered:D,nAll:G,onStepUp:L,onStepDown:R,onClear:()=>{N(),d(),w()}})]})}},Vt={float:"left",margin:"8px 0 16px 20px"},Ht={color:"forestgreen",fontSize:"16px",fontWeight:"bold"},Xt={backgroundColor:"#33373a"},Kt={display:"flex",alignItems:"center",paddingTop:6},jt={paddingBottom:8},qt={margin:"8px 0 16px 0"},$t={display:"inline-block",width:65,textAlign:"end"},Jt=[{caption:"TRIANGLES",value:"TRIANGLES"},{caption:"TRIANGLE_STRIP",value:"TRIANGLE_STRIP"},{caption:"TRIANGLE_FAN",value:"TRIANGLE_FAN"},{caption:"LINES",value:"LINES"},{caption:"LINE_STRIP",value:"LINE_STRIP"},{caption:"LINE_LOOP",value:"LINE_LOOP"},{caption:"POINTS",value:"POINTS"}],Qt={position:"relative",top:-6},er=t=>{let{onGetComp:r}=t;const[o,n]=Fe(),i=(0,e.useCallback)((()=>{const e=n();if(e){r().drawMode=e.value}}),[r,n]);return a(Zt.OpenClose,{caption:"DrawMode",style:Xt,childrenStyle:jt,children:a("div",{style:Kt,children:[a(Zt.InputSelect,{width:"170",options:Jt,styleRoot:qt,onSelect:o}),a(Zt.ButtonSet,{style:Qt,mode:1,onClick:i})]})})},tr=r=>t((0,e.useRef)(r)),rr={marginTop:12,display:"flex",alignItems:"center"},or={color:"grey",paddingLeft:24,fontWeight:"bold",fontSize:"16px"},nr={width:45},ir=()=>{},ar="inputFloat",lr=r=>{let{inputId:o,labelBy:n,value:i,propKey:l,styleLabel:s,onGetComp:c,fnAfterSet:d=ir}=r;const p=(0,e.useRef)(),u=(0,e.useRef)(),f=(0,e.useRef)({[ar]:2,bt:2}),m=(0,e.useCallback)(((e,r)=>{const o=t(f);o[ar]=r;const n=0===(i=r)?0:1===i?1:2;var i;o.bt!==n&&(o.bt=n,t(u).setMode(n))}),[]),h=(0,e.useCallback)((e=>{const r=t(f);r[ar]=e,r.bt=e,t(p).setMode(e),t(u).setMode(e)}),[]),g=(0,e.useCallback)((()=>{const e=c();e[l]=t(p).getValue(),d(e),h(2)}),[l,c,d,h]);return a("div",{style:rr,children:[a(Zt.Label,{id:o,style:{...or,...s},title:n}),a(Zt.InputFloat,{ref:p,id:o,inputKey:ar,inputStyle:nr,initialValue:i,step:.001,onChangeMode:m,onKeyDownEnter:g}),a(Zt.ButtonSet,{ref:u,onClick:g})]})},sr=e=>{let{perspectiveNear:t,perspectiveFar:r,onGetComp:o}=e;const n=tr((e=>{e.createPerspective(e)}));return a(k,{caption:"Perspective",style:Xt,childrenStyle:jt,children:[a(lr,{labelBy:"Near:",inputId:"pNear",value:t,propKey:"perspectiveNear",styleLabel:$t,onGetComp:o,fnAfterSet:n}),a(lr,{labelBy:"Far:",inputId:"pFar",value:r,styleLabel:$t,propKey:"perspectiveFar",onGetComp:o,fnAfterSet:n})]})},cr=e=>{let{zMatrixTranslate:t,onGetComp:r}=e;const o=tr((e=>{e.configMatrix(e)}));return a(k,{caption:"Translate",style:Xt,childrenStyle:jt,children:a(lr,{labelBy:"Z:",inputId:"tZ",value:t,propKey:"zMatrixTranslate",onGetComp:r,fnAfterSet:o})})},dr=e=>{let{rX:t,rY:r,rZ:o,onGetComp:n}=e;return a(k,{isClose:!0,caption:"Rotate",style:Xt,children:[a(lr,{labelBy:"X:",inputId:"rX",value:t,propKey:"rX",onGetComp:n}),a(lr,{labelBy:"Y:",inputId:"rY",value:r,propKey:"rY",onGetComp:n}),a(lr,{labelBy:"Z:",inputId:"rZ",value:o,propKey:"rZ",onGetComp:n})]})},pr=e=>{let{onGetComp:t,valuesForInit:r}=e;const{perspectiveNear:o,perspectiveFar:n,zMatrixTranslate:i,rX:l,rY:s,rZ:c}=r;return a("div",{style:Vt,children:[a("span",{style:Ht,children:"Config WebGL Topic"}),a(er,{onGetComp:t}),a(sr,{perspectiveNear:o,perspectiveFar:n,onGetComp:t}),a(cr,{zMatrixTranslate:i,onGetComp:t}),a(dr,{rX:l,rY:s,rZ:c,onGetComp:t})]})},ur="container",fr=ur+"__content",mr=t=>{let{store:r}=t;const[o,i]=(0,e.useState)(),l=(0,e.useRef)(null),s=(0,e.useMemo)((()=>()=>l.current),[]),{Comp:c,props:d}=(0,e.useMemo)((()=>Be(o)),[o]),{valuesForInit:p}=d;return g(r,((e,t)=>{e===y&&i(t.topicId)})),a("div",{className:ur,role:"document",children:a("main",{className:fr,role:"main",children:a("div",{className:"row",children:[(0,n.createElement)(c,{...d,ref:l,key:d.key}),a(pr,{valuesForInit:p,onGetComp:s})]})})})},hr=e=>{let{store:t}=e;return a("div",{className:"app",role:"application",children:[a(h,{}),a(J,{store:t}),a(mr,{store:t})]})},gr={_setTopicId(e){this.state.topicId=e},onViewTopic(e){this._setTopicId(e),this.trigger(y,this.state)}},vr=b().createStore({listenables:[x],state:{topicId:Y},...gr});(0,e.render)(a(hr,{store:vr}),document.getElementById("app"))})()})();