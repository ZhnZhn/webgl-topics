!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="app/",r(r.s=9)}([function(e,t,r){e.exports=r(3)(54)},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,r){e.exports=r(3)(191)},function(e,t){e.exports=lib_vendor},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){e.exports=r(3)(180)},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){e.exports=r(3)(197)},function(e,t,r){e.exports=r(3)(103)},function(e,t,r){"use strict";r.r(t);var o=r(0),n=r.n(o),i=r(8),a=function(e){var t=e.className,r=e.title;return n.a.createElement("span",{className:t,title:r},n.a.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2","stroke-width":"2"},n.a.createElement("title",null,r),n.a.createElement("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),n.a.createElement("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),n.a.createElement("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})))};a.propTypes={className:o.PropTypes.string,title:o.PropTypes.string};var s=a,l=function(e){var t=e.className,r=e.style,o=e.caption;return n.a.createElement("span",{className:t,style:r},o)};l.propTypes={className:o.PropTypes.string,style:o.PropTypes.object,caption:o.PropTypes.string};var p,c=l,u=function(e){var t=e.className,r=e.title,o=e.href;return n.a.createElement("a",{className:t,title:r,href:o},n.a.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"1.414"},n.a.createElement("title",null,"GitHub Logo"),n.a.createElement("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})))},d="WebGL Topics v0.01.0",f=function(){return n.a.createElement("header",{className:"header",role:"banner"},n.a.createElement(s,{className:"header__icon-app",title:d}),n.a.createElement(c,{className:"header__label-app",caption:d}),n.a.createElement(u,{className:"header__github-link",title:"GitHub Repository",href:"https://github.com/zhnzhn/webgl-topics"}))},h=r(1),m=r.n(h),v=r(5),g=r.n(v),E={VIEW_TOPIC:"viewTopic"},T=g.a.createActions(((p={})[E.VIEW_TOPIC]={},p)),y={rootDiv:{lineHeight:1.5,backgroundColor:"#4D4D4D"},labelCaption:{paddingLeft:"4px",verticalAlign:"top",color:"rgba(164, 135, 212, 1)",fontFamily:"Roboto, Arial Unicode MS, Arial, sans-serif",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},itemRow:{backgroundColor:"#404040"}},b=n.a.createClass({displayName:"OpenClose",getInitialState:function(){return{isOpen:!this.props.isClose,pathOpen:"M 2,14 L 14,14 14,2 2,14",fillOpen:"yellow",pathClose:"M 2,2 L 14,8 2,14 2,2",fillClose:"#33373A"}},_handlerClickOpenClose:function(){this.state.isOpen=!this.state.isOpen,this.setState(this.state)},render:function(){var e,t,r,o,i=this.props,a=i.style,s=i.toogleStyle;return this.state.isOpen?(e=this.state.pathOpen,t=this.state.fillOpen,r="block",o="show-popup"):(e=this.state.pathClose,t=this.state.fillClose,r="none",o=null),n.a.createElement("div",{style:Object.assign({},y.rootDiv,a)},n.a.createElement("div",{className:"not-selected",style:s,onClick:this._handlerClickOpenClose},n.a.createElement("div",{style:{width:"16px",height:"16px",display:"inline-block"}},n.a.createElement("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block"}},n.a.createElement("path",{d:e,fill:t,strokeWidth:"1",stroke:"yellow"}))),n.a.createElement("span",{style:y.labelCaption},this.props.caption)),n.a.createElement("div",{className:o,style:{display:r}},this.props.children))}}),_={ROOT:{lineHeight:2.5,backgroundColor:"#24282A"},ITEM:{color:"gray"},ITEM_CURRENT:{borderRight:"8px solid #80c040"}},C=function(e){var t=e.dataModel,r=e.topicId,o=e.toogleStyle,i=t.caption,a=t.items;return n.a.createElement(b,{caption:i,style:_.ROOT,toogleStyle:o},function(e,t){return e.map((function(e,r){var o=e.id,i=e.title,a=e.onClick,s=r%2?"row__topic__even not-selected":"row__topic__odd not-selected",l=o===t?_.ITEM_CURRENT:void 0;return n.a.createElement("div",{key:o,className:s,style:Object.assign({},_.ITEM,l),onClick:a},i)}))}(a,r))},x=n.a.createClass({displayName:"Menu",_renderMenuParts:function(e,t,r){return t.map((function(t,o){return n.a.createElement(C,{key:o,toogleStyle:e,dataModel:t,topicId:r})}))},render:function(){var e=this.props,t=e.rootStyle,r=e.toogleStyle,o=e.menuModel,i=e.topicId;return n.a.createElement("div",{style:t},this._renderMenuParts(r,o,i))}}),O={RANDOM_TRIANGLES:"RANDOM_TRIANGLES",CROWN:"CROWN",PLANE:"PLANE",CUBE:"CUBE",TEXTURE_IMAGE:"TEXTURE_IMAGE",CUBE_WITH_LIGHT:"CUBE_WITH_LIGHT",CUBE_TRANSPARENT:"CUBE_TRANSPARENT"},A=[{caption:"WebGL with gl-matrix",items:[{id:O.RANDOM_TRIANGLES,title:"Random Triangles",onClick:function(){return T.viewTopic(O.RANDOM_TRIANGLES)}},{id:O.CROWN,title:"Crown Sample",onClick:function(){return T.viewTopic(O.CROWN)}},{id:O.PLANE,title:"Plane",onClick:function(){return T.viewTopic(O.PLANE)}},{id:O.CUBE,title:"Cube",onClick:function(){return T.viewTopic(O.CUBE)}},{id:O.TEXTURE_IMAGE,title:"TextureImage",onClick:function(){return T.viewTopic(O.TEXTURE_IMAGE)}},{id:O.CUBE_WITH_LIGHT,title:"CubeWithLight",onClick:function(){return T.viewTopic(O.CUBE_WITH_LIGHT)}},{id:O.CUBE_TRANSPARENT,title:"CubeTransparent",onClick:function(){return T.viewTopic(O.CUBE_TRANSPARENT)}}]}],S=function(e){function t(t){var r;(r=e.call(this,t)||this)._onStore=function(e,t){e===E.VIEW_TOPIC&&r.setState({topicId:t.topicId})};var o=t.store;return r.state={topicId:o.state.topicId},r}m()(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props.store;this.unsubscribe=e.listen(this._onStore)},r.componentWillUnmount=function(){this.unsubscribe()},r.render=function(){var e=this.state.topicId;return n.a.createElement("section",{className:"sidebar",tabindex:"-1"},n.a.createElement("div",{className:"sidebar__menu",role:"navigation"},n.a.createElement(x,{toogleStyle:{paddingLeft:"6px"},menuModel:A,topicId:e})),n.a.createElement("div",{className:"sidebar__footer"},n.a.createElement("button",{className:"sidebar__footer__link",type:"button"},"Footer Button")))},t}(o.Component);S.propTypes={store:o.PropTypes.object.isRequired};var R=S,P=r(6),I=r.n(P),w=r(4),N=r.n(w),L={LINK:{display:"table-cell"},PRO:{marginLeft:"4px",padding:"3px 7px",display:"inline-block",borderRadius:"3px",color:"#ffffff",textDecoration:"none",background:"#ef494f",fontWeight:"700"}},M={EGGHEAD:function(e){var t=e.style,r=e.title,o=e.href,i=e.isPro?n.a.createElement("span",{style:L.PRO},"P"):void 0;return n.a.createElement("a",{className:"native-link",style:Object.assign({},L.LINK,t),href:o},n.a.createElement("span",null,r),i)}},B=function(e){var t=e.canvas,r=t.width,o=t.height,n=e.gl=t.getContext("webgl");n.enable(n.DEPTH_TEST),n.viewport(0,0,r,o),n.clearColor(.5,.5,.5,1)},D=function(e){e.prototype.initGL=B},k="FRAGMENT",F="VERTEX",G=function(e,t,r){var o;if(r===k)o=e.createShader(e.FRAGMENT_SHADER);else{if(r!==F)return null;o=e.createShader(e.VERTEX_SHADER)}return e.shaderSource(o,t),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(alert(e.getShaderInfoLog(o)),null)},U=function(e){var t=e.gl,r=e.props,o=void 0===r?{}:r,n=o.vertexShaderCode,i=void 0===n?"\nattribute float pointSize;\nattribute vec4 coords;\nattribute vec4 colors;\nuniform mat4 transformMatrix;\nuniform mat4 perspectiveMatrix;\nvarying vec4 varyingColors;\nvoid main(void){\n  gl_Position = perspectiveMatrix * transformMatrix * coords;\n  gl_PointSize = pointSize;\n  varyingColors = colors;\n}\n":n,a=o.fragmentShaderCode,s=void 0===a?"\nprecision mediump float;\nvarying vec4 varyingColors;\nvoid main(void) {\n  gl_FragColor = varyingColors;\n}\n":a,l=G(t,i,F),p=G(t,s,k);e.shaderProgram=t.createProgram(),t.attachShader(e.shaderProgram,l),t.attachShader(e.shaderProgram,p),t.linkProgram(e.shaderProgram),t.useProgram(e.shaderProgram)},W=function(e){e.prototype.createShaders=U},V=r(2),j=function(e){var t=e.canvas,r=e.gl,o=e.shaderProgram,n=e.perspectiveNear,i=e.perspectiveFar,a=V.mat4.create();V.mat4.perspective(a,1,t.width/t.height,n,i);var s=r.getUniformLocation(o,"perspectiveMatrix");r.uniformMatrix4fv(s,!1,a)},H=function(e){e.prototype.createPerspective=j},z=function(e){var t=e.gl,r=e.shaderProgram,o=t.getAttribLocation(r,"pointSize");t.vertexAttrib1f(o,20)},Y=function(e){e.prototype.setPointSize=z},K=function(e){var t=e.gl,r=e.shaderProgram,o=e.zMatrixTranslate,n=void 0===o?-2:o,i=e.matrix=V.mat4.create();V.mat4.translate(i,i,[0,0,n]),e.matrixLocation=t.getUniformLocation(r,"transformMatrix")},Z=function(e){e.prototype.configMatrix=K},X={createBuffer:function(e,t,r){void 0===r&&(r="ARRAY_BUFFER");var o=e.createBuffer();return e.bindBuffer(e[r],o),e.bufferData(e[r],t,e.STATIC_DRAW),o},createAttrib:function(e,t,r,o,n,i,a){void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=!0);var s=e.getAttribLocation(t,r);return e.vertexAttribPointer(s,o,e.FLOAT,!1,n,i),e.enableVertexAttribArray(s),a&&e.bindBuffer(e.ARRAY_BUFFER,null),this},translateMatrix:function(e){var t=e.matrix,r=e.trZ,o=e.trZD,n=e.minTrZ,i=e.maxTrZ,a=e.trZStep;-1===o?r>n?e.trZ=r-a:e.trZD=1:r<i?e.trZ=r+a:e.trZD=-1;var s=V.mat4.create();V.mat4.translate(s,s,[0,0,e.trZD*a]),V.mat4.multiply(t,s,t)},rotateMatrix:function(e){var t=e.matrix,r=e.rX,o=e.rY,n=e.rZ;V.mat4.rotateX(t,t,r),V.mat4.rotateY(t,t,o),V.mat4.rotateZ(t,t,n)}},q=function(e){var t=e.gl,r=e.isAnimate,o=e.vertexCount,n=e.isStopDraw,i=e.draw,a=e.drawMode,s=void 0===a?"TRIANGLES":a,l=e.isDrawElemnts,p=e.indexCount,c=e.isDynamicTranslate,u=e.matrixLocation,d=e.matrix;r&&(X.rotateMatrix(e),c&&X.translateMatrix(e),t.uniformMatrix4fv(u,!1,d),t.clear(t.COLOR_BUFFER_BIT),l?t.drawElements(t[s],p,t.UNSIGNED_BYTE,0):t.drawArrays(t[s],0,o)),n?e.props.clearBuffers(e):window.requestAnimationFrame(i.bind(null,e))},$=function(e){e.prototype.draw=q},J={zMatrixTranslate:-2,rX:-.007,rY:.012,rZ:.01,perspectiveNear:.1,perspectiveFar:10},Q=function(e){return"function"==typeof e},ee=/^-?\d*(\.\d+)?$/,te=function(e){var t=(""+e).trim();return!isNaN(parseFloat(t))&&(""!==t&&ee.test(t))},re=function(e){var t=e.initGL,r=e.createShaders,o=e.createPerspective,n=e.setPointSize,i=e.configMatrix,a=e.draw,s=e.props,l=s.valuesForInit,p=s.createVertices,c=s.createIndices,u=s.loadTexture,d=s.draw,f=Object.assign({},J,l);for(var h in f)e[h]=f[h];t(e),r(e),p(e),e.isWithoutPerspective||o(e),e.isWithoutPointSize||n(e),i(e),Q(c)&&c(e),Q(u)&&u(e),Q(d)?d(e):a(e)},oe=function(e){e.prototype.startAnimation=re},ne={BT:{color:"#673ab7",fontSize:"16px",fontWeight:"bold",border:"2px solid #673ab7",borderRadius:"8px",padding:"6px 8px",marginLeft:"16px",position:"relative"}},ie=function(e){var t=e.caption,r=e.style,o=e.onClick;return n.a.createElement("button",{className:"bt",style:Object.assign({},ne.BT,r),tabIndex:"0",onClick:o},t)};ie.propTypes={caption:o.PropTypes.string,style:o.PropTypes.object,onClick:o.PropTypes.func},ie.defaultProps={onClick:function(){}};var ae,se,le,pe,ce=ie,ue={ROOT:{position:"relative",float:"left"},BT_RUN:{position:"absolute",top:"8px",right:"8px"}},de=D(ae=W(ae=H(ae=Y(ae=Z(ae=$(ae=oe((le=se=function(e){function t(t){var r;return(r=e.call(this)||this)._handleClickCanvas=function(){r.isAnimate=!r.isAnimate,r.forceUpdate()},r._renderTopicLink=function(e){if(e){var t=e.topicLink,r=void 0===t?{}:t,o=r.type,i=M[o];return void 0===i?void 0:n.a.createElement(i,r)}},r.isAnimate=!0,r.isStopDraw=!1,r}m()(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props.startAnimation;"function"==typeof e?e(this):this.startAnimation(this)},r.componentWillUnmount=function(){this.isStopDraw=!0},r.render=function(){var e=this,t=this.props.valuesForInit;return n.a.createElement("div",{style:ue.ROOT},n.a.createElement("canvas",{ref:function(t){return e.canvas=t},width:500,height:500,style:{borderRadius:"2px"},onClick:this._handleClickCanvas},"Your browser doesn't appear to support the",n.a.createElement("code",null,"<canvas>")," element."),!1===this.isAnimate&&n.a.createElement(ce,{caption:"Run Animation",style:ue.BT_RUN,onClick:this._handleClickCanvas}),this._renderTopicLink(t))},t}(o.Component),se.propTypes={valuesForInit:o.PropTypes.object},ae=le))||ae)||ae)||ae)||ae)||ae)||ae)||ae,fe={valuesForInit:{topicLink:{type:"EGGHEAD",title:"Egghead : Course : Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl"}},createVertices:function(e){for(var t=e.gl,r=e.shaderProgram,o=e.vertices=[],n=e.colors=[],i=e.vertexCount=30,a=0;a<i;a++)o.push(2*Math.random()-1),o.push(2*Math.random()-1),o.push(2*Math.random()-1),n.push(Math.random()),n.push(Math.random()),n.push(Math.random()),n.push(1);e.buffer=X.createBuffer(t,new Float32Array(o)),X.createAttrib(t,r,"coords",3),e.colorBuffer=X.createBuffer(t,new Float32Array(n)),X.createAttrib(t,r,"colors",4)},clearBuffers:function(e){var t=e.gl,r=e.buffer,o=e.colorBuffer;t.deleteBuffer(r),t.deleteBuffer(o)}},he={valuesForInit:{topicLink:{type:"EGGHEAD",title:"Egghead : Course : Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[.88,-.25,-.18,1,0,0,1,.9,.25,0,1,0,0,1,.88,-.25,.18,1,0,0,1,.85,-.25,.29,1,1,0,1,.78,.25,.45,1,1,0,1,.67,-.25,.6,1,1,0,1,.6,-.25,.67,0,1,0,1,.45,.25,.78,0,1,0,1,.29,-.25,.85,0,1,0,1,.18,-.25,.88,0,1,1,1,0,.25,.9,0,1,1,1,-.18,-.25,.88,0,1,1,1,-.29,-.25,.85,0,0,1,1,-.45,.25,.78,0,0,1,1,-.6,-.25,.67,0,0,1,1];e.vertexCount=t.length/7;var r=e.gl,o=e.shaderProgram;e.buffer=X.createBuffer(r,new Float32Array(t)),X.createAttrib(r,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},clearBuffers:function(e){var t=e.gl,r=e.buffer;t.deleteBuffer(r)}},me=function(e,t){e.push(Math.cos(t)),e.push(Math.sin(t)),e.push(.1*Math.sin(10*t))},ve=function(e,t){e.push(.5*Math.sin(10*t)+.5),e.push(.5*Math.sin(8*t)+.5),e.push(.5*Math.sin(12*t)+.5),e.push(1)},ge={valuesForInit:{drawMode:"TRIANGLE_FAN",topicLink:{type:"EGGHEAD",title:"Egghead : Course : Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[];t.push(0,.9,.3,1,1,1,1);for(var r=0;r<2*Math.PI;r+=.01)me(t,r),ve(t,r);r=2*Math.PI,me(t,r),ve(t,r),e.vertexCount=t.length/7;var o=e.gl,n=e.shaderProgram;e.buffer=X.createBuffer(o,new Float32Array(t)),X.createAttrib(o,n,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(o,n,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},clearBuffers:function(e){var t=e.gl,r=e.buffer;t.deleteBuffer(r)}},Ee={valuesForInit:{zMatrixTranslate:-4,isDrawElemnts:!0,topicLink:{type:"EGGHEAD",title:"Egghead : Course : Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,-1,1,0,0,1,1,-1,-1,1,1,0,1,-1,1,-1,0,1,1,1,1,1,-1,0,0,1,1,-1,1,1,1,.5,0,1,1,1,1,.5,1,1,1,-1,-1,1,1,0,.5,1,1,-1,1,.5,0,1,1];e.vertexCount=t.length/7;var r=e.gl,o=e.shaderProgram;e.buffer=X.createBuffer(r,new Float32Array(t)),X.createAttrib(r,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},createIndices:function(e){var t=e.indices=[0,1,2,1,2,3,2,3,4,3,4,5,4,5,6,5,6,7,6,7,0,7,0,1,0,2,6,2,6,4,1,3,7,3,7,5];e.indexCount=t.length;var r=e.gl;e.indexBuffer=X.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,r=e.buffer,o=e.indexBuffer;t.deleteBuffer(r),t.deleteBuffer(o)}},Te={vertexShaderCode:"\n  attribute vec4 coords;\n  attribute float pointSize;\n  uniform mat4 transformMatrix;\n  uniform mat4 perspectiveMatrix;\n  attribute vec4 colors;\n  varying vec4 varyingColors;\n\n  attribute vec2 textureCoords;\n  varying vec2 varyingTextureCoords;\n  void main(void){\n    gl_Position = perspectiveMatrix * transformMatrix * coords;\n    gl_PointSize = pointSize;\n    varyingColors = colors;\n\n    varyingTextureCoords = textureCoords;\n  }\n  ",fragmentShaderCode:"\n  precision mediump float;\n  uniform vec4 color;\n  varying vec4 varyingColors;\n\n  varying vec2 varyingTextureCoords;\n  uniform sampler2D sampler;\n  void main(void) {\n    gl_FragColor = texture2D(sampler, varyingTextureCoords);\n  }\n  ",valuesForInit:{drawMode:"TRIANGLE_STRIP",topicLink:{type:"EGGHEAD",title:"Egghead : Course : Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1];e.vertexCount=t.length/4;var r=e.gl,o=e.shaderProgram;e.buffer=X.createBuffer(r,new Float32Array(t)),X.createAttrib(r,o,"coords",2,4*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,o,"textureCoords",2,4*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT,!1)},loadTexture:function(e){var t=document.createElement("img");t.crossOrigin="",t.addEventListener("load",(function(){var r=e.gl,o=e.shaderProgram,n=r.createTexture(),i=r.getUniformLocation(o,"sampler");r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,1),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texImage2D(r.TEXTURE_2D,0,r.RGB,r.RGB,r.UNSIGNED_BYTE,t),r.uniform1i(i,0)})),t.src="img/cat.jpg"},clearBuffers:function(e){}},ye={vertexShaderCode:"\n  attribute vec4 coords;\n  uniform mat4 transformMatrix;\n  uniform mat4 perspectiveMatrix;\n\n  attribute vec3 normal;\n  uniform vec3 lightColor;\n  uniform vec3 lightDirection;\n\n  varying vec4 varyingColors;\n  void main(void){\n    vec3 norm = normalize(normal);\n    vec3 ld = normalize(lightDirection);\n    float dotProduct = max(dot(norm, ld), 0.0);\n    vec3 vertexColor = lightColor * vec3(1, 1, 0) * dotProduct;\n    varyingColors = vec4(vertexColor, 1);\n\n    gl_Position = perspectiveMatrix * transformMatrix * coords;\n  }\n  ",fragmentShaderCode:"\n  precision mediump float;\n  varying vec4 varyingColors;\n  void main(void) {\n    gl_FragColor = varyingColors;\n  }\n  ",valuesForInit:{zMatrixTranslate:-4,isWithoutPointSize:!0,isDrawElemnts:!0,topicLink:{type:"EGGHEAD",title:"Egghead : Course : Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1,-1,1,1,1,1,1,-1,-1,1,1,-1,1];e.vertexCount=t.length/3;var r=e.gl,o=e.shaderProgram;e.buffer=X.createBuffer(r,new Float32Array(t)),X.createAttrib(r,o,"coords",3,0,0,!1);e.normalBuffer=X.createBuffer(r,new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0])),X.createAttrib(r,o,"normal",3,0,0);var n=r.getUniformLocation(o,"lightColor");r.uniform3f(n,1,1,1);var i=r.getUniformLocation(o,"lightDirection");r.uniform3f(i,.5,1,0)},createIndices:function(e){var t=e.indices=[0,1,2,1,2,3,2,3,4,3,4,5,4,5,6,5,6,7,6,7,0,7,0,1,0,2,6,2,6,4,1,3,7,3,7,5];e.indexCount=t.length;var r=e.gl;e.indexBuffer=X.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,r=e.buffer,o=e.indexBuffer;t.deleteBuffer(r),t.deleteBuffer(o)}},be={valuesForInit:{zMatrixTranslate:-4,isDrawElemnts:!0,drawMode:"LINES",isDynamicTranslate:!0,trZStep:.005,trZ:-4,trZD:-1,minTrZ:-10,maxTrZ:-2},createVertices:function(e){var t=e.vertices=[0,0,0,1,1,1,1,-1,-1,-1,1,0,0,1,1,-1,-1,1,1,0,1,-1,1,-1,1,0,0,1,1,1,-1,1,1,0,1,-1,-1,1,1,0,0,1,1,-1,1,1,1,0,1,-1,1,1,1,0,0,1,1,1,1,1,1,0,1];e.vertexCount=t.length/7;var r=e.gl,o=e.shaderProgram;e.buffer=X.createBuffer(r,new Float32Array(t)),X.createAttrib(r,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},createIndices:function(e){var t=e.indices=[0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,1,2,2,4,4,3,3,1,1,5,5,6,6,2,6,8,8,7,7,5,8,4,7,3];e.indexCount=t.length;var r=e.gl;e.indexBuffer=X.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,r=e.buffer,o=e.indexBuffer;t.deleteBuffer(r),t.deleteBuffer(o)}},_e=((pe={DEFAULT:{props:fe}})[O.RANDOM_TRIANGLES]={props:fe},pe[O.CROWN]={props:he},pe[O.PLANE]={props:ge},pe[O.CUBE]={props:Ee},pe[O.TEXTURE_IMAGE]={props:Te},pe[O.CUBE_WITH_LIGHT]={props:ye},pe[O.CUBE_TRANSPARENT]={props:be},pe),Ce=function(e){var t=_e[e],r=t?t.props:_e.DEFAULT.props;return r.key=e+Date.now(),{Comp:de,props:r}},xe={rootDiv:{position:"relative",display:"inline-block",backgroundColor:"#E1E1CB",width:"170px",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},inputText:{background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none",height:"30px",paddingLeft:"10px",color:"green",width:"140px",fontSize:"16px",fontWeight:"bold"},rootOptionDiv:{position:"absolute",left:0,backgroundColor:"#E1E1CB",color:"green",width:"170px",zIndex:"10",borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px"},optionDiv:{minHeight:"160px",maxHeight:"200px",overflow:"auto"},spinnerCell:{position:"relative",left:"8px",top:"4px",display:"inline-block",width:"16px",height:"16px"},spinnerFailedCell:{position:"relative",left:"8px",top:"4px",display:"inline-block",width:"16px",height:"16px",borderColor:"#F44336",cursor:"pointer"},arrowCell:{cursor:"pointer",position:"relative",textAlign:"center",verticalAlign:"middle",width:"35px",paddingRight:"5px",marginLeft:"10px"},arrow:{borderColor:"#999 transparent transparent",borderStyle:"solid",borderWidth:"5px 5px 2.5px",display:"inline-block",height:"0px",width:"0px"},inputHr:{borderWidth:"medium medium 2px",borderStyle:"none none solid",borderColor:"#1B75BB",borderImage:"none",margin:0,marginLeft:"10px",marginBottom:"5px",width:"150px"},itemDiv:{cursor:"pointer",paddingTop:"4px",paddingLeft:"5px",paddingBottom:"4px"},itemOdd:{backgroundColor:"#C3C3AC"},itemEven:{backgroundColor:"#D5D5BC"},optionsFooter:{backgroundColor:"silver",borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px"},fileredSpan:{display:"inline-block",color:"gray",fontWeight:"bold",paddingLeft:"10px",paddingTop:"4px",paddingBottom:"4px"}},Oe=n.a.createClass({displayName:"ZhSelect",getDefaultProps:function(){return{options:[],optionName:"",optionNames:"",isUpdateOptions:!1}},getInitialState:function(){this.domOptionsCache=null,this.indexActiveOption=0;var e=this.props,t=e.optionName,r=e.optionNames,o=t?" "+t:"",n=r?" "+r:t?o:"";return{value:"",isShowOption:!1,options:this.props.options,optionName:o,optionNames:n,isValidDomOptionsCache:!1,isLocalMode:!1}},componentWillReceiveProps:function(e){this.props!==e&&(this.props.options!==e.options||e.isUpdateOptions)&&this._setStateToInit(e.options)},shouldComponentUpdate:function(e,t){return this.props!==e||e.isUpdateOptions?t.isLocalMode=!1:t.isLocalMode=!0,!0},componentDidUpdate:function(){if(this.state.isShowOption){var e=this._getDomForActiveOption();this._decorateOfDomActiveOption(e),this._makeVisibleOfDomActiveOption(e)}},_setStateToInit:function(e){this.indexActiveOption=0,this.setState({value:"",isShowOption:!1,options:e,isValidDomOptionsCache:!1})},_getDomForActiveOption:function(){return this.refs["v"+this.indexActiveOption]},_decorateOfDomActiveOption:function(e){e&&e.classList.add("option-row__active")},_decorateActiveOption:function(){this.refs["v"+this.indexActiveOption].classList.add("option-row__active")},_undecorateActiveOption:function(){this.refs["v"+this.indexActiveOption]&&this.refs["v"+this.indexActiveOption].classList.remove("option-row__active")},_undecorateOfDomActiveOption:function(e){e&&e.classList.remove("option-row__active")},_makeVisibleOfDomActiveOption:function(e){if(e){var t=e.offsetTop,r=this.domOptions.scrollTop;t-r>70&&(this.domOptions.scrollTop+=t-r-70),t-r<0&&(this.domOptions.scrollTop=0)}},_makeVisibleActiveOption:function(){var e=this.refs["v"+this.indexActiveOption].offsetTop,t=this.domOptions.scrollTop;e-t>70&&(this.domOptions.scrollTop+=e-t-70)},_filterOptionsToState:function(e,t){var r=t.toLowerCase();return e.filter((function(e,t){return-1!==e.caption.toLowerCase().indexOf(r)}))},_handlerInputChange:function(e){var t=e.target.value,r=[];t.length!==this.state.value.length&&(t.length>this.state.value.length?r=this._filterOptionsToState(this.state.options,t):t.length<this.state.value.length&&(r=this._filterOptionsToState(this.props.options,t)),0===r.length&&r.push({caption:"No results found",value:"noresult"}),this._undecorateActiveOption(),this.indexActiveOption=0,this.setState({value:t,isShowOption:!0,isValidDomOptionsCache:!1,options:r}))},_handlerInputKeyDown:function(e){switch(e.keyCode){case 13:var t=this.state.options[this.indexActiveOption];t&&t.caption&&(this.setState({value:t.caption,isShowOption:!1,isValidDomOptionsCache:!0}),"noresult"!==t.value?this.props.onSelect(t):this.props.onSelect(null));break;case 27:this.state.isShowOption?this.setState({isShowOption:!1}):(this._undecorateActiveOption(),this._setStateToInit(this.props.options),this.props.onSelect(null));break;case 40:if(this.state.isShowOption){e.preventDefault();var r=this._getDomForActiveOption();if(r){this._undecorateOfDomActiveOption(r),this.indexActiveOption+=1,this.indexActiveOption>=this.state.options.length&&(this.indexActiveOption=0,this.domOptions.scrollTop=0),r=this._getDomForActiveOption(),this._decorateOfDomActiveOption(r);var o=this.refs["v"+this.indexActiveOption].offsetTop,n=this.domOptions.scrollTop;o-n>70&&(this.domOptions.scrollTop+=o-n-70)}}else this.setState({isShowOption:!0});break;case 38:if(this.state.isShowOption){e.preventDefault();var i=this._getDomForActiveOption();if(i){if(this._undecorateOfDomActiveOption(i),this.indexActiveOption-=1,this.indexActiveOption<0){this.indexActiveOption=this.state.options.length-1;var a=this.refs["v"+this.indexActiveOption].offsetTop;this.domOptions.scrollTop=a}i=this._getDomForActiveOption(),this._decorateOfDomActiveOption(i);var s=i.offsetTop,l=this.domOptions.scrollTop;s-l<70&&(this.domOptions.scrollTop-=70-(s-l))}}break;default:return}},_handlerToggleOptions:function(){this.setState({isShowOption:!this.state.isShowOption})},_handlerClickOption:function(e,t,r){this.indexActiveOption=t,this.setState({value:e.caption,isShowOption:!1}),this.props.onSelect(e)},renderOptions:function(){var e,t=this,r=this.state,o=r.isShowOption,i=r.options,a=r.isValidDomOptionsCache;i&&(a?e=this.domOptionsCache:(e=i.map((function(e,r){var o=r%2==0?xe.itemOdd:xe.itemEven;return n.a.createElement("div",{className:"option-row",style:Object.assign({},xe.itemDiv,o),key:r,ref:"v"+r,onClick:t._handlerClickOption.bind(t,e,r)},e.caption)})),this.domOptionsCache=e));var s=this.props.width,l=o?{display:"block"}:{display:"none"},p=s?{width:s+"px"}:null,c=i[0]&&"noresult"!==i[0].value?i.length:0,u=this.props.options?this.props.options.length:0;return n.a.createElement("div",{style:Object.assign({},xe.rootOptionDiv,l,p)},n.a.createElement("div",{ref:function(e){return t.domOptions=e},key:"1",style:Object.assign({},xe.optionDiv,l,p)},e),n.a.createElement("div",{key:"2",style:xe.optionsFooter},n.a.createElement("span",{style:xe.fileredSpan},"Filtered ",c," : ",u)))},_renderAfterInput:function(e,t,r){return e||t?e?n.a.createElement("span",{style:xe.spinnerCell,"data-loader":"circle"}):t?n.a.createElement("span",{style:xe.spinnerFailedCell,"data-loader":"circle-failed",onClick:this.props.onLoadOption}):void 0:n.a.createElement("span",{style:xe.arrowCell,onClick:this._handlerToggleOptions},n.a.createElement("span",{style:Object.assign({},xe.arrow,r)}))},render:function(){var e=this,t=this.props,r=t.width,o=t.styleRoot,i=this.state,a=i.value,s=i.isLocalMode,l=i.isShowOption,p=l?{borderColor:"#1B75BB transparent transparent"}:null,c=null,u=null,d=null;r&&(c={width:r+"px"},u={width:r-30+"px"},d={width:r-40+"px"});var f,h,m=s||l?this.renderOptions():null,v=this.props,g=v.isLoading,E=v.isLoadingFailed,T=v.placeholder,y=this.state,b=y.optionName,_=y.optionNames;return g||E?g?(h="Loading"+_+"...",f=n.a.createElement("span",{style:xe.spinnerCell,"data-loader":"circle"})):E&&(h="Loading"+_+" Failed",f=n.a.createElement("span",{style:xe.spinnerFailedCell,"data-loader":"circle-failed",onClick:this.props.onLoadOption})):(h=T||"Select"+b+"...",f=n.a.createElement("span",{style:xe.arrowCell,onClick:this._handlerToggleOptions},n.a.createElement("span",{style:Object.assign({},xe.arrow,p)}))),n.a.createElement("div",{style:Object.assign({},xe.rootDiv,c,o)},n.a.createElement("input",{ref:function(t){return e.domInputText=t},type:"text",value:a,style:Object.assign({},xe.inputText,u),placeholder:h,onChange:this._handlerInputChange,onKeyDown:this._handlerInputKeyDown}),f,n.a.createElement("hr",{style:Object.assign({},xe.inputHr,d)}),m)},focusInput:function(){this.domInputText.focus()},focusNotValidInput:function(){this.domInputText.focus()}}),Ae={BT:{color:"#fefcff",fontSize:"16px",fontWeight:"bold",backgroundColor:"#673ab7",border:"2px solid #673ab7",borderRadius:"8px",padding:"4px 6px",marginLeft:"16px",position:"relative",top:"4px"},VALID_CHANGED:{border:"2px solid #673ab7"},VALID_NOT_CHANGED:{backgroundColor:"#9e9e9e",border:"2px solid #9e9e9e"},NOT_VALID:{color:"#f44336",backgroundColor:"#9e9e9e",border:"2px solid #9e9e9e"}},Se={0:Object.assign({},Ae.BT,Ae.NOT_VALID),1:Object.assign({},Ae.BT,Ae.VALID_CHANGED),2:Object.assign({},Ae.BT,Ae.VALID_NOT_CHANGED)},Re=function(e){function t(t){var r;return(r=e.call(this,t)||this).setMode=function(e){r.setState({mode:e})},r.state={mode:t.mode},r}return m()(t,e),t.prototype.render=function(){var e=this.props.onClick,t=this.state.mode,r=Se[t],o=1===t?e:void 0;return n.a.createElement("button",{className:"bt",style:r,tabIndex:"0",onClick:o},"Set")},t}(o.Component);Re.propTypes={mode:o.PropTypes.number,onClick:o.PropTypes.func},Re.defaultProps={mode:2,onClick:function(){}};var Pe=Re,Ie={ROOT:{float:"left",marginLeft:"20px",marginTop:"8px",marginBottom:"16px"},ROOT_CAPTION:{color:"forestgreen",fontSize:"16px",fontWeight:"bold"},OPEN_CLOSE:{lineHeight:1,paddingTop:"8px",paddingBottom:"8px",backgroundColor:"#33373A"},INPUT_SELECT:{marginTop:"8px",marginBottom:"16px"},LABEL_PERSPECTIVE:{display:"inline-block",width:"65px",textAlign:"end"}},we=[{caption:"TRIANGLES",value:"TRIANGLES"},{caption:"TRIANGLE_STRIP",value:"TRIANGLE_STRIP"},{caption:"TRIANGLE_FAN",value:"TRIANGLE_FAN"},{caption:"LINES",value:"LINES"},{caption:"LINE_STRIP",value:"LINE_STRIP"},{caption:"LINE_LOOP",value:"LINE_LOOP"},{caption:"POINTS",value:"POINTS"}],Ne=function(e){function t(t){var r;return(r=e.call(this,t)||this)._handleSelectDrawMode=function(e){r.drawMode=e},r._handleSetDrawMode=function(){var e=N()(r).drawMode;e&&(r.props.onGetComp().drawMode=e.value)},r}return m()(t,e),t.prototype.render=function(){return n.a.createElement(b,{caption:"DrawMode",style:Ie.OPEN_CLOSE},n.a.createElement(Oe,{options:we,styleRoot:Ie.INPUT_SELECT,onSelect:this._handleSelectDrawMode}),n.a.createElement(Pe,{mode:1,onClick:this._handleSetDrawMode}))},t}(o.Component);Ne.propTypes={onGetComp:o.PropTypes.func.isRequired};var Le=Ne,Me=function(e){for(var t in this.mode)this.mode[t]=e,this[t].setMode(e)},Be=function(e){e.prototype._setModeToAll=Me},De=function(e,t){var r=this.mode.bt;this.mode[e]=t;var o=this._calcInputMode();r!==o&&(this.mode.bt=o,this.bt.setMode(o))},ke=function(e){e.prototype._onChangeMode=De},Fe=function(){var e=this.mode;for(var t in e)if("bt"!==t&&0===e[t])return 0;for(var r in e)if("bt"!==r&&1===e[r])return 1;return 2},Ge=function(e){e.prototype._calcInputMode=Fe},Ue=function(e){var t=e.style,r=e.title,o=e.id;return n.a.createElement("label",{className:"not-selected",style:t,htmlFor:o},r)};Ue.propTypes={style:o.PropTypes.object,title:o.PropTypes.string,id:o.PropTypes.string};var We=Ue,Ve=r(7),je=r.n(Ve),He={ROOT:{position:"relative",display:"inline-block",backgroundColor:"rgb(225, 225, 203)",marginLeft:"5px",marginRight:"5px",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},DIV_INPUT:{display:"inline-block"},INPUT:{display:"inline",background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none",height:"26px",color:"green",width:"40px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#E1E1CB",marginRight:"5px"},HR:{borderWidth:"medium medium 2px",borderStyle:"none none solid",borderColor:"red",borderImage:"none",margin:0,marginBottom:"5px",width:"100%"},VALID_CHANGED:{borderColor:"#673ab7"},VALID_NOT_CHANGED:{borderColor:"#9e9e9e"},NOT_VALID:{borderColor:"#F44336"},ARROW:{display:"inline-block",position:"relative",borderColor:"rgb(103, 58, 183) transparent transparent",borderStyle:"solid",borderWidth:"12px 6px 4px",cursor:"pointer"},ARROW_PLUS:{transform:"rotateX(180deg)",marginLeft:"6px",marginRight:"6px",top:"3px"},ARROW_MINUS:{top:"8px",marginRight:"6px"}},ze={0:He.NOT_VALID,1:He.VALID_CHANGED,2:He.VALID_NOT_CHANGED},Ye=function(e){function t(t){var r;return(r=e.call(this,t)||this)._getInitedState=function(e){var t=e.value,o=e.step,n=e.onChangeMode,i=e.onKeyDownEnter;return r.isOnChangeModeFn=Q(n),r.isOnKeyDownEnterFn=Q(i),{mode:r._onTest(t)?2:0,value:t,initedValue:t,step:o}},r._calcMode=function(e){return r._onTest(e)?r._isChanged(e)?1:2:0},r._onTest=function(e){return te(e)},r._isChanged=function(e){return r.state.initedValue!==parseFloat(e)},r._increaseOnStep=function(){var e=r.state,t=e.value,o=e.step,n=new je.a(t).plus(o).toString(),i=r._calcMode(n);r._callOnChangeMode(i),r.setState({mode:i,value:n})},r._decreaseOnStep=function(){var e=r.state,t=e.value,o=e.step,n=new je.a(t).minus(o).toString(),i=r._calcMode(n);r._callOnChangeMode(i),r.setState({mode:i,value:n})},r._handleClickRoot=function(){r.input.focus()},r._handleInputChange=function(e){var t=e.target.value;r._updateValue(t)},r._handleInputKeyDown=function(e){switch(e.keyCode){case 13:r.isOnKeyDownEnterFn&&r.props.onKeyDownEnter();break;case 27:var t=r.state,o=t.value,n=t.initedValue;o!==n||""+n=="0"?(r._callOnChangeMode(2),r.setState({mode:2,value:n})):(r._callOnChangeMode(1),r.setState({mode:1,value:0}));break;case 38:e.preventDefault(),r._increaseOnStep();break;case 40:e.preventDefault(),r._decreaseOnStep();break;default:return}},r._callOnChangeMode=function(e){var t=r.state.mode;if(r.isOnChangeModeFn&&t!==e){var o=r.props,n=o.inputKey;(0,o.onChangeMode)(n,e)}},r._updateValue=function(e){var t=r._calcMode(e);r._callOnChangeMode(t),r.setState({mode:t,value:e})},r.state=r._getInitedState(t),r}m()(t,e);var r=t.prototype;return r.componentWillReceiveProps=function(e){e!==this.props&&this.setState(this._getInitedState(e))},r.render=function(){var e=this,t=this.props,r=t.inputStyle,o=t.id,i=this.state,a=i.value,s=i.mode,l=ze[s];return n.a.createElement("div",{style:He.ROOT,onClick:this._handleClickRoot},n.a.createElement("span",{style:Object.assign({},He.ARROW,He.ARROW_PLUS),onClick:this._increaseOnStep}),n.a.createElement("div",{style:He.DIV_INPUT},n.a.createElement("input",{ref:function(t){return e.input=t},id:o,type:"text",style:Object.assign({},He.INPUT,r),value:a,onChange:this._handleInputChange,onKeyDown:this._handleInputKeyDown}),n.a.createElement("hr",{style:Object.assign({},He.HR,l)})),n.a.createElement("span",{style:Object.assign({},He.ARROW,He.ARROW_MINUS),onClick:this._decreaseOnStep}))},r.getValue=function(){return parseFloat(this.state.value)},r.setMode=function(e){if(2===e){var t=this.state.value;this.setState({mode:e,initedValue:t})}else this.setState({mode:e})},t}(o.Component);Ye.propTypes={inputKey:o.PropTypes.string,inputStyle:o.PropTypes.object,value:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.number]),step:o.PropTypes.number,onChangeMode:o.PropTypes.func,onKeyDownEnter:o.PropTypes.func},Ye.defaultProps={inputKey:"dfKey",value:"0",step:.1,onChangeMode:function(){},onKeyDownEnter:function(){}};var Ke,Ze,Xe,qe=Ye,$e={ROW:{marginTop:"12px"},CAPTION:{color:"gray",paddingRight:"16px",fontWeight:"bold",fontSize:"16px"},LABEL:{color:"gray",fontWeight:"bold",fontSize:"16px"},LABEL_ROW:{paddingLeft:"24px",color:"gray",fontWeight:"bold",fontSize:"16px"},INPUT_FLOAT_2:{width:"35px"},INPUT_FLOAT_3:{width:"45px"}},Je=Be(Ke=ke(Ke=Ge((Xe=Ze=function(e){function t(t){var r;return(r=e.call(this,t)||this)._handleSetValue=function(){var e=r.props,t=e.onGetComp,o=e.propKey,n=e.fnAfterSet,i=t();i[o]=r.inputFloat.getValue(),"function"==typeof n&&n(i),r._setModeToAll(2)},r.mode={inputFloat:2,bt:2},r}return m()(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.labelBy,o=t.inputId,i=t.value,a=t.styleLabel;return n.a.createElement("div",{style:$e.ROW},n.a.createElement(We,{style:Object.assign({},$e.LABEL_ROW,a),title:r,id:o}),n.a.createElement(qe,{ref:function(t){return e.inputFloat=t},id:o,inputKey:"inputFloat",inputStyle:$e.INPUT_FLOAT_3,value:i,step:.001,onChangeMode:this._onChangeMode.bind(this),onKeyDownEnter:this._handleSetValue}),n.a.createElement(Pe,{ref:function(t){return e.bt=t},onClick:this._handleSetValue}))},t}(o.Component),Ze.propTypes={labelBy:o.PropTypes.string.isRequired,value:o.PropTypes.number.isRequired,propKey:o.PropTypes.string.isRequired,styleLabel:o.PropTypes.object,onGetComp:o.PropTypes.func.isRequired,fnAfterSet:o.PropTypes.func},Ke=Xe))||Ke)||Ke)||Ke,Qe=function(e){function t(t){var r;return(r=e.call(this,t)||this)._fnAfterSet=function(e){e.createPerspective(e)},r}return m()(t,e),t.prototype.render=function(){var e=this.props,t=e.perspectiveNear,r=e.perspectiveFar,o=e.onGetComp;return n.a.createElement(b,{caption:"Perspective",style:Ie.OPEN_CLOSE},n.a.createElement(Je,{labelBy:"Near:",inputId:"pNear",value:t,propKey:"perspectiveNear",styleLabel:Ie.LABEL_PERSPECTIVE,onGetComp:o,fnAfterSet:this._fnAfterSet}),n.a.createElement(Je,{labelBy:"Far:",inputId:"pFar",value:r,styleLabel:Ie.LABEL_PERSPECTIVE,propKey:"perspectiveFar",onGetComp:o,fnAfterSet:this._fnAfterSet}))},t}(o.Component);Qe.propTypes={perspectiveNear:o.PropTypes.number.isRequired,perspectiveFar:o.PropTypes.number.isRequired,onGetComp:o.PropTypes.func.isRequired};var et=Qe,tt=function(e){function t(t){var r;return(r=e.call(this,t)||this)._fnAfterSet=function(e){e.configMatrix(e)},r}return m()(t,e),t.prototype.render=function(){var e=this.props,t=e.zMatrixTranslate,r=e.onGetComp;return n.a.createElement(b,{caption:"Translate",style:Ie.OPEN_CLOSE},n.a.createElement(Je,{labelBy:"Z:",inputId:"tZ",value:t,propKey:"zMatrixTranslate",onGetComp:r,fnAfterSet:this._fnAfterSet}))},t}(o.Component);tt.propTypes={zMatrixTranslate:o.PropTypes.number.isRequired,onGetComp:o.PropTypes.func.isRequired};var rt=tt,ot=function(e){function t(t){return e.call(this,t)||this}return m()(t,e),t.prototype.render=function(){var e=this.props,t=e.rX,r=e.rY,o=e.rZ,i=e.onGetComp;return n.a.createElement(b,{isClose:!0,caption:"Rotate",style:Ie.OPEN_CLOSE},n.a.createElement(Je,{labelBy:"X:",inputId:"rX",value:t,propKey:"rX",onGetComp:i}),n.a.createElement(Je,{labelBy:"Y:",inputId:"rY",value:r,propKey:"rY",onGetComp:i}),n.a.createElement(Je,{labelBy:"Z:",inputId:"rZ",value:o,propKey:"rZ",onGetComp:i}))},t}(o.Component);ot.propTypes={rX:o.PropTypes.number.isRequired,rY:o.PropTypes.number.isRequired,rZ:o.PropTypes.number.isRequired,onGetComp:o.PropTypes.func.isRequired};var nt=ot,it=function(e){function t(){return e.apply(this,arguments)||this}return m()(t,e),t.prototype.render=function(){var e=this.props,t=e.onGetComp,r=e.valuesForInit,o=r.perspectiveNear,i=r.perspectiveFar,a=r.zMatrixTranslate,s=r.rX,l=r.rY,p=r.rZ;return n.a.createElement("div",{style:Ie.ROOT},n.a.createElement("span",{style:Ie.ROOT_CAPTION},"Config WebGL Topic"),n.a.createElement(Le,{onGetComp:t}),n.a.createElement(et,{perspectiveNear:o,perspectiveFar:i,onGetComp:t}),n.a.createElement(rt,{zMatrixTranslate:a,onGetComp:t}),n.a.createElement(nt,{rX:s,rY:l,rZ:p,onGetComp:t}))},t}(o.Component);it.propTypes={valuesForInit:o.PropTypes.shape({perspectiveNear:o.PropTypes.number,perspectiveFar:o.PropTypes.number,zMatrixTranslate:o.PropTypes.number,rX:o.PropTypes.number,rY:o.PropTypes.number,rZ:o.PropTypes.number}).isRequired,onGetComp:o.PropTypes.func.isRequired};var at=it,st=function(e){function t(t){var r;return(r=e.call(this)||this)._onStore=r._onStore.bind(N()(r)),r.getComponentTopic=r.getComponentTopic.bind(N()(r)),r.state={topidId:void 0},r}m()(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props.store;this.unsubscribe=e.listen(this._onStore)},r._onStore=function(e,t){e===E.VIEW_TOPIC&&this.setState({topicId:t.topicId})},r.componentWillUnmount=function(){this.unsubscribe()},r.getComponentTopic=function(){return this.componentTopic},r.render=function(){var e=this,t=this.state.topicId,r=Ce(t),o=r.Comp,i=r.props,a=i.valuesForInit,s=void 0===a?{}:a,l=Object.assign({},J,s);return n.a.createElement("div",{className:"container",role:"document"},n.a.createElement("main",{className:"container__content",tabIndex:"1",role:"main"},n.a.createElement("div",{className:"row"},n.a.createElement(o,I()({ref:function(t){return e.componentTopic=t}},i)),n.a.createElement(at,{valuesForInit:l,onGetComp:this.getComponentTopic}))))},t}(o.Component);st.propTypes={store:o.PropTypes.shape({listen:o.PropTypes.func})};var lt=st,pt=function(){return n.a.createElement("div",{className:"container__footer",role:"complementary"})},ct=function(e){var t=e.store;return n.a.createElement("div",{className:"app",role:"application"},n.a.createElement(f,null),n.a.createElement(R,{store:t}),n.a.createElement(lt,{store:t}),n.a.createElement(pt,null))},ut={_setTopicId:function(e){this.state.topicId=e},onViewTopic:function(e){this._setTopicId(e),this.trigger(E.VIEW_TOPIC,this.state)}},dt=g.a.createStore(I()({listenables:[T],state:{topicId:O.RANDOM_TRIANGLES}},ut));Object(i.render)(n.a.createElement(ct,{store:dt}),document.getElementById("app"))}]);