!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="app/",n(n.s=10)}([function(e,t,n){e.exports=n(4)(3)},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){e.exports=n(4)(39)},function(e,t){e.exports=lib_vendor},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){e.exports=n(4)(28)},function(e,t,n){e.exports=n(4)(45)},function(e,t,n){e.exports=n(4)(18)},function(e,t,n){e.exports=n(4)(23)},function(e,t,n){"use strict";n.r(t);var o,r,i,a=n(0),l=n.n(a),s=n(8),c=function(e){var t=e.className,n=e.title;return l.a.createElement("span",{className:t,title:n},l.a.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2"},l.a.createElement("title",null,n),l.a.createElement("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),l.a.createElement("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),l.a.createElement("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})))},p=function(e){var t=e.className,n=e.style,o=e.caption;return l.a.createElement("span",{className:t,style:n},o)},d=function(e){var t=e.className,n=e.title,o=e.href;return l.a.createElement("a",{className:t,title:n,href:o},l.a.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.414"},l.a.createElement("title",null,"GitHub Logo"),l.a.createElement("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})))},u="WebGL Topics v0.1.0",f=function(){return l.a.createElement("header",{className:"header",role:"banner"},l.a.createElement(c,{className:"header__icon-app",title:u}),l.a.createElement(p,{className:"header__label-app",caption:u}),l.a.createElement(d,{className:"header__github-link",title:"GitHub Repository",href:"https://github.com/zhnzhn/webgl-topics/"}))},h=n(2),m=n.n(h),v=n(6),g=n.n(v),E={VIEW_TOPIC:"viewTopic"},_=g.a.createActions(((o={})[E.VIEW_TOPIC]={},o)),x=n(1),C=n.n(x),b={ROOT_DIV:{lineHeight:1.5,backgroundColor:"#4D4D4D"},CAPTION:{paddingLeft:"4px",verticalAlign:"top",color:"rgba(164, 135, 212, 1)",fontFamily:"Roboto, Arial Unicode MS, Arial, sans-serif",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},itemRow:{backgroundColor:"#404040"}},y=function(e){function t(t){var n;return(n=e.call(this,t)||this)._hClickOpenClose=function(){n.setState((function(e){return{isOpen:!e.isOpen}}))},n.state={isOpen:!t.isClose,pathOpen:"M 2,14 L 14,14 14,2 2,14",fillOpen:"yellow",pathClose:"M 2,2 L 14,8 2,14 2,2",fillClose:"#33373A"},n}return m()(t,e),t.prototype.render=function(){var e,t,n,o,r=this.props,i=r.style,a=r.toogleStyle,s=r.caption,c=r.children,p=this.state,d=p.isOpen,u=p.pathOpen,f=p.fillOpen,h=p.pathClose,m=p.fillClose;return d?(e=u,t=f,n="block",o="show-popup"):(e=h,t=m,n="none",o=null),l.a.createElement("div",{style:C()({},b.ROOT_DIV,{},i)},l.a.createElement("div",{className:"not-selected",style:a,onClick:this._hClickOpenClose},l.a.createElement("div",{style:{width:"16px",height:"16px",display:"inline-block"}},l.a.createElement("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block"}},l.a.createElement("path",{d:e,fill:t,strokeWidth:"1",stroke:"yellow"}))),l.a.createElement("span",{style:b.CAPTION},s)),l.a.createElement("div",{className:o,style:{display:n}},c))},t}(a.Component),T={ROOT:{lineHeight:2.5,backgroundColor:"#24282A"},ITEM:{color:"gray"},ITEM_CURRENT:{borderRight:"8px solid #80c040"}},O=function(e){var t=e.dataModel,n=e.topicId,o=e.toogleStyle,r=t.caption,i=t.items;return l.a.createElement(y,{caption:r,style:T.ROOT,toogleStyle:o},function(e,t){return e.map((function(e,n){var o=e.id,r=e.title,i=e.onClick,a=n%2?"row__topic__even not-selected":"row__topic__odd not-selected",s=o===t?T.ITEM_CURRENT:void 0;return l.a.createElement("div",{key:o,className:a,style:Object.assign({},T.ITEM,s),onClick:i},r)}))}(i,n))},A=function(e){var t=e.rootStyle,n=e.toogleStyle,o=e.menuModel,r=e.topicId;return l.a.createElement("div",{style:t},function(e,t,n){return t.map((function(t,o){return l.a.createElement(O,{key:o,toogleStyle:e,dataModel:t,topicId:n})}))}(n,o,r))},S={RANDOM_TRIANGLES:"RANDOM_TRIANGLES",CROWN:"CROWN",PLANE:"PLANE",CUBE:"CUBE",TEXTURE_IMAGE:"TEXTURE_IMAGE",CUBE_WITH_LIGHT:"CUBE_WITH_LIGHT",CUBE_TRANSPARENT:"CUBE_TRANSPARENT"},I=[{caption:"WebGL with gl-matrix",items:[{id:S.RANDOM_TRIANGLES,title:"Random Triangles",onClick:function(){return _.viewTopic(S.RANDOM_TRIANGLES)}},{id:S.CROWN,title:"Crown Sample",onClick:function(){return _.viewTopic(S.CROWN)}},{id:S.PLANE,title:"Plane",onClick:function(){return _.viewTopic(S.PLANE)}},{id:S.CUBE,title:"Cube",onClick:function(){return _.viewTopic(S.CUBE)}},{id:S.CUBE_WITH_LIGHT,title:"CubeWithLight",onClick:function(){return _.viewTopic(S.CUBE_WITH_LIGHT)}},{id:S.CUBE_TRANSPARENT,title:"CubeTransparent",onClick:function(){return _.viewTopic(S.CUBE_TRANSPARENT)}}]}],w=function(e){function t(t){var n;(n=e.call(this,t)||this)._onStore=function(e,t){e===E.VIEW_TOPIC&&n.setState({topicId:t.topicId})};var o=t.store;return n.state={topicId:o.state.topicId},n}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.store;this.unsubscribe=e.listen(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.state.topicId;return l.a.createElement("section",{className:"sidebar",tabIndex:"-1"},l.a.createElement("div",{className:"sidebar__menu",role:"navigation"},l.a.createElement(A,{toogleStyle:{paddingLeft:"6px"},menuModel:I,topicId:e})),l.a.createElement("div",{className:"sidebar__footer"},l.a.createElement("button",{className:"sidebar__footer__link"},"Footer Button")))},t}(a.Component),L=n(5),N=n.n(L),R={LINK:{display:"table-cell"},PRO:{marginLeft:"4px",padding:"3px 7px",display:"inline-block",borderRadius:"3px",color:"#ffffff",textDecoration:"none",background:"#ef494f",fontWeight:"700"}},B={EGGHEAD:function(e){var t=e.style,n=e.title,o=e.href,r=e.isPro?l.a.createElement("span",{style:R.PRO},"P"):void 0;return l.a.createElement("a",{className:"native-link",style:Object.assign({},R.LINK,t),href:o},l.a.createElement("span",null,n),r)}},M=function(e){var t=e.canvas,n=t.width,o=t.height,r=e.gl=t.getContext("webgl");r.enable(r.DEPTH_TEST),r.viewport(0,0,n,o),r.clearColor(.5,.5,.5,1)},D=function(e){e.prototype.initGL=M},P="FRAGMENT",F="VERTEX",k=function(e,t,n){var o;if(n===P)o=e.createShader(e.FRAGMENT_SHADER);else{if(n!==F)return null;o=e.createShader(e.VERTEX_SHADER)}return e.shaderSource(o,t),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(alert(e.getShaderInfoLog(o)),null)},G=function(e){var t=e.gl,n=e.props,o=void 0===n?{}:n,r=o.vertexShaderCode,i=void 0===r?"\nattribute float pointSize;\nattribute vec4 coords;\nattribute vec4 colors;\nuniform mat4 transformMatrix;\nuniform mat4 perspectiveMatrix;\nvarying vec4 varyingColors;\nvoid main(void){\n  gl_Position = perspectiveMatrix * transformMatrix * coords;\n  gl_PointSize = pointSize;\n  varyingColors = colors;\n}\n":r,a=o.fragmentShaderCode,l=void 0===a?"\nprecision mediump float;\nvarying vec4 varyingColors;\nvoid main(void) {\n  gl_FragColor = varyingColors;\n}\n":a,s=k(t,i,F),c=k(t,l,P);e.shaderProgram=t.createProgram(),t.attachShader(e.shaderProgram,s),t.attachShader(e.shaderProgram,c),t.linkProgram(e.shaderProgram),t.useProgram(e.shaderProgram)},U=function(e){e.prototype.createShaders=G},W=n(3),V=function(e){var t=e.canvas,n=e.gl,o=e.shaderProgram,r=e.perspectiveNear,i=e.perspectiveFar,a=W.mat4.create();W.mat4.perspective(a,1,t.width/t.height,r,i);var l=n.getUniformLocation(o,"perspectiveMatrix");n.uniformMatrix4fv(l,!1,a)},H=function(e){var t=e.gl,n=e.shaderProgram,o=t.getAttribLocation(n,"pointSize");t.vertexAttrib1f(o,20)},z=function(e){var t=e.gl,n=e.shaderProgram,o=e.zMatrixTranslate,r=void 0===o?-2:o,i=e.matrix=W.mat4.create();W.mat4.translate(i,i,[0,0,r]),e.matrixLocation=t.getUniformLocation(n,"transformMatrix")},Y={createBuffer:function(e,t,n){void 0===n&&(n="ARRAY_BUFFER");var o=e.createBuffer();return e.bindBuffer(e[n],o),e.bufferData(e[n],t,e.STATIC_DRAW),o},createAttrib:function(e,t,n,o,r,i,a){void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=!0);var l=e.getAttribLocation(t,n);return e.vertexAttribPointer(l,o,e.FLOAT,!1,r,i),e.enableVertexAttribArray(l),a&&e.bindBuffer(e.ARRAY_BUFFER,null),this},translateMatrix:function(e){var t=e.matrix,n=e.trZ,o=e.trZD,r=e.minTrZ,i=e.maxTrZ,a=e.trZStep;-1===o?n>r?e.trZ=n-a:e.trZD=1:n<i?e.trZ=n+a:e.trZD=-1;var l=W.mat4.create();W.mat4.translate(l,l,[0,0,e.trZD*a]),W.mat4.multiply(t,l,t)},rotateMatrix:function(e){var t=e.matrix,n=e.rX,o=e.rY,r=e.rZ;W.mat4.rotateX(t,t,n),W.mat4.rotateY(t,t,o),W.mat4.rotateZ(t,t,r)}},Z=function(e){var t=e.gl,n=e.isAnimate,o=e.vertexCount,r=e.isStopDraw,i=e.draw,a=e.drawMode,l=void 0===a?"TRIANGLES":a,s=e.isDrawElemnts,c=e.indexCount,p=e.isDynamicTranslate,d=e.matrixLocation,u=e.matrix;n&&(Y.rotateMatrix(e),p&&Y.translateMatrix(e),t.uniformMatrix4fv(d,!1,u),t.clear(t.COLOR_BUFFER_BIT),s?t.drawElements(t[l],c,t.UNSIGNED_BYTE,0):t.drawArrays(t[l],0,o)),r?e.props.clearBuffers(e):window.requestAnimationFrame(i.bind(null,e))},K={zMatrixTranslate:-2,rX:-.007,rY:.012,rZ:.01,perspectiveNear:.1,perspectiveFar:10},j=function(e){return"function"==typeof e},X=/^-?\d*(\.\d+)?$/,q=function(e){var t=(""+e).trim();return!isNaN(parseFloat(t))&&(""!==t&&X.test(t))},$=function(e){var t=e.initGL,n=e.createShaders,o=e.createPerspective,r=e.setPointSize,i=e.configMatrix,a=e.draw,l=e.props,s=l.valuesForInit,c=l.createVertices,p=l.createIndices,d=l.loadTexture,u=l.draw,f=Object.assign({},K,s);for(var h in f)e[h]=f[h];t(e),n(e),c(e),e.isWithoutPerspective||o(e),e.isWithoutPointSize||r(e),i(e),j(p)&&p(e),j(d)&&d(e),j(u)?u(e):a(e)},J={BT:{color:"#673ab7",fontSize:"16px",fontWeight:"bold",border:"2px solid #673ab7",borderRadius:"8px",padding:"6px 8px",marginLeft:"16px",position:"relative"}},Q=function(e){var t=e.caption,n=e.style,o=e.onClick,r=void 0===o?function(){}:o;return l.a.createElement("button",{className:"bt",style:C()({},J.BT,{},n),onClick:r},t)},ee={ROOT:{position:"relative",float:"left"},BT_RUN:{position:"absolute",top:"8px",right:"8px"}},te=D(r=U(r=function(e){e.prototype.createPerspective=V}(r=function(e){e.prototype.setPointSize=H}(r=function(e){e.prototype.configMatrix=z}(r=function(e){e.prototype.draw=Z}(r=function(e){e.prototype.startAnimation=$}(r=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).isAnimate=!0,t.isStopDraw=!1,t._handleClickCanvas=function(){t.isAnimate=!t.isAnimate,t.forceUpdate()},t._renderTopicLink=function(e){if(e){var t=e.topicLink,n=void 0===t?{}:t,o=n.type,r=B[o];return void 0===r?void 0:l.a.createElement(r,n)}},t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.startAnimation;"function"==typeof e?e(this):this.startAnimation(this)},n.componentWillUnmount=function(){this.isStopDraw=!0},n.render=function(){var e=this,t=this.props.valuesForInit;return l.a.createElement("div",{style:ee.ROOT},l.a.createElement("canvas",{ref:function(t){return e.canvas=t},width:500,height:500,style:{borderRadius:"2px"},onClick:this._handleClickCanvas},"Your browser doesn't appear to support the",l.a.createElement("code",null,"<canvas>")," element."),!1===this.isAnimate&&l.a.createElement(Q,{caption:"Run Animation",style:ee.BT_RUN,onClick:this._handleClickCanvas}),this._renderTopicLink(t))},t}(a.Component))||r)||r)||r)||r)||r)||r)||r,ne={valuesForInit:{topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl"}},createVertices:function(e){for(var t=e.gl,n=e.shaderProgram,o=e.vertices=[],r=e.colors=[],i=e.vertexCount=30,a=0;a<i;a++)o.push(2*Math.random()-1),o.push(2*Math.random()-1),o.push(2*Math.random()-1),r.push(Math.random()),r.push(Math.random()),r.push(Math.random()),r.push(1);e.buffer=Y.createBuffer(t,new Float32Array(o)),Y.createAttrib(t,n,"coords",3),e.colorBuffer=Y.createBuffer(t,new Float32Array(r)),Y.createAttrib(t,n,"colors",4)},clearBuffers:function(e){var t=e.gl,n=e.buffer,o=e.colorBuffer;t.deleteBuffer(n),t.deleteBuffer(o)}},oe={valuesForInit:{topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[.88,-.25,-.18,1,0,0,1,.9,.25,0,1,0,0,1,.88,-.25,.18,1,0,0,1,.85,-.25,.29,1,1,0,1,.78,.25,.45,1,1,0,1,.67,-.25,.6,1,1,0,1,.6,-.25,.67,0,1,0,1,.45,.25,.78,0,1,0,1,.29,-.25,.85,0,1,0,1,.18,-.25,.88,0,1,1,1,0,.25,.9,0,1,1,1,-.18,-.25,.88,0,1,1,1,-.29,-.25,.85,0,0,1,1,-.45,.25,.78,0,0,1,1,-.6,-.25,.67,0,0,1,1];e.vertexCount=t.length/7;var n=e.gl,o=e.shaderProgram;e.buffer=Y.createBuffer(n,new Float32Array(t)),Y.createAttrib(n,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(n,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},clearBuffers:function(e){var t=e.gl,n=e.buffer;t.deleteBuffer(n)}},re=function(e,t){e.push(Math.cos(t)),e.push(Math.sin(t)),e.push(.1*Math.sin(10*t))},ie=function(e,t){e.push(.5*Math.sin(10*t)+.5),e.push(.5*Math.sin(8*t)+.5),e.push(.5*Math.sin(12*t)+.5),e.push(1)},ae={valuesForInit:{drawMode:"TRIANGLE_FAN",topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[];t.push(0,.9,.3,1,1,1,1);for(var n=0;n<2*Math.PI;n+=.01)re(t,n),ie(t,n);n=2*Math.PI,re(t,n),ie(t,n),e.vertexCount=t.length/7;var o=e.gl,r=e.shaderProgram;e.buffer=Y.createBuffer(o,new Float32Array(t)),Y.createAttrib(o,r,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(o,r,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},clearBuffers:function(e){var t=e.gl,n=e.buffer;t.deleteBuffer(n)}},le={valuesForInit:{zMatrixTranslate:-4,isDrawElemnts:!0,topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,-1,1,0,0,1,1,-1,-1,1,1,0,1,-1,1,-1,0,1,1,1,1,1,-1,0,0,1,1,-1,1,1,1,.5,0,1,1,1,1,.5,1,1,1,-1,-1,1,1,0,.5,1,1,-1,1,.5,0,1,1];e.vertexCount=t.length/7;var n=e.gl,o=e.shaderProgram;e.buffer=Y.createBuffer(n,new Float32Array(t)),Y.createAttrib(n,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(n,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},createIndices:function(e){var t=e.indices=[0,1,2,1,2,3,2,3,4,3,4,5,4,5,6,5,6,7,6,7,0,7,0,1,0,2,6,2,6,4,1,3,7,3,7,5];e.indexCount=t.length;var n=e.gl;e.indexBuffer=Y.createBuffer(n,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,n=e.buffer,o=e.indexBuffer;t.deleteBuffer(n),t.deleteBuffer(o)}},se={vertexShaderCode:"\n  attribute vec4 coords;\n  attribute float pointSize;\n  uniform mat4 transformMatrix;\n  uniform mat4 perspectiveMatrix;\n  attribute vec4 colors;\n  varying vec4 varyingColors;\n\n  attribute vec2 textureCoords;\n  varying vec2 varyingTextureCoords;\n  void main(void){\n    gl_Position = perspectiveMatrix * transformMatrix * coords;\n    gl_PointSize = pointSize;\n    varyingColors = colors;\n\n    varyingTextureCoords = textureCoords;\n  }\n  ",fragmentShaderCode:"\n  precision mediump float;\n  uniform vec4 color;\n  varying vec4 varyingColors;\n\n  varying vec2 varyingTextureCoords;\n  uniform sampler2D sampler;\n  void main(void) {\n    gl_FragColor = texture2D(sampler, varyingTextureCoords);\n  }\n  ",valuesForInit:{drawMode:"TRIANGLE_STRIP",topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1];e.vertexCount=t.length/4;var n=e.gl,o=e.shaderProgram;e.buffer=Y.createBuffer(n,new Float32Array(t)),Y.createAttrib(n,o,"coords",2,4*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(n,o,"textureCoords",2,4*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT,!1)},loadTexture:function(e){var t=document.createElement("img");t.crossOrigin="",t.addEventListener("load",(function(){var n=e.gl,o=e.shaderProgram,r=n.createTexture(),i=n.getUniformLocation(o,"sampler");n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,1),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGB,n.RGB,n.UNSIGNED_BYTE,t),n.uniform1i(i,0)})),t.src="img/cat.jpg"},clearBuffers:function(e){}},ce={vertexShaderCode:"\n  attribute vec4 coords;\n  uniform mat4 transformMatrix;\n  uniform mat4 perspectiveMatrix;\n\n  attribute vec3 normal;\n  uniform vec3 lightColor;\n  uniform vec3 lightDirection;\n\n  varying vec4 varyingColors;\n  void main(void){\n    vec3 norm = normalize(normal);\n    vec3 ld = normalize(lightDirection);\n    float dotProduct = max(dot(norm, ld), 0.0);\n    vec3 vertexColor = lightColor * vec3(1, 1, 0) * dotProduct;\n    varyingColors = vec4(vertexColor, 1);\n\n    gl_Position = perspectiveMatrix * transformMatrix * coords;\n  }\n  ",fragmentShaderCode:"\n  precision mediump float;\n  varying vec4 varyingColors;\n  void main(void) {\n    gl_FragColor = varyingColors;\n  }\n  ",valuesForInit:{zMatrixTranslate:-4,isWithoutPointSize:!0,isDrawElemnts:!0,topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1,-1,1,1,1,1,1,-1,-1,1,1,-1,1];e.vertexCount=t.length/3;var n=e.gl,o=e.shaderProgram;e.buffer=Y.createBuffer(n,new Float32Array(t)),Y.createAttrib(n,o,"coords",3,0,0,!1);e.normalBuffer=Y.createBuffer(n,new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0])),Y.createAttrib(n,o,"normal",3,0,0);var r=n.getUniformLocation(o,"lightColor");n.uniform3f(r,1,1,1);var i=n.getUniformLocation(o,"lightDirection");n.uniform3f(i,.5,1,0)},createIndices:function(e){var t=e.indices=[0,1,2,1,2,3,2,3,4,3,4,5,4,5,6,5,6,7,6,7,0,7,0,1,0,2,6,2,6,4,1,3,7,3,7,5];e.indexCount=t.length;var n=e.gl;e.indexBuffer=Y.createBuffer(n,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,n=e.buffer,o=e.indexBuffer;t.deleteBuffer(n),t.deleteBuffer(o)}},pe={valuesForInit:{zMatrixTranslate:-4,isDrawElemnts:!0,drawMode:"LINES",isDynamicTranslate:!0,trZStep:.005,trZ:-4,trZD:-1,minTrZ:-10,maxTrZ:-2},createVertices:function(e){var t=e.vertices=[0,0,0,1,1,1,1,-1,-1,-1,1,0,0,1,1,-1,-1,1,1,0,1,-1,1,-1,1,0,0,1,1,1,-1,1,1,0,1,-1,-1,1,1,0,0,1,1,-1,1,1,1,0,1,-1,1,1,1,0,0,1,1,1,1,1,1,0,1];e.vertexCount=t.length/7;var n=e.gl,o=e.shaderProgram;e.buffer=Y.createBuffer(n,new Float32Array(t)),Y.createAttrib(n,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(n,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},createIndices:function(e){var t=e.indices=[0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,1,2,2,4,4,3,3,1,1,5,5,6,6,2,6,8,8,7,7,5,8,4,7,3];e.indexCount=t.length;var n=e.gl;e.indexBuffer=Y.createBuffer(n,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,n=e.buffer,o=e.indexBuffer;t.deleteBuffer(n),t.deleteBuffer(o)}},de=((i={DEFAULT:{props:ne}})[S.RANDOM_TRIANGLES]={props:ne},i[S.CROWN]={props:oe},i[S.PLANE]={props:ae},i[S.CUBE]={props:le},i[S.TEXTURE_IMAGE]={props:se},i[S.CUBE_WITH_LIGHT]={props:ce},i[S.CUBE_TRANSPARENT]={props:pe},i),ue=function(e){var t=de[e],n=t?t.props:de.DEFAULT.props;return n.key=e+Date.now(),{Comp:te,props:n}},fe=function(e){var t=e.style,n=e.title,o=e.id;return l.a.createElement("label",{className:"not-selected",style:t,htmlFor:o},n)},he=n(9),me={rootDiv:{position:"relative",display:"inline-block",backgroundColor:"#E1E1CB",width:"170px",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},inputText:{background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none",height:"30px",paddingLeft:"10px",color:"green",width:"140px",fontSize:"16px",fontWeight:"bold"},rootOptionDiv:{position:"absolute",left:0,backgroundColor:"#E1E1CB",color:"green",width:"170px",zIndex:"10",borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px"},optionDiv:{minHeight:"160px",maxHeight:"200px",overflow:"auto"},spinnerCell:{position:"relative",left:"8px",top:"4px",display:"inline-block",width:"16px",height:"16px"},spinnerFailedCell:{position:"relative",left:"8px",top:"4px",display:"inline-block",width:"16px",height:"16px",borderColor:"#F44336",cursor:"pointer"},arrowCell:{cursor:"pointer",position:"relative",textAlign:"center",verticalAlign:"middle",width:"35px",paddingRight:"5px",marginLeft:"10px"},arrow:{borderColor:"#999 transparent transparent",borderStyle:"solid",borderWidth:"5px 5px 2.5px",display:"inline-block",height:"0px",width:"0px"},inputHr:{borderWidth:"medium medium 2px",borderStyle:"none none solid",borderColor:"#1B75BB",borderImage:"none",margin:0,marginLeft:"10px",marginBottom:"5px",width:"150px"},itemDiv:{cursor:"pointer",paddingTop:"4px",paddingLeft:"5px",paddingBottom:"4px"},itemOdd:{backgroundColor:"#C3C3AC"},itemEven:{backgroundColor:"#D5D5BC"},optionsFooter:{backgroundColor:"silver",borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px"},fileredSpan:{display:"inline-block",color:"gray",fontWeight:"bold",paddingLeft:"10px",paddingTop:"4px",paddingBottom:"4px"}},ve=n.n(he)()({displayName:"ZhSelect",getDefaultProps:function(){return{options:[],optionName:"",optionNames:"",isUpdateOptions:!1}},getInitialState:function(){this.domOptionsCache=null,this.indexActiveOption=0;var e=this.props,t=e.optionName,n=e.optionNames,o=t?" "+t:"",r=n?" "+n:t?o:"";return{value:"",isShowOption:!1,options:this.props.options,optionName:o,optionNames:r,isValidDomOptionsCache:!1,isLocalMode:!1}},UNSAFE_componentWillReceiveProps:function(e){this.props!==e&&(this.props.options!==e.options||e.isUpdateOptions)&&this._setStateToInit(e.options)},shouldComponentUpdate:function(e,t){return this.props!==e||e.isUpdateOptions?t.isLocalMode=!1:t.isLocalMode=!0,!0},componentDidUpdate:function(){if(this.state.isShowOption){var e=this._getDomForActiveOption();this._decorateOfDomActiveOption(e),this._makeVisibleOfDomActiveOption(e)}},_setStateToInit:function(e){this.indexActiveOption=0,this.setState({value:"",isShowOption:!1,options:e,isValidDomOptionsCache:!1})},_getDomForActiveOption:function(){return this.refs["v"+this.indexActiveOption]},_decorateOfDomActiveOption:function(e){e&&e.classList.add("option-row__active")},_decorateActiveOption:function(){this.refs["v"+this.indexActiveOption].classList.add("option-row__active")},_undecorateActiveOption:function(){this.refs["v"+this.indexActiveOption]&&this.refs["v"+this.indexActiveOption].classList.remove("option-row__active")},_undecorateOfDomActiveOption:function(e){e&&e.classList.remove("option-row__active")},_makeVisibleOfDomActiveOption:function(e){if(e){var t=e.offsetTop,n=this.domOptions.scrollTop;t-n>70&&(this.domOptions.scrollTop+=t-n-70),t-n<0&&(this.domOptions.scrollTop=0)}},_makeVisibleActiveOption:function(){var e=this.refs["v"+this.indexActiveOption].offsetTop,t=this.domOptions.scrollTop;e-t>70&&(this.domOptions.scrollTop+=e-t-70)},_filterOptionsToState:function(e,t){var n=t.toLowerCase();return e.filter((function(e,t){return-1!==e.caption.toLowerCase().indexOf(n)}))},_handlerInputChange:function(e){var t=e.target.value,n=[];t.length!==this.state.value.length&&(t.length>this.state.value.length?n=this._filterOptionsToState(this.state.options,t):t.length<this.state.value.length&&(n=this._filterOptionsToState(this.props.options,t)),0===n.length&&n.push({caption:"No results found",value:"noresult"}),this._undecorateActiveOption(),this.indexActiveOption=0,this.setState({value:t,isShowOption:!0,isValidDomOptionsCache:!1,options:n}))},_handlerInputKeyDown:function(e){switch(e.keyCode){case 13:var t=this.state.options[this.indexActiveOption];t&&t.caption&&(this.setState({value:t.caption,isShowOption:!1,isValidDomOptionsCache:!0}),"noresult"!==t.value?this.props.onSelect(t):this.props.onSelect(null));break;case 27:this.state.isShowOption?this.setState({isShowOption:!1}):(this._undecorateActiveOption(),this._setStateToInit(this.props.options),this.props.onSelect(null));break;case 40:if(this.state.isShowOption){e.preventDefault();var n=this._getDomForActiveOption();if(n){this._undecorateOfDomActiveOption(n),this.indexActiveOption+=1,this.indexActiveOption>=this.state.options.length&&(this.indexActiveOption=0,this.domOptions.scrollTop=0),n=this._getDomForActiveOption(),this._decorateOfDomActiveOption(n);var o=this.refs["v"+this.indexActiveOption].offsetTop,r=this.domOptions.scrollTop;o-r>70&&(this.domOptions.scrollTop+=o-r-70)}}else this.setState({isShowOption:!0});break;case 38:if(this.state.isShowOption){e.preventDefault();var i=this._getDomForActiveOption();if(i){if(this._undecorateOfDomActiveOption(i),this.indexActiveOption-=1,this.indexActiveOption<0){this.indexActiveOption=this.state.options.length-1;var a=this.refs["v"+this.indexActiveOption].offsetTop;this.domOptions.scrollTop=a}i=this._getDomForActiveOption(),this._decorateOfDomActiveOption(i);var l=i.offsetTop,s=this.domOptions.scrollTop;l-s<70&&(this.domOptions.scrollTop-=70-(l-s))}}break;default:return}},_handlerToggleOptions:function(){this.setState({isShowOption:!this.state.isShowOption})},_handlerClickOption:function(e,t,n){this.indexActiveOption=t,this.setState({value:e.caption,isShowOption:!1}),this.props.onSelect(e)},renderOptions:function(){var e,t=this,n=this.state,o=n.isShowOption,r=n.options,i=n.isValidDomOptionsCache;r&&(i?e=this.domOptionsCache:(e=r.map((function(e,n){var o=n%2==0?me.itemOdd:me.itemEven;return l.a.createElement("div",{className:"option-row",style:Object.assign({},me.itemDiv,o),key:n,ref:"v"+n,onClick:t._handlerClickOption.bind(t,e,n)},e.caption)})),this.domOptionsCache=e));var a=this.props.width,s=o?{display:"block"}:{display:"none"},c=a?{width:a+"px"}:null,p=r[0]&&"noresult"!==r[0].value?r.length:0,d=this.props.options?this.props.options.length:0;return l.a.createElement("div",{style:Object.assign({},me.rootOptionDiv,s,c)},l.a.createElement("div",{ref:function(e){return t.domOptions=e},key:"1",style:Object.assign({},me.optionDiv,s,c)},e),l.a.createElement("div",{key:"2",style:me.optionsFooter},l.a.createElement("span",{style:me.fileredSpan},"Filtered ",p," : ",d)))},_renderAfterInput:function(e,t,n){return e||t?e?l.a.createElement("span",{style:me.spinnerCell,"data-loader":"circle"}):t?l.a.createElement("span",{style:me.spinnerFailedCell,"data-loader":"circle-failed",onClick:this.props.onLoadOption}):void 0:l.a.createElement("span",{style:me.arrowCell,onClick:this._handlerToggleOptions},l.a.createElement("span",{style:Object.assign({},me.arrow,n)}))},render:function(){var e=this,t=this.props,n=t.width,o=t.styleRoot,r=this.state,i=r.value,a=r.isLocalMode,s=r.isShowOption,c=s?{borderColor:"#1B75BB transparent transparent"}:null,p=null,d=null,u=null;n&&(p={width:n+"px"},d={width:n-30+"px"},u={width:n-40+"px"});var f,h,m=a||s?this.renderOptions():null,v=this.props,g=v.isLoading,E=v.isLoadingFailed,_=v.placeholder,x=this.state,C=x.optionName,b=x.optionNames;return g||E?g?(h="Loading"+b+"...",f=l.a.createElement("span",{style:me.spinnerCell,"data-loader":"circle"})):E&&(h="Loading"+b+" Failed",f=l.a.createElement("span",{style:me.spinnerFailedCell,"data-loader":"circle-failed",onClick:this.props.onLoadOption})):(h=_||"Select"+C+"...",f=l.a.createElement("span",{style:me.arrowCell,onClick:this._handlerToggleOptions},l.a.createElement("span",{style:Object.assign({},me.arrow,c)}))),l.a.createElement("div",{style:Object.assign({},me.rootDiv,p,o)},l.a.createElement("input",{ref:function(t){return e.domInputText=t},type:"text",value:i,style:Object.assign({},me.inputText,d),placeholder:h,onChange:this._handlerInputChange,onKeyDown:this._handlerInputKeyDown}),f,l.a.createElement("hr",{style:Object.assign({},me.inputHr,u)}),m)},focusInput:function(){this.domInputText.focus()},focusNotValidInput:function(){this.domInputText.focus()}}),ge=n(7),Ee=n.n(ge),_e={ROOT:{position:"relative",display:"inline-block",backgroundColor:"rgb(225, 225, 203)",marginLeft:"5px",marginRight:"5px",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},DIV_INPUT:{display:"inline-block"},INPUT:{display:"inline",background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none",height:"26px",color:"green",width:"40px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#E1E1CB",marginRight:"5px"},HR:{borderWidth:"medium medium 2px",borderStyle:"none none solid",borderColor:"red",borderImage:"none",margin:0,marginBottom:"5px",width:"100%"},VALID_CHANGED:{borderColor:"#673ab7"},VALID_NOT_CHANGED:{borderColor:"#9e9e9e"},NOT_VALID:{borderColor:"#F44336"},ARROW:{display:"inline-block",position:"relative",borderColor:"rgb(103, 58, 183) transparent transparent",borderStyle:"solid",borderWidth:"12px 6px 4px",cursor:"pointer"},ARROW_PLUS:{transform:"rotateX(180deg)",marginLeft:"6px",marginRight:"6px",top:"-16px"},ARROW_MINUS:{top:"-12px",marginRight:"6px"}},xe={0:_e.NOT_VALID,1:_e.VALID_CHANGED,2:_e.VALID_NOT_CHANGED},Ce=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getInitedState=function(e){var t=e.value,o=e.step,r=e.onChangeMode,i=e.onKeyDownEnter;return n.isOnChangeModeFn=j(r),n.isOnKeyDownEnterFn=j(i),{mode:n._onTest(t)?2:0,value:t,initedValue:t,step:o}},n._calcMode=function(e){return n._onTest(e)?n._isChanged(e)?1:2:0},n._onTest=function(e){return q(e)},n._isChanged=function(e){return n.state.initedValue!==parseFloat(e)},n._increaseOnStep=function(){var e=n.state,t=e.value,o=e.step,r=new Ee.a(t).plus(o).toString(),i=n._calcMode(r);n._callOnChangeMode(i),n.setState({mode:i,value:r})},n._decreaseOnStep=function(){var e=n.state,t=e.value,o=e.step,r=new Ee.a(t).minus(o).toString(),i=n._calcMode(r);n._callOnChangeMode(i),n.setState({mode:i,value:r})},n._handleClickRoot=function(){n.input.focus()},n._handleInputChange=function(e){var t=e.target.value;n._updateValue(t)},n._handleInputKeyDown=function(e){switch(e.keyCode){case 13:n.isOnKeyDownEnterFn&&n.props.onKeyDownEnter();break;case 27:var t=n.state,o=t.value,r=t.initedValue;o!==r||""+r=="0"?(n._callOnChangeMode(2),n.setState({mode:2,value:r})):(n._callOnChangeMode(1),n.setState({mode:1,value:0}));break;case 38:e.preventDefault(),n._increaseOnStep();break;case 40:e.preventDefault(),n._decreaseOnStep();break;default:return}},n._callOnChangeMode=function(e){var t=n.state.mode;if(n.isOnChangeModeFn&&t!==e){var o=n.props,r=o.inputKey;(0,o.onChangeMode)(r,e)}},n._updateValue=function(e){var t=n._calcMode(e);n._callOnChangeMode(t),n.setState({mode:t,value:e})},n._refInput=function(e){return n.input=e},n.state=n._getInitedState(t),n}m()(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){e!==this.props&&this.setState(this._getInitedState(e))},n.render=function(){var e=this.props,t=e.inputStyle,n=e.id,o=this.state,r=o.value,i=o.mode,a=xe[i];return l.a.createElement("div",{style:_e.ROOT,onClick:this._handleClickRoot},l.a.createElement("button",{style:C()({},_e.ARROW,{},_e.ARROW_PLUS),onClick:this._increaseOnStep}),l.a.createElement("div",{style:_e.DIV_INPUT},l.a.createElement("input",{ref:this._refInput,id:n,type:"text",style:C()({},_e.INPUT,{},t),value:r,onChange:this._handleInputChange,onKeyDown:this._handleInputKeyDown}),l.a.createElement("hr",{style:C()({},_e.HR,{},a)})),l.a.createElement("button",{style:C()({},_e.ARROW,{},_e.ARROW_MINUS),onClick:this._decreaseOnStep}))},n.getValue=function(){return parseFloat(this.state.value)},n.setMode=function(e){if(2===e){var t=this.state.value;this.setState({mode:e,initedValue:t})}else this.setState({mode:e})},t}(a.Component);Ce.defaultProps={inputKey:"dfKey",value:"0",step:.1,onChangeMode:function(){},onKeyDownEnter:function(){}};var be=Ce,ye={BT:{color:"#fefcff",fontSize:"16px",fontWeight:"bold",backgroundColor:"#673ab7",border:"2px solid #673ab7",borderRadius:"8px",padding:"4px 6px",marginLeft:"16px",height:"30px"},VALID_CHANGED:{border:"2px solid #673ab7"},VALID_NOT_CHANGED:{backgroundColor:"#9e9e9e",border:"2px solid #9e9e9e"},NOT_VALID:{color:"#f44336",backgroundColor:"#9e9e9e",border:"2px solid #9e9e9e"}},Te={0:C()({},ye.BT,{},ye.NOT_VALID),1:C()({},ye.BT,{},ye.VALID_CHANGED),2:C()({},ye.BT,{},ye.VALID_NOT_CHANGED)},Oe=function(e){function t(t){var n;return(n=e.call(this,t)||this).setMode=function(e){n.setState({mode:e})},n.state={mode:t.mode},n}return m()(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.onClick,o=this.state.mode,r=Te[o],i=1===o?n:void 0;return l.a.createElement("button",{className:"bt",style:C()({},t,{},r),onClick:i},"Set")},t}(a.Component);Oe.defaultProps={mode:2,onClick:function(){}};var Ae,Se={Label:fe,OpenClose:y,InputSelect:ve,InputFloat:be,ButtonSet:Oe},Ie=C()({},Se),we={ROOT:{float:"left",marginLeft:"20px",marginTop:"8px",marginBottom:"16px"},ROOT_CAPTION:{color:"forestgreen",fontSize:"16px",fontWeight:"bold"},OPEN_CLOSE:{lineHeight:1,paddingTop:"8px",paddingBottom:"8px",backgroundColor:"#33373A"},OC_DIV:{display:"flex",alignItems:"center"},INPUT_SELECT:{marginTop:"8px",marginBottom:"16px"},LABEL_PERSPECTIVE:{display:"inline-block",width:"65px",textAlign:"end"}},Le=[{caption:"TRIANGLES",value:"TRIANGLES"},{caption:"TRIANGLE_STRIP",value:"TRIANGLE_STRIP"},{caption:"TRIANGLE_FAN",value:"TRIANGLE_FAN"},{caption:"LINES",value:"LINES"},{caption:"LINE_STRIP",value:"LINE_STRIP"},{caption:"LINE_LOOP",value:"LINE_LOOP"},{caption:"POINTS",value:"POINTS"}],Ne={BT_SET:{position:"relative",top:"-6px"}},Re=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._handleSelectDrawMode=function(e){t.drawMode=e},t._handleSetDrawMode=function(){var e=N()(t).drawMode;e&&(t.props.onGetComp().drawMode=e.value)},t}return m()(t,e),t.prototype.render=function(){return l.a.createElement(Ie.OpenClose,{caption:"DrawMode",style:we.OPEN_CLOSE},l.a.createElement("div",{style:we.OC_DIV},l.a.createElement(Ie.InputSelect,{options:Le,styleRoot:we.INPUT_SELECT,onSelect:this._handleSelectDrawMode}),l.a.createElement(Ie.ButtonSet,{style:Ne.BT_SET,mode:1,onClick:this._handleSetDrawMode})))},t}(a.Component),Be=function(e){for(var t in this.mode)this.mode[t]=e,this[t].setMode(e)},Me=function(e,t){var n=this.mode.bt;this.mode[e]=t;var o=this._calcInputMode();n!==o&&(this.mode.bt=o,this.bt.setMode(o))},De=function(){var e=this.mode;for(var t in e)if("bt"!==t&&0===e[t])return 0;for(var n in e)if("bt"!==n&&1===e[n])return 1;return 2},Pe={ROW:{marginTop:"12px",display:"flex",alignItems:"center"},CAPTION:{color:"gray",paddingRight:"16px",fontWeight:"bold",fontSize:"16px"},LABEL:{color:"gray",fontWeight:"bold",fontSize:"16px"},LABEL_ROW:{paddingLeft:"24px",color:"gray",fontWeight:"bold",fontSize:"16px"},INPUT_FLOAT_2:{width:"35px"},INPUT_FLOAT_3:{width:"45px"}},Fe=function(e){return"function"==typeof e},ke=function(e){e.prototype._setModeToAll=Be}(Ae=function(e){e.prototype._onChangeMode=Me}(Ae=function(e){e.prototype._calcInputMode=De}(Ae=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).mode={inputFloat:2,bt:2},t._handleSetValue=function(){var e=t.props,n=e.onGetComp,o=e.propKey,r=e.fnAfterSet,i=n();i[o]=t.inputFloat.getValue(),Fe(r)&&r(i),t._setModeToAll(2)},t._refInputFloat=function(e){return t.inputFloat=e},t._refBt=function(e){return t.bt=e},t}return m()(t,e),t.prototype.render=function(){var e=this.props,t=e.labelBy,n=e.inputId,o=e.value,r=e.styleLabel;return l.a.createElement("div",{style:Pe.ROW},l.a.createElement(Ie.Label,{style:C()({},Pe.LABEL_ROW,{},r),title:t,id:n}),l.a.createElement(Ie.InputFloat,{ref:this._refInputFloat,id:n,inputKey:"inputFloat",inputStyle:Pe.INPUT_FLOAT_3,value:o,step:.001,onChangeMode:this._onChangeMode.bind(this),onKeyDownEnter:this._handleSetValue}),l.a.createElement(Ie.ButtonSet,{ref:this._refBt,onClick:this._handleSetValue}))},t}(a.Component))||Ae)||Ae)||Ae,Ge=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._fnAfterSet=function(e){e.createPerspective(e)},t}return m()(t,e),t.prototype.render=function(){var e=this.props,t=e.perspectiveNear,n=e.perspectiveFar,o=e.onGetComp;return l.a.createElement(y,{caption:"Perspective",style:we.OPEN_CLOSE},l.a.createElement(ke,{labelBy:"Near:",inputId:"pNear",value:t,propKey:"perspectiveNear",styleLabel:we.LABEL_PERSPECTIVE,onGetComp:o,fnAfterSet:this._fnAfterSet}),l.a.createElement(ke,{labelBy:"Far:",inputId:"pFar",value:n,styleLabel:we.LABEL_PERSPECTIVE,propKey:"perspectiveFar",onGetComp:o,fnAfterSet:this._fnAfterSet}))},t}(a.Component),Ue=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._fnAfterSet=function(e){e.configMatrix(e)},t}return m()(t,e),t.prototype.render=function(){var e=this.props,t=e.zMatrixTranslate,n=e.onGetComp;return l.a.createElement(y,{caption:"Translate",style:we.OPEN_CLOSE},l.a.createElement(ke,{labelBy:"Z:",inputId:"tZ",value:t,propKey:"zMatrixTranslate",onGetComp:n,fnAfterSet:this._fnAfterSet}))},t}(a.Component),We=function(e){var t=e.rX,n=e.rY,o=e.rZ,r=e.onGetComp;return l.a.createElement(y,{isClose:!0,caption:"Rotate",style:we.OPEN_CLOSE},l.a.createElement(ke,{labelBy:"X:",inputId:"rX",value:t,propKey:"rX",onGetComp:r}),l.a.createElement(ke,{labelBy:"Y:",inputId:"rY",value:n,propKey:"rY",onGetComp:r}),l.a.createElement(ke,{labelBy:"Z:",inputId:"rZ",value:o,propKey:"rZ",onGetComp:r}))},Ve=function(e){var t=e.onGetComp,n=e.valuesForInit,o=n.perspectiveNear,r=n.perspectiveFar,i=n.zMatrixTranslate,a=n.rX,s=n.rY,c=n.rZ;return l.a.createElement("div",{style:we.ROOT},l.a.createElement("span",{style:we.ROOT_CAPTION},"Config WebGL Topic"),l.a.createElement(Re,{onGetComp:t}),l.a.createElement(Ge,{perspectiveNear:o,perspectiveFar:r,onGetComp:t}),l.a.createElement(Ue,{zMatrixTranslate:i,onGetComp:t}),l.a.createElement(We,{rX:a,rY:s,rZ:c,onGetComp:t}))},He=function(e){function t(t){var n;return(n=e.call(this,t)||this)._refComp=function(e){return n.componentTopic=e},n._onStore=n._onStore.bind(N()(n)),n.getComponentTopic=n.getComponentTopic.bind(N()(n)),n.state={topidId:void 0},n}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.store;this.unsubscribe=e.listen(this._onStore)},n._onStore=function(e,t){e===E.VIEW_TOPIC&&this.setState({topicId:t.topicId})},n.componentWillUnmount=function(){this.unsubscribe()},n.getComponentTopic=function(){return this.componentTopic},n.render=function(){var e=this.state.topicId,t=ue(e),n=t.Comp,o=t.props,r=o.valuesForInit,i=void 0===r?{}:r,a=C()({},K,{},i);return l.a.createElement("div",{className:"container",role:"document"},l.a.createElement("main",{className:"container__content",tabIndex:"1",role:"main"},l.a.createElement("div",{className:"row"},l.a.createElement(n,C()({ref:this._refComp},o)),l.a.createElement(Ve,{valuesForInit:a,onGetComp:this.getComponentTopic}))))},t}(a.Component),ze=function(){return l.a.createElement("div",{className:"container__footer",role:"complementary"})},Ye=function(e){var t=e.store;return l.a.createElement("div",{className:"app",role:"application"},l.a.createElement(f,null),l.a.createElement(w,{store:t}),l.a.createElement(He,{store:t}),l.a.createElement(ze,null))},Ze={_setTopicId:function(e){this.state.topicId=e},onViewTopic:function(e){this._setTopicId(e),this.trigger(E.VIEW_TOPIC,this.state)}},Ke=g.a.createStore(C()({listenables:[_],state:{topicId:S.RANDOM_TRIANGLES}},Ze));Object(s.render)(l.a.createElement(Ye,{store:Ke}),document.getElementById("app"))}]);