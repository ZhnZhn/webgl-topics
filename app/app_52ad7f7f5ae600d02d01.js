(()=>{var e={38:(e,t,r)=>{e.exports=r(548)(12)},130:(e,t,r)=>{e.exports=r(548)(133)},905:(e,t,r)=>{e.exports=r(548)(400)},993:(e,t,r)=>{e.exports=r(548)(748)},363:(e,t,r)=>{e.exports=r(548)(887)},548:e=>{"use strict";e.exports=lib_vendor}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(993),t=function(e){return(e||{}).current},n=r(905),o=0;function i(e,t,r,i,a){var l,c,s={};for(c in t)"ref"==c?l=t[c]:s[c]=t[c];var u={type:e,props:s,key:r,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--o,__source:a,__self:i};if("function"==typeof e&&(l=e.defaultProps))for(c in l)void 0===s[c]&&(s[c]=l[c]);return n.options.vnode&&n.options.vnode(u),u}const a=function(e){var t=e.className,r=e.title;return i("span",{className:t,title:r,children:i("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[i("title",{children:r}),i("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),i("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),i("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})};const l=function(e){return i("span",{className:e.className,style:e.style,children:e.caption})};const c=function(e){return i("a",{className:e.className,title:e.title,href:e.href,children:i("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.414",children:[i("title",{children:"GitHub Logo"}),i("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})]})})};var s="WebGL Topics v0.2.0";const u=function(){return i("header",{className:"header",role:"banner",children:[i(a,{className:"header__icon-app",title:s}),i(l,{className:"header__label-app",caption:s}),i(c,{className:"header__github-link",title:"GitHub Repository",href:"https://github.com/zhnzhn/webgl-topics/"})]})};const d=function(t,r,n){void 0===n&&(n="listen"),(0,e.useEffect)((function(){return t[n](r)}),[])};var f,p=r(130),v=r.n(p),m="viewTopic";const h=v().createActions(((f={})[m]={},f));function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}const b=function(t){return function(r,n){return(0,e.useCallback)((function(e){t(e)&&(e.preventDefault(),e.stopPropagation(),r(e))}),n||[])}}((function(e){var t=e.keyCode;return 13===t||32===t}));const y=function(t){var r=(0,e.useState)((function(){return!!t})),n=r[0],o=r[1];return[n,(0,e.useCallback)((function(e){!function(e){return"boolean"==typeof e}(e)?o((function(e){return!e})):o(e)}),[])]};var x="#af94dc",E={lineHeight:1.5,backgroundColor:"#4d4d4d"},C={color:x,paddingLeft:4,fontWeight:"bold",fontSize:"16px",cursor:"pointer"},_={display:"inline-block",width:16,height:16},T={display:"inline-block"},S={display:"block"},w={display:"none"};const A=function(e){var t=e.isClose,r=e.style,n=e.toogleStyle,o=e.childrenStyle,a=e.caption,l=e.children,c=y(!t),s=c[0],u=c[1],d=b(u),f=s?["M 2,14 L 14,14 14,2 2,14","#af94dc",S,"show-popup"]:["M 2,2 L 14,8 2,14 2,2","#33373A",w],p=f[0],v=f[1],m=f[2],h=f[3];return i("div",{style:g({},E,r),children:[i("div",{role:"button",tabIndex:"0",className:"zhn-oc not-selected",style:n,onClick:u,onKeyDown:d,children:[i("div",{style:_,children:i("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:T,children:i("path",{d:p,fill:v,strokeWidth:"1",stroke:x})})}),i("span",{style:C,children:a})]}),i("div",{"aria-expanded":s,className:h,style:g({},o,m),children:l})]})};var N={backgroundColor:"#24282a"},R={color:"gray"},L={borderRight:"8px solid #1b75bb"},I=function(e){var t=e.style,r=e.title,n=e.onClick,o=b(n);return i("div",{role:"menuitem",tabIndex:"0",className:"row__topic",style:g({},R,t),onClick:n,onKeyDown:o,children:r})};const k=function(e){var t=e.dataModel,r=e.topicId,n=e.toogleStyle,o=t||{},a=o.caption,l=o.items;return i(A,{caption:a,style:N,toogleStyle:n,children:l.map((function(e){var t=e.id,n=e.title,o=e.onClick;return i(I,{style:t===r?L:void 0,title:n,onClick:o},t)}))})};const M=function(e){var t=e.style,r=e.toogleStyle,n=e.menuModel,o=e.topicId;return i("div",{style:t,children:n.map((function(e){return i(k,{toogleStyle:r,dataModel:e,topicId:o},o)}))})};var B="RANDOM_TRIANGLES",F="CROWN",P="PLANE",D="CUBE",G="CUBE_WITH_LIGHT",O="CUBE_TRANSPARENT";const z=[{caption:"WebGL with gl-matrix",items:[[B,"Random Triangles"],[F,"Crown Sample"],[P,"Plane"],[D,"Cube"],[G,"Cube With Light"],[O,"Cube Transparent"]].map((function(e){return t=e[0],r=e[1],{id:t,title:r,onClick:function(){return h.viewTopic(t)}};var t,r}))}];var U="sidebar__footer",Y={borderRight:"1px solid black"},W={paddingLeft:6};const Z=function(t){var r=t.store,n=(0,e.useState)(r.state.topicId),o=n[0],a=n[1];return d(r,(function(e,t){e===m&&a(t.topicId)})),i("section",{className:"sidebar with-scroll",children:[i("div",{className:"sidebar__menu",role:"navigation",children:i(M,{style:Y,toogleStyle:W,menuModel:z,topicId:o})}),i("div",{className:U,children:i("button",{className:"sidebar__footer__link",children:"Footer Button"})})]})};var V=function(){return{}};const H=function(){return(0,e.useReducer)(V)[1]};var X=function(e){return"function"==typeof e},K=/^-?\d*(\.\d+)?$/,j=function(e){var t=(""+e).trim();return!isNaN(parseFloat(t))&&(""!==t&&K.test(t))};const q=function(e){var t=e.canvas,r=t.width,n=t.height,o=e.gl=t.getContext("webgl");o.enable(o.DEPTH_TEST),o.viewport(0,0,r,n),o.clearColor(.5,.5,.5,1)};var $="FRAGMENT",J="VERTEX",Q=function(e,t,r){var n;if(r===$)n=e.createShader(e.FRAGMENT_SHADER);else{if(r!==J)return null;n=e.createShader(e.VERTEX_SHADER)}return e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(alert(e.getShaderInfoLog(n)),null)};const ee=function(e){var t=e.gl,r=e.props,n=r.vertexShaderCode,o=void 0===n?"\nattribute float pointSize;\nattribute vec4 coords;\nattribute vec4 colors;\nuniform mat4 transformMatrix;\nuniform mat4 perspectiveMatrix;\nvarying vec4 varyingColors;\nvoid main(void){\n  gl_Position = perspectiveMatrix * transformMatrix * coords;\n  gl_PointSize = pointSize;\n  varyingColors = colors;\n}\n":n,i=r.fragmentShaderCode,a=void 0===i?"\nprecision mediump float;\nvarying vec4 varyingColors;\nvoid main(void) {\n  gl_FragColor = varyingColors;\n}\n":i,l=Q(t,o,J),c=Q(t,a,$),s=e.shaderProgram=t.createProgram();t.attachShader(s,l),t.attachShader(s,c),t.linkProgram(s),t.useProgram(s)};var te=r(363);const re=function(e){var t=e.canvas,r=e.gl,n=e.shaderProgram,o=e.perspectiveNear,i=e.perspectiveFar,a=te.mat4.create();te.mat4.perspective(a,1,t.width/t.height,o,i);var l=r.getUniformLocation(n,"perspectiveMatrix");r.uniformMatrix4fv(l,!1,a)};const ne=function(e){var t=e.gl,r=e.shaderProgram,n=t.getAttribLocation(r,"pointSize");t.vertexAttrib1f(n,20)};const oe=function(e){var t=e.gl,r=e.shaderProgram,n=e.zMatrixTranslate,o=void 0===n?-2:n,i=e.matrix=te.mat4.create();te.mat4.translate(i,i,[0,0,o]),e.matrixLocation=t.getUniformLocation(r,"transformMatrix")};const ie={createBuffer:function(e,t,r){void 0===r&&(r="ARRAY_BUFFER");var n=e.createBuffer();return e.bindBuffer(e[r],n),e.bufferData(e[r],t,e.STATIC_DRAW),n},createAttrib:function(e,t,r,n,o,i,a){void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=!0);var l=e.getAttribLocation(t,r);return e.vertexAttribPointer(l,n,e.FLOAT,!1,o,i),e.enableVertexAttribArray(l),a&&e.bindBuffer(e.ARRAY_BUFFER,null),this},translateMatrix:function(e){var t=e.matrix,r=e.trZ,n=e.trZD,o=e.minTrZ,i=e.maxTrZ,a=e.trZStep;-1===n?r>o?e.trZ=r-a:e.trZD=1:r<i?e.trZ=r+a:e.trZD=-1;var l=te.mat4.create();te.mat4.translate(l,l,[0,0,e.trZD*a]),te.mat4.multiply(t,l,t)},rotateMatrix:function(e){var t=e.matrix,r=e.rX,n=e.rY,o=e.rZ;te.mat4.rotateX(t,t,r),te.mat4.rotateY(t,t,n),te.mat4.rotateZ(t,t,o)}};const ae=function(e){var t=e||{},r=t.isAnimate,n=t.isStopDraw,o=t.gl,i=t.vertexCount,a=t.draw,l=t.drawMode,c=void 0===l?"TRIANGLES":l,s=t.isDrawElemnts,u=t.indexCount,d=t.isDynamicTranslate,f=t.matrixLocation,p=t.matrix;r&&(ie.rotateMatrix(e),d&&ie.translateMatrix(e),o.uniformMatrix4fv(f,!1,p),o.clear(o.COLOR_BUFFER_BIT),s?o.drawElements(o[c],u,o.UNSIGNED_BYTE,0):o.drawArrays(o[c],0,i)),n?e.props.clearBuffers(e):window.requestAnimationFrame((function(){return a(e)}))};var le=Object.assign;const ce=function(r,n,o){(0,e.useEffect)((function(){var e=t(r),i=t(n),a=o.valuesForInit,l=o.createVertices,c=o.createIndices,s=o.loadTexture;return le(i,g({},a,{canvas:e,props:o,configMatrix:oe,draw:o.draw||ae})),q(i),ee(i),l(i),i.isWithoutPerspective||(i.createPerspective=re,re(i)),i.isWithoutPointSize||ne(i),oe(i),X(c)&&c(i),X(s)&&s(i),X(i.draw)&&i.draw(i),function(){i.isStopDraw=!0}}),[])};var se={position:"relative",color:"#673ab7",padding:"6px 8px",marginLeft:16,fontSize:"16px",fontWeight:"bold",border:"2px solid #673ab7",borderRadius:8};const ue=function(e){var t=e.caption,r=e.style,n=e.onClick;return i("button",{className:"bt",style:g({},se,r),onClick:n,children:t})};function de(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var fe={display:"table-cell"},pe={display:"inline-block",color:"#ffffff",marginLeft:4,padding:"3px 7px",borderRadius:3,fontWeight:"700",textDecoration:"none",background:"#ef494f"};const ve={EGGHEAD:function(e){var t=e.isPro,r=e.style,n=e.title,o=e.href;return i("a",{className:"native-link",style:g({},fe,r),href:o,children:[i("span",{children:n}),t?i("span",{style:pe,children:"P"}):null]})}};var me=["type"];const he=function(e){var t=e.config;if(t){var r=t.topicLink||{},n=r.type,o=de(r,me),a=n&&ve[n];return a?i(a,g({},o)):null}return null};var ge={position:"relative",float:"left"},be={borderRadius:"2px"},ye={position:"absolute",top:8,right:8};const xe=(0,e.forwardRef)((function(r,n){var o=(0,e.useRef)(),a=(0,e.useRef)({isAnimate:!0,isStopDraw:!1}),l=H(),c=(0,e.useCallback)((function(){a.current.isAnimate=!t(a).isAnimate,l()}),[]);ce(o,a,r),(0,e.useImperativeHandle)(n,(function(){return t(a)}));var s=r.valuesForInit,u=(t(a)||{}).isAnimate;return i("div",{style:ge,children:[i("canvas",{ref:o,width:500,height:500,style:be,onClick:c,children:["Your browser doesn't appear to support the",i("code",{children:"<canvas>"})," element."]}),!u&&i(ue,{caption:"Run Animation",style:ye,onClick:c}),i(he,{config:s})]})}));const Ee={zMatrixTranslate:-2,rX:-.007,rY:.012,rZ:.01,perspectiveNear:.1,perspectiveFar:10};var Ce={valuesForInit:{topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl"}},createVertices:function(e){for(var t=e.gl,r=e.shaderProgram,n=e.vertices=[],o=e.colors=[],i=e.vertexCount=30,a=0;a<i;a++)n.push(2*Math.random()-1),n.push(2*Math.random()-1),n.push(2*Math.random()-1),o.push(Math.random()),o.push(Math.random()),o.push(Math.random()),o.push(1);e.buffer=ie.createBuffer(t,new Float32Array(n)),ie.createAttrib(t,r,"coords",3),e.colorBuffer=ie.createBuffer(t,new Float32Array(o)),ie.createAttrib(t,r,"colors",4)},clearBuffers:function(e){var t=e.gl,r=e.buffer,n=e.colorBuffer;t.deleteBuffer(r),t.deleteBuffer(n)}};const _e={valuesForInit:{topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[.88,-.25,-.18,1,0,0,1,.9,.25,0,1,0,0,1,.88,-.25,.18,1,0,0,1,.85,-.25,.29,1,1,0,1,.78,.25,.45,1,1,0,1,.67,-.25,.6,1,1,0,1,.6,-.25,.67,0,1,0,1,.45,.25,.78,0,1,0,1,.29,-.25,.85,0,1,0,1,.18,-.25,.88,0,1,1,1,0,.25,.9,0,1,1,1,-.18,-.25,.88,0,1,1,1,-.29,-.25,.85,0,0,1,1,-.45,.25,.78,0,0,1,1,-.6,-.25,.67,0,0,1,1];e.vertexCount=t.length/7;var r=e.gl,n=e.shaderProgram;e.buffer=ie.createBuffer(r,new Float32Array(t)),ie.createAttrib(r,n,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,n,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},clearBuffers:function(e){var t=e.gl,r=e.buffer;t.deleteBuffer(r)}};var Te=function(e,t){e.push(Math.cos(t)),e.push(Math.sin(t)),e.push(.1*Math.sin(10*t))},Se=function(e,t){e.push(.5*Math.sin(10*t)+.5),e.push(.5*Math.sin(8*t)+.5),e.push(.5*Math.sin(12*t)+.5),e.push(1)};const we={valuesForInit:{drawMode:"TRIANGLE_FAN",topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[];t.push(0,.9,.3,1,1,1,1);for(var r=0;r<2*Math.PI;r+=.01)Te(t,r),Se(t,r);r=2*Math.PI,Te(t,r),Se(t,r),e.vertexCount=t.length/7;var n=e.gl,o=e.shaderProgram;e.buffer=ie.createBuffer(n,new Float32Array(t)),ie.createAttrib(n,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(n,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},clearBuffers:function(e){var t=e.gl,r=e.buffer;t.deleteBuffer(r)}};const Ae={valuesForInit:{zMatrixTranslate:-4,isDrawElemnts:!0,topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,-1,1,0,0,1,1,-1,-1,1,1,0,1,-1,1,-1,0,1,1,1,1,1,-1,0,0,1,1,-1,1,1,1,.5,0,1,1,1,1,.5,1,1,1,-1,-1,1,1,0,.5,1,1,-1,1,.5,0,1,1];e.vertexCount=t.length/7;var r=e.gl,n=e.shaderProgram;e.buffer=ie.createBuffer(r,new Float32Array(t)),ie.createAttrib(r,n,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,n,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},createIndices:function(e){var t=e.indices=[0,1,2,1,2,3,2,3,4,3,4,5,4,5,6,5,6,7,6,7,0,7,0,1,0,2,6,2,6,4,1,3,7,3,7,5];e.indexCount=t.length;var r=e.gl;e.indexBuffer=ie.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,r=e.buffer,n=e.indexBuffer;t.deleteBuffer(r),t.deleteBuffer(n)}};const Ne={vertexShaderCode:"\n  attribute vec4 coords;\n  attribute float pointSize;\n  uniform mat4 transformMatrix;\n  uniform mat4 perspectiveMatrix;\n  attribute vec4 colors;\n  varying vec4 varyingColors;\n\n  attribute vec2 textureCoords;\n  varying vec2 varyingTextureCoords;\n  void main(void){\n    gl_Position = perspectiveMatrix * transformMatrix * coords;\n    gl_PointSize = pointSize;\n    varyingColors = colors;\n\n    varyingTextureCoords = textureCoords;\n  }\n  ",fragmentShaderCode:"\n  precision mediump float;\n  uniform vec4 color;\n  varying vec4 varyingColors;\n\n  varying vec2 varyingTextureCoords;\n  uniform sampler2D sampler;\n  void main(void) {\n    gl_FragColor = texture2D(sampler, varyingTextureCoords);\n  }\n  ",valuesForInit:{drawMode:"TRIANGLE_STRIP",topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1];e.vertexCount=t.length/4;var r=e.gl,n=e.shaderProgram;e.buffer=ie.createBuffer(r,new Float32Array(t)),ie.createAttrib(r,n,"coords",2,4*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,n,"textureCoords",2,4*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT,!1)},loadTexture:function(e){var t=document.createElement("img");t.crossOrigin="",t.addEventListener("load",(function(){var r=e.gl,n=e.shaderProgram,o=r.createTexture(),i=r.getUniformLocation(n,"sampler");r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,1),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texImage2D(r.TEXTURE_2D,0,r.RGB,r.RGB,r.UNSIGNED_BYTE,t),r.uniform1i(i,0)})),t.src="img/cat.jpg"},clearBuffers:function(e){}};const Re={vertexShaderCode:"\n  attribute vec4 coords;\n  uniform mat4 transformMatrix;\n  uniform mat4 perspectiveMatrix;\n\n  attribute vec3 normal;\n  uniform vec3 lightColor;\n  uniform vec3 lightDirection;\n\n  varying vec4 varyingColors;\n  void main(void){\n    vec3 norm = normalize(normal);\n    vec3 ld = normalize(lightDirection);\n    float dotProduct = max(dot(norm, ld), 0.0);\n    vec3 vertexColor = lightColor * vec3(1, 1, 0) * dotProduct;\n    varyingColors = vec4(vertexColor, 1);\n\n    gl_Position = perspectiveMatrix * transformMatrix * coords;\n  }\n  ",fragmentShaderCode:"\n  precision mediump float;\n  varying vec4 varyingColors;\n  void main(void) {\n    gl_FragColor = varyingColors;\n  }\n  ",valuesForInit:{zMatrixTranslate:-4,isWithoutPointSize:!0,isDrawElemnts:!0,topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1,-1,1,1,1,1,1,-1,-1,1,1,-1,1];e.vertexCount=t.length/3;var r=e.gl,n=e.shaderProgram;e.buffer=ie.createBuffer(r,new Float32Array(t)),ie.createAttrib(r,n,"coords",3,0,0,!1);e.normalBuffer=ie.createBuffer(r,new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0])),ie.createAttrib(r,n,"normal",3,0,0);var o=r.getUniformLocation(n,"lightColor");r.uniform3f(o,1,1,1);var i=r.getUniformLocation(n,"lightDirection");r.uniform3f(i,.5,1,0)},createIndices:function(e){var t=e.indices=[0,1,2,1,2,3,2,3,4,3,4,5,4,5,6,5,6,7,6,7,0,7,0,1,0,2,6,2,6,4,1,3,7,3,7,5];e.indexCount=t.length;var r=e.gl;e.indexBuffer=ie.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,r=e.buffer,n=e.indexBuffer;t.deleteBuffer(r),t.deleteBuffer(n)}};const Le={valuesForInit:{zMatrixTranslate:-4,isDrawElemnts:!0,drawMode:"LINES",isDynamicTranslate:!0,trZStep:.005,trZ:-4,trZD:-1,minTrZ:-10,maxTrZ:-2},createVertices:function(e){var t=e.vertices=[0,0,0,1,1,1,1,-1,-1,-1,1,0,0,1,1,-1,-1,1,1,0,1,-1,1,-1,1,0,0,1,1,1,-1,1,1,0,1,-1,-1,1,1,0,0,1,1,-1,1,1,1,0,1,-1,1,1,1,0,0,1,1,1,1,1,1,0,1];e.vertexCount=t.length/7;var r=e.gl,n=e.shaderProgram;e.buffer=ie.createBuffer(r,new Float32Array(t)),ie.createAttrib(r,n,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,n,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},createIndices:function(e){var t=e.indices=[0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,1,2,2,4,4,3,3,1,1,5,5,6,6,2,6,8,8,7,7,5,8,4,7,3];e.indexCount=t.length;var r=e.gl;e.indexBuffer=ie.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,r=e.buffer,n=e.indexBuffer;t.deleteBuffer(r),t.deleteBuffer(n)}};var Ie,ke=((Ie={DF:Ce}).RANDOM_TRIANGLES=Ce,Ie.CROWN=_e,Ie.PLANE=we,Ie.CUBE=Ae,Ie.TEXTURE_IMAGE=Ne,Ie.CUBE_WITH_LIGHT=Re,Ie.CUBE_TRANSPARENT=Le,Ie);const Me=function(e){var t=e&&ke[e]||ke.DF;return t.valuesForInit=g({},Ee,t.valuesForInit),t.key=e,{Comp:xe,props:t}};const Be=function(t){var r=(0,e.useRef)(t);return(0,e.useMemo)((function(){return[function(e){r.current=e},function(){return r.current}]}),[])};const Fe=function(e){var t=e.id;return i("label",{className:"not-selected",style:e.style,htmlFor:t,children:e.title})};var Pe=r(38),De={position:"relative",display:"inline-block",backgroundColor:"rgb(225, 225, 203)",margin:"0 5px",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},Ge={display:"inline-block"},Oe={display:"inline",color:"green",width:40,height:26,marginRight:5,fontSize:"16px",fontWeight:"bold",backgroundColor:"#e1e1cb",background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none"},ze={width:"100%",margin:"0 0 5px 0",borderWidth:"medium medium 2px",borderStyle:"none none solid",borderColor:"red",borderImage:"none"},Ue={display:"inline-block",position:"relative",borderColor:"rgb(103, 58, 183) transparent transparent",borderStyle:"solid",borderWidth:"12px 6px 4px",cursor:"pointer"},Ye=g({},Ue,{transform:"rotateX(180deg)",margin:"0 6px",top:-16}),We=g({},Ue,{top:-12,marginRight:6}),Ze=function(){},Ve={0:{borderColor:"#f44336"},1:{borderColor:"#673ab7"},2:{borderColor:"#9e9e9e"}},He=function(e,t){return j(t)?e!==parseFloat(t)?1:2:0},Xe=function(e){var t=e.initialValue,r=void 0===t?"0":t;return{mode:j(r)?2:0,value:r,initedValue:r}},Ke=function(e,t,r){return e.mode=t,e.value=r,g({},e)};const je=(0,e.forwardRef)((function(t,r){var n=t.id,o=t.inputStyle,a=t.initialValue,l=t.inputKey,c=void 0===l?"dfKey":l,s=t.step,u=void 0===s?.1:s,d=t.onChangeMode,f=void 0===d?Ze:d,p=t.onKeyDownEnter,v=void 0===p?Ze:p,m=(0,e.useRef)(),h=(0,e.useState)((function(){return Xe(t)})),b=h[0],y=h[1],x=b.mode,E=b.value,C=b.initedValue,_=function(e){x!==e&&f(c,e)},T=function(){var e=new Pe.default(E).plus(u).toString(),t=He(C,e);_(t),y((function(r){return Ke(r,t,e)}))},S=function(){var e=new Pe.default(E).minus(u).toString(),t=He(C,e);_(t),y((function(r){return Ke(r,t,e)}))};(0,e.useEffect)((function(){y(Xe(t))}),[a]),(0,e.useImperativeHandle)(r,(function(){return{getValue:function(){return parseFloat(E)},setMode:function(e){y((function(t){return t.mode=e,2===e&&(t.initedValue=E),g({},t)}))}}}));var w=Ve[x];return i("div",{style:De,children:[i("button",{style:Ye,onClick:T}),i("div",{style:Ge,children:[i("input",{ref:m,id:n,type:"text",style:g({},Oe,o),value:E,onChange:function(e){var t=e.target.value,r=He(C,t);_(r),y((function(e){return Ke(e,r,t)}))},onKeyDown:function(e){switch(e.keyCode){case 13:v();break;case 27:var t=E!==C||""+C=="0"?2:1;_(t),y((function(e){return Ke(e,t,C)}));break;case 38:e.preventDefault(),T();break;case 40:e.preventDefault(),S();break;default:return}}}),i("hr",{style:g({},ze,w)})]}),i("button",{style:We,onClick:S})]})}));var qe={color:"#fefcff",height:30,padding:"4px 6px",marginLeft:16,fontSize:"16px",fontWeight:"bold",backgroundColor:"#673ab7",border:"2px solid #673ab7",borderRadius:8},$e={0:g({},qe,{color:"#f44336",backgroundColor:"#9e9e9e",border:"2px solid #9e9e9e"}),1:g({},qe,{border:"2px solid #673ab7"}),2:g({},qe,{backgroundColor:"#9e9e9e",border:"2px solid #9e9e9e"})},Je=(0,e.forwardRef)((function(t,r){var n=t.mode,o=void 0===n?2:n,a=t.style,l=t.onClick,c=(0,e.useState)(o),s=c[0],u=c[1];(0,e.useImperativeHandle)(r,(function(){return{setMode:u}}),[]);var d=1===s?l:void 0;return i("button",{className:"bt",style:g({},a,$e[s]),onClick:d,children:"Set"})}));const Qe={Label:Fe,OpenClose:A,InputFloat:je,ButtonSet:Je};const et=function(e){return i("span",{children:e.item[e.propCaption]})};var tt="zhn-select",rt=tt+"__row--active",nt=tt+"__footer--margin";const ot=function(e,t){return e?-1!==(""+e).indexOf("%")?g({},t,{width:e}):g({},t,{width:e+"px"}):null};var it=Array.isArray,at=function(e){return it(e)?e[0]?e[1]:"":e||""};const lt=function(e,t){var r=at(e),n=at(t);return r?n?r+" "+n:r:n||void 0};var ct=["className","style","caption","onClick"];const st=function(e){var t=e.className,r=e.style,n=e.caption,o=void 0===n?"":n,a=e.onClick;return i("button",g({},de(e,ct),{className:lt("zhn-bt-circle2",t),style:r,onClick:a,children:i("div",{children:o})}))};var ut={backgroundColor:"#949ab4"};const dt=(0,e.forwardRef)((function(e,t){var r=e.indexActiveOption,n=e.nFiltered,o=e.nAll,a=e.onStepDown,l=e.onStepUp,c=e.onClear;return i("div",{className:"zhn-select__footer not-selected",children:[i("span",{className:"zhn-select__footer__index",children:[i("span",{ref:t,children:r}),i("span",{children:[": ",n,": ",o]})]}),i("span",{className:"zhn-select__footer__bts",children:[i(st,{className:nt,style:ut,caption:"Dn",onClick:a}),i(st,{className:nt,style:ut,caption:"Up",onClick:l}),i(st,{style:ut,caption:"CL",onClick:c})]})]})}));var ft={display:"block"},pt={display:"none"};const vt=function(e){var t=e.refOptionsComp,r=e.refIndexNode,n=e.rootOptionsStyle,o=e.width,a=e.isShowOption,l=e.domOptions,c=e.indexActiveOption,s=e.nFiltered,u=e.nAll,d=e.onStepUp,f=e.onStepDown,p=e.onClear,v=ot(o,a?ft:pt);return i("div",{className:"zhn-select__options",style:v,"data-scrollable":!0,children:[i("div",{ref:t,className:"zhn-select__options__div",style:g({},n,v),children:l}),i(dt,{ref:r,indexActiveOption:c,nAll:u,nFiltered:s,onStepUp:d,onStepDown:f,onClear:p})]})};const mt=function(e){var t=e.options,r=e.indexActiveOption,n=e.propCaption,o=e.ItemOptionComp,a=e.onClick;return t.map((function(e,t){return i("div",{role:"option","aria-selected":r===t,tabIndex:"0",className:"zhn-select__row","data-index":t,onClick:function(t){return a(e,t)},children:i(o,{item:e,propCaption:n})},t)}))};var ht={position:"absolute",top:10,right:0,width:35,paddingRight:5,textAlign:"center",verticalAlign:"middle",cursor:"pointer"},gt={position:"relative",top:2,display:"inline-block",height:0,width:0,borderColor:"#999 transparent transparent",borderStyle:"solid",borderWidth:"10px 8px 4px"},bt=function(e){var r=t(e);return r&&r.style||{}};const yt=(0,e.forwardRef)((function(t,r){var n=t.arrowStyle,o=t.onClick,a=(0,e.useRef)(),l=(0,e.useRef)();return(0,e.useImperativeHandle)(r,(function(){return{startAnimation:function(){bt(a).animation="circle infinite 1.25s linear",bt(l).borderColor="#1b75bb transparent transparent"},stopAnimation:function(){bt(a).animation=""}}})),i("button",{ref:a,style:ht,tabIndex:"-1",onClick:o,children:i("span",{ref:l,style:g({},gt,n)})})}));var xt={borderColor:"#1b75bb transparent transparent"};const Et=function(e,t,r,n){var o=e.isLoading,a=e.isLoadingFailed,l=e.placeholder,c=e.optionName,s=void 0===c?"":c,u=e.onLoadOption,d=t.isShowOption,f=t.optionNames;return o||a?o?["Loading "+f+"...",i("span",{className:"zhn-select__spinner","data-loader":"circle"})]:a?["Loading "+f+" Failed",i(st,{className:"zhn-select__spinner--failed","data-loader":"circle-failed",onClick:u})]:[]:[l||"Select "+s+"...",i(yt,{ref:r,arrowStyle:d?xt:void 0,onClick:n})]};var Ct="From input:";const _t=function(e,t,r,n){var o=function(e,t,r){var n=t.toLowerCase();return(e||[]).filter((function(e){return-1!==e[r].toLowerCase().indexOf(n)}))}(t,e,r);return 0===o.length&&o.push(function(e,t,r){var n,o=String(e).replace(Ct,"").trim();return(n={})[t]=r?"From input: "+o:"No results found",n.value="noresult",n.inputValue=o,n}(e,r,n)),o};var Tt=function(e){return"number"==typeof e&&e-e==0},St=function(e){var t=(e.dataset||{}).index;return Number(t)};const wt=function(r,n){return(0,e.useMemo)((function(){return[function(e){if(e){e.classList.add(rt);var n=St(e),o=t(r);o&&Tt(n)&&(o.textContent=n+1)}},function(e){var t=e||n();t&&t.classList.remove(rt)}]}),[])};var At=function(e){return(e.children||{}).length};const Nt=function(r,n,o,i,a,l){return(0,e.useMemo)((function(){return[function(){var e=n();if(e){i(e);var c=t(r);a(l()+1),l()>=At(c)&&(a(0),c.scrollTop=0);var s=n();o(s);var u=s.offsetTop,d=c.scrollTop;u-d>70&&(c.scrollTop+=u-d-70)}},function(){var e=n();if(e){i(e);var c=t(r);if(a(l()-1),l()<0){a(At(c)-1);var s=n();c.scrollTop=s.offsetTop}var u=n();o(u);var d=u.offsetTop,f=c.scrollTop;d-f<70&&(c.scrollTop-=70-(d-f))}}]}),[])};var Rt=[],Lt=function(e){var t=e.optionName,r=e.optionNames,n=e.options,o=void 0===n?Rt:n;return{value:"",initialOptions:o,options:o,optionNames:r||t||""}},It=function(){};const kt=function(r){var n=r.rootStyle,o=r.width,a=r.rootOptionsStyle,l=r.propCaption,c=void 0===l?"caption":l,s=r.ItemOptionComp,u=void 0===s?et:s,d=r.isWithInput,f=void 0!==d&&d,p=r.onSelect,v=void 0===p?It:p,m=(0,e.useRef)(),h=(0,e.useRef)(),b=(0,e.useRef)(),x=(0,e.useRef)(),E=Be(0),C=E[0],_=E[1],T=(0,e.useState)((function(){return Lt(r)})),S=T[0],w=T[1],A=S.value,N=S.options,R=S.initialOptions,L=y(!1),I=L[0],k=L[1],M=(0,e.useCallback)((function(){w((function(){return Lt(r)})),k(!1),C(0)}),[r]),B=(0,e.useCallback)((function(){return((t(b)||{}).childNodes||[])[_()]}),[]),F=wt(x,B),P=F[0],D=F[1],G=Nt(b,B,P,D,C,_),O=G[0],z=G[1],U=(0,e.useCallback)((function(e,t){D(),C(St(t.currentTarget)),k(!1),w((function(t){return g({},t,{value:e[c]})})),v(e)}),[]),Y=(0,e.useMemo)((function(){return i(mt,{options:N,indexActiveOption:_(),propCaption:c,ItemOptionComp:u,onClick:U})}),[N]);(0,e.useEffect)((function(){if(I){var e=B();P(e),function(e){if(e){var t=e.offsetTop,r=e.parentElement,n=r.scrollTop;t-n>70&&(r.scrollTop+=t-n-70),t-n<0&&(r.scrollTop=0)}}(e)}}),[I]);var W=_(),Z=ot(o,n),V=Et(r,S,m,k),H=V[0],X=V[1],K=function(e){var t=e.options,r=e.initialOptions;return[t[0]&&"noresult"!==t[0].value?t.length:0,r?r.length:0]}(S),j=K[0],q=K[1];return i("div",{className:tt,style:Z,children:[i("input",{ref:h,className:"zhn-select__input",type:"text",name:"select",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,value:A,placeholder:H,onChange:function(e){var t=e.target.value,r=t.length,n=A.length;r!==n&&(0!==_()&&(D(),C(0)),w((function(e){return g({},e,{value:t,options:_t(t,r>n?N:R,c,f)})})),k(!0))},onKeyDown:function(e){switch(e.keyCode){case 13:var t=_();if(Tt(t)){var r=N[t];if(r&&r[c]){var n="noresult"!==r.value?r:f?function(e,t){var r;return(r={})[t]="From Input",r.value=e.inputValue,r}(r,c):void 0;v(n),k(!1),w((function(e){return g({},e,{value:r[c]})}))}}else v();break;case 27:case 46:e.preventDefault(),I?k(!1):(D(),M(),v());break;case 40:I?(e.preventDefault(),O()):k(!0);break;case 38:I&&(e.preventDefault(),z());break;default:return}}}),X,i("hr",{className:"zhn-select__input__hr"}),I&&i(vt,{refOptionsComp:b,refIndexNode:x,rootOptionsStyle:a,width:o,isShowOption:I,domOptions:Y,indexActiveOption:W,nFiltered:j,nAll:q,onStepUp:z,onStepDown:O,onClear:function(){D(),v(),M()}})]})};const Mt=g({},Qe,{InputSelect:kt});var Bt={float:"left",margin:"8px 0 16px 20px"},Ft={color:"forestgreen",fontSize:"16px",fontWeight:"bold"},Pt={backgroundColor:"#33373a"},Dt={display:"flex",alignItems:"center",paddingTop:6},Gt={paddingBottom:8},Ot={margin:"8px 0 16px 0"},zt={display:"inline-block",width:65,textAlign:"end"},Ut=[{caption:"TRIANGLES",value:"TRIANGLES"},{caption:"TRIANGLE_STRIP",value:"TRIANGLE_STRIP"},{caption:"TRIANGLE_FAN",value:"TRIANGLE_FAN"},{caption:"LINES",value:"LINES"},{caption:"LINE_STRIP",value:"LINE_STRIP"},{caption:"LINE_LOOP",value:"LINE_LOOP"},{caption:"POINTS",value:"POINTS"}],Yt={position:"relative",top:-6};const Wt=function(t){var r=t.onGetComp,n=Be(),o=n[0],a=n[1],l=(0,e.useCallback)((function(){var e=a();e&&(r().drawMode=e.value)}),[r,a]);return i(Mt.OpenClose,{caption:"DrawMode",style:Pt,childrenStyle:Gt,children:i("div",{style:Dt,children:[i(Mt.InputSelect,{width:"170",options:Ut,styleRoot:Ot,onSelect:o}),i(Mt.ButtonSet,{style:Yt,mode:1,onClick:l})]})})};const Zt=function(r){return t((0,e.useRef)(r))};var Vt={marginTop:12,display:"flex",alignItems:"center"},Ht={color:"grey",paddingLeft:24,fontWeight:"bold",fontSize:"16px"},Xt={width:45},Kt=function(){},jt="inputFloat";const qt=function(r){var n,o=r.inputId,a=r.labelBy,l=r.value,c=r.propKey,s=r.styleLabel,u=r.onGetComp,d=r.fnAfterSet,f=void 0===d?Kt:d,p=(0,e.useRef)(),v=(0,e.useRef)(),m=(0,e.useRef)(((n={}).inputFloat=2,n.bt=2,n)),h=(0,e.useCallback)((function(e,r){var n=t(m);n.inputFloat=r;var o,i=0===(o=r)?0:1===o?1:2;n.bt!==i&&(n.bt=i,t(v).setMode(i))}),[]),b=(0,e.useCallback)((function(e){var r=t(m);r.inputFloat=e,r.bt=e,t(p).setMode(e),t(v).setMode(e)}),[]),y=(0,e.useCallback)((function(){var e=u();e[c]=t(p).getValue(),f(e),b(2)}),[c,u,f,b]);return i("div",{style:Vt,children:[i(Mt.Label,{id:o,style:g({},Ht,s),title:a}),i(Mt.InputFloat,{ref:p,id:o,inputKey:jt,inputStyle:Xt,initialValue:l,step:.001,onChangeMode:h,onKeyDownEnter:y}),i(Mt.ButtonSet,{ref:v,onClick:y})]})};const $t=function(e){var t=e.perspectiveNear,r=e.perspectiveFar,n=e.onGetComp,o=Zt((function(e){e.createPerspective(e)}));return i(A,{caption:"Perspective",style:Pt,childrenStyle:Gt,children:[i(qt,{labelBy:"Near:",inputId:"pNear",value:t,propKey:"perspectiveNear",styleLabel:zt,onGetComp:n,fnAfterSet:o}),i(qt,{labelBy:"Far:",inputId:"pFar",value:r,styleLabel:zt,propKey:"perspectiveFar",onGetComp:n,fnAfterSet:o})]})};const Jt=function(e){var t=e.zMatrixTranslate,r=e.onGetComp,n=Zt((function(e){e.configMatrix(e)}));return i(A,{caption:"Translate",style:Pt,childrenStyle:Gt,children:i(qt,{labelBy:"Z:",inputId:"tZ",value:t,propKey:"zMatrixTranslate",onGetComp:r,fnAfterSet:n})})};const Qt=function(e){var t=e.rX,r=e.rY,n=e.rZ,o=e.onGetComp;return i(A,{isClose:!0,caption:"Rotate",style:Pt,children:[i(qt,{labelBy:"X:",inputId:"rX",value:t,propKey:"rX",onGetComp:o}),i(qt,{labelBy:"Y:",inputId:"rY",value:r,propKey:"rY",onGetComp:o}),i(qt,{labelBy:"Z:",inputId:"rZ",value:n,propKey:"rZ",onGetComp:o})]})};const er=function(e){var t=e.onGetComp,r=e.valuesForInit,n=r.perspectiveNear,o=r.perspectiveFar,a=r.zMatrixTranslate,l=r.rX,c=r.rY,s=r.rZ;return i("div",{style:Bt,children:[i("span",{style:Ft,children:"Config WebGL Topic"}),i(Wt,{onGetComp:t}),i($t,{perspectiveNear:n,perspectiveFar:o,onGetComp:t}),i(Jt,{zMatrixTranslate:a,onGetComp:t}),i(Qt,{rX:l,rY:c,rZ:s,onGetComp:t})]})};var tr="container";const rr=function(t){var r=t.store,o=(0,e.useState)(),a=o[0],l=o[1],c=(0,e.useRef)(null),s=(0,e.useMemo)((function(){return function(){return c.current}}),[]),u=(0,e.useMemo)((function(){return Me(a)}),[a]),f=u.Comp,p=u.props,v=p.valuesForInit;return d(r,(function(e,t){e===m&&l(t.topicId)})),i("div",{className:tr,role:"document",children:i("main",{className:"container__content",role:"main",children:i("div",{className:"row",children:[(0,n.createElement)(f,g({},p,{ref:c,key:p.key})),i(er,{valuesForInit:v,onGetComp:s})]})})})};const nr=function(){return i("div",{role:"complementary",className:"container__footer"})};const or=function(e){var t=e.store;return i("div",{className:"app",role:"application",children:[i(u,{}),i(Z,{store:t}),i(rr,{store:t}),i(nr,{})]})};const ir={_setTopicId:function(e){this.state.topicId=e},onViewTopic:function(e){this._setTopicId(e),this.trigger(m,this.state)}};const ar=v().createStore(g({listenables:[h],state:{topicId:B}},ir));(0,e.render)(i(or,{store:ar}),document.getElementById("app"))})()})();