(()=>{var e={38:(e,t,r)=>{e.exports=r(548)(12)},130:(e,t,r)=>{e.exports=r(548)(133)},905:(e,t,r)=>{e.exports=r(548)(400)},993:(e,t,r)=>{e.exports=r(548)(748)},363:(e,t,r)=>{e.exports=r(548)(887)},548:e=>{"use strict";e.exports=lib_vendor}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(993),t=function(e){return(e||{}).current};function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}var o={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round"},i=r(905),a=0;function l(e,t,r,n,o){var l,c,s={};for(c in t)"ref"==c?l=t[c]:s[c]=t[c];var u={type:e,props:s,key:r,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--a,__source:o,__self:n};if("function"==typeof e&&(l=e.defaultProps))for(c in l)void 0===s[c]&&(s[c]=l[c]);return i.options.vnode&&i.options.vnode(u),u}const c=function(e){var t=e.className,r=e.title;return l("span",{className:t,title:r,children:l("svg",n({},o,{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"2",strokeWidth:"2",children:[l("title",{children:r}),l("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),l("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),l("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]}))})};const s=function(e){return l("span",{className:e.className,style:e.style,children:e.caption})};const u=function(e){var t=e.className,r=e.href;return l("a",{"aria-label":e.ariaLabel,className:t,href:r,children:l("svg",n({},o,{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414","aria-hidden":"true",children:l("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})}))})};var d="WebGL Topics v0.2.0";const f=function(){return l("header",{className:"header",role:"banner",children:[l(c,{className:"header__icon-app",title:d}),l(s,{className:"header__label-app",caption:d}),l(u,{className:"header__github-link",href:"https://github.com/zhnzhn/webgl-topics/",ariaLabel:"GitHub Repository"})]})};const p=function(t,r,n){void 0===n&&(n="listen"),(0,e.useEffect)((function(){return t[n](r)}),[])};var v,m=r(130),h=r.n(m),g="viewTopic";const b=h().createActions(((v={})[g]={},v));const y=function(t){return function(r,n){return(0,e.useCallback)((function(e){t(e)&&(e.preventDefault(),e.stopPropagation(),r(e))}),n||[])}}((function(e){var t=e.keyCode;return 13===t||32===t}));var x=function(e){return!!e},E=function(e,t){return"boolean"==typeof t?t:!e};const C=function(t){return(0,e.useReducer)(E,t,x)};var _="#af94dc",T={lineHeight:1.5,backgroundColor:"#4d4d4d"},w={color:_,paddingLeft:4,fontWeight:"bold",fontSize:"16px",cursor:"pointer"},S={display:"inline-block",width:16,height:16},A={display:"inline-block"},N={display:"block"},R={display:"none"};const L=function(e){var t=e.isClose,r=e.style,o=e.toogleStyle,i=e.childrenStyle,a=e.caption,c=e.children,s=C(!t),u=s[0],d=s[1],f=y(d),p=u?["M 2,14 L 14,14 14,2 2,14","#af94dc",N,"show-popup"]:["M 2,2 L 14,8 2,14 2,2","#33373A",R],v=p[0],m=p[1],h=p[2],g=p[3];return l("div",{style:n({},T,r),children:[l("div",{role:"button",tabIndex:"0",className:"zhn-oc not-selected",style:o,onClick:d,onKeyDown:f,children:[l("div",{style:S,children:l("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:A,children:l("path",{d:v,fill:m,strokeWidth:"1",stroke:_})})}),l("span",{style:w,children:a})]}),l("div",{"aria-expanded":u,className:g,style:n({},i,h),children:c})]})};var I={backgroundColor:"#24282a"},M={color:"gray"},k={borderRight:"8px solid #1b75bb"},B=function(e){var t=e.style,r=e.title,o=e.onClick,i=y(o);return l("div",{role:"menuitem",tabIndex:"0",className:"row__topic",style:n({},M,t),onClick:o,onKeyDown:i,children:r})};const F=function(e){var t=e.dataModel,r=e.topicId,n=e.toogleStyle,o=t||{},i=o.caption,a=o.items;return l(L,{caption:i,style:I,toogleStyle:n,children:a.map((function(e){var t=e.id,n=e.title,o=e.onClick;return l(B,{style:t===r?k:void 0,title:n,onClick:o},t)}))})};const P=function(e){var t=e.style,r=e.toogleStyle,n=e.menuModel,o=e.topicId;return l("div",{style:t,children:n.map((function(e){return l(F,{toogleStyle:r,dataModel:e,topicId:o},o)}))})};var D="RANDOM_TRIANGLES",G="CROWN",O="PLANE",z="CUBE",U="CUBE_WITH_LIGHT",Y="CUBE_TRANSPARENT";const W=[{caption:"WebGL with gl-matrix",items:[[D,"Random Triangles"],[G,"Crown Sample"],[O,"Plane"],[z,"Cube"],[U,"Cube With Light"],[Y,"Cube Transparent"]].map((function(e){return t=e[0],r=e[1],{id:t,title:r,onClick:function(){return b.viewTopic(t)}};var t,r}))}];var Z="sidebar__footer",V={borderRight:"1px solid black"},H={paddingLeft:6};const X=function(t){var r=t.store,n=(0,e.useState)(r.state.topicId),o=n[0],i=n[1];return p(r,(function(e,t){e===g&&i(t.topicId)})),l("section",{className:"sidebar with-scroll",children:[l("div",{className:"sidebar__menu",role:"navigation",children:l(P,{style:V,toogleStyle:H,menuModel:W,topicId:o})}),l("div",{className:Z,children:l("button",{className:"sidebar__footer__link",children:"Footer Button"})})]})};var K=function(){return{}};const j=function(){return(0,e.useReducer)(K)[1]};var q=function(e){return"function"==typeof e},$=/^-?\d*(\.\d+)?$/,J=function(e){var t=(""+e).trim();return!isNaN(parseFloat(t))&&(""!==t&&$.test(t))};const Q=function(e){var t=e.canvas,r=t.width,n=t.height,o=e.gl=t.getContext("webgl");o.enable(o.DEPTH_TEST),o.viewport(0,0,r,n),o.clearColor(.5,.5,.5,1)};var ee="FRAGMENT",te="VERTEX",re=function(e,t,r){var n;if(r===ee)n=e.createShader(e.FRAGMENT_SHADER);else{if(r!==te)return null;n=e.createShader(e.VERTEX_SHADER)}return e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(alert(e.getShaderInfoLog(n)),null)};const ne=function(e){var t=e.gl,r=e.props,n=r.vertexShaderCode,o=void 0===n?"\nattribute float pointSize;\nattribute vec4 coords;\nattribute vec4 colors;\nuniform mat4 transformMatrix;\nuniform mat4 perspectiveMatrix;\nvarying vec4 varyingColors;\nvoid main(void){\n  gl_Position = perspectiveMatrix * transformMatrix * coords;\n  gl_PointSize = pointSize;\n  varyingColors = colors;\n}\n":n,i=r.fragmentShaderCode,a=void 0===i?"\nprecision mediump float;\nvarying vec4 varyingColors;\nvoid main(void) {\n  gl_FragColor = varyingColors;\n}\n":i,l=re(t,o,te),c=re(t,a,ee),s=e.shaderProgram=t.createProgram();t.attachShader(s,l),t.attachShader(s,c),t.linkProgram(s),t.useProgram(s)};var oe=r(363);const ie=function(e){var t=e.canvas,r=e.gl,n=e.shaderProgram,o=e.perspectiveNear,i=e.perspectiveFar,a=oe.mat4.create();oe.mat4.perspective(a,1,t.width/t.height,o,i);var l=r.getUniformLocation(n,"perspectiveMatrix");r.uniformMatrix4fv(l,!1,a)};const ae=function(e){var t=e.gl,r=e.shaderProgram,n=t.getAttribLocation(r,"pointSize");t.vertexAttrib1f(n,20)};const le=function(e){var t=e.gl,r=e.shaderProgram,n=e.zMatrixTranslate,o=void 0===n?-2:n,i=e.matrix=oe.mat4.create();oe.mat4.translate(i,i,[0,0,o]),e.matrixLocation=t.getUniformLocation(r,"transformMatrix")};const ce={createBuffer:function(e,t,r){void 0===r&&(r="ARRAY_BUFFER");var n=e.createBuffer();return e.bindBuffer(e[r],n),e.bufferData(e[r],t,e.STATIC_DRAW),n},createAttrib:function(e,t,r,n,o,i,a){void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=!0);var l=e.getAttribLocation(t,r);return e.vertexAttribPointer(l,n,e.FLOAT,!1,o,i),e.enableVertexAttribArray(l),a&&e.bindBuffer(e.ARRAY_BUFFER,null),this},translateMatrix:function(e){var t=e.matrix,r=e.trZ,n=e.trZD,o=e.minTrZ,i=e.maxTrZ,a=e.trZStep;-1===n?r>o?e.trZ=r-a:e.trZD=1:r<i?e.trZ=r+a:e.trZD=-1;var l=oe.mat4.create();oe.mat4.translate(l,l,[0,0,e.trZD*a]),oe.mat4.multiply(t,l,t)},rotateMatrix:function(e){var t=e.matrix,r=e.rX,n=e.rY,o=e.rZ;oe.mat4.rotateX(t,t,r),oe.mat4.rotateY(t,t,n),oe.mat4.rotateZ(t,t,o)}};const se=function(e){var t=e||{},r=t.isAnimate,n=t.isStopDraw,o=t.gl,i=t.vertexCount,a=t.draw,l=t.drawMode,c=void 0===l?"TRIANGLES":l,s=t.isDrawElemnts,u=t.indexCount,d=t.isDynamicTranslate,f=t.matrixLocation,p=t.matrix;r&&(ce.rotateMatrix(e),d&&ce.translateMatrix(e),o.uniformMatrix4fv(f,!1,p),o.clear(o.COLOR_BUFFER_BIT),s?o.drawElements(o[c],u,o.UNSIGNED_BYTE,0):o.drawArrays(o[c],0,i)),n?e.props.clearBuffers(e):window.requestAnimationFrame((function(){return a(e)}))};var ue=Object.assign;const de=function(r,o,i){(0,e.useEffect)((function(){var e=t(r),a=t(o),l=i.valuesForInit,c=i.createVertices,s=i.createIndices,u=i.loadTexture;return ue(a,n({},l,{canvas:e,props:i,configMatrix:le,draw:i.draw||se})),Q(a),ne(a),c(a),a.isWithoutPerspective||(a.createPerspective=ie,ie(a)),a.isWithoutPointSize||ae(a),le(a),q(s)&&s(a),q(u)&&u(a),q(a.draw)&&a.draw(a),function(){a.isStopDraw=!0}}),[])};var fe={position:"relative",color:"#673ab7",padding:"6px 8px",marginLeft:16,fontSize:"16px",fontWeight:"bold",border:"2px solid #673ab7",borderRadius:8};const pe=function(e){var t=e.caption,r=e.style,o=e.onClick;return l("button",{className:"bt",style:n({},fe,r),onClick:o,children:t})};function ve(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var me={display:"table-cell"},he={display:"inline-block",color:"#ffffff",marginLeft:4,padding:"3px 7px",borderRadius:3,fontWeight:"700",textDecoration:"none",background:"#ef494f"};const ge={EGGHEAD:function(e){var t=e.isPro,r=e.style,o=e.title,i=e.href;return l("a",{className:"native-link",style:n({},me,r),href:i,children:[l("span",{children:o}),t?l("span",{style:he,children:"P"}):null]})}};var be=["type"];const ye=function(e){var t=e.config;if(t){var r=t.topicLink||{},o=r.type,i=ve(r,be),a=o&&ge[o];return a?l(a,n({},i)):null}return null};var xe={position:"relative",float:"left"},Ee={borderRadius:"2px"},Ce={position:"absolute",top:8,right:8};const _e=(0,e.forwardRef)((function(r,n){var o=(0,e.useRef)(),i=(0,e.useRef)({isAnimate:!0,isStopDraw:!1}),a=j(),c=(0,e.useCallback)((function(){i.current.isAnimate=!t(i).isAnimate,a()}),[]);de(o,i,r),(0,e.useImperativeHandle)(n,(function(){return t(i)}));var s=r.valuesForInit,u=(t(i)||{}).isAnimate;return l("div",{style:xe,children:[l("canvas",{ref:o,width:500,height:500,style:Ee,onClick:c,children:["Your browser doesn't appear to support the",l("code",{children:"<canvas>"})," element."]}),!u&&l(pe,{caption:"Run Animation",style:Ce,onClick:c}),l(ye,{config:s})]})}));const Te={zMatrixTranslate:-2,rX:-.007,rY:.012,rZ:.01,perspectiveNear:.1,perspectiveFar:10};var we={valuesForInit:{topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl"}},createVertices:function(e){for(var t=e.gl,r=e.shaderProgram,n=e.vertices=[],o=e.colors=[],i=e.vertexCount=30,a=0;a<i;a++)n.push(2*Math.random()-1),n.push(2*Math.random()-1),n.push(2*Math.random()-1),o.push(Math.random()),o.push(Math.random()),o.push(Math.random()),o.push(1);e.buffer=ce.createBuffer(t,new Float32Array(n)),ce.createAttrib(t,r,"coords",3),e.colorBuffer=ce.createBuffer(t,new Float32Array(o)),ce.createAttrib(t,r,"colors",4)},clearBuffers:function(e){var t=e.gl,r=e.buffer,n=e.colorBuffer;t.deleteBuffer(r),t.deleteBuffer(n)}};const Se={valuesForInit:{topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[.88,-.25,-.18,1,0,0,1,.9,.25,0,1,0,0,1,.88,-.25,.18,1,0,0,1,.85,-.25,.29,1,1,0,1,.78,.25,.45,1,1,0,1,.67,-.25,.6,1,1,0,1,.6,-.25,.67,0,1,0,1,.45,.25,.78,0,1,0,1,.29,-.25,.85,0,1,0,1,.18,-.25,.88,0,1,1,1,0,.25,.9,0,1,1,1,-.18,-.25,.88,0,1,1,1,-.29,-.25,.85,0,0,1,1,-.45,.25,.78,0,0,1,1,-.6,-.25,.67,0,0,1,1];e.vertexCount=t.length/7;var r=e.gl,n=e.shaderProgram;e.buffer=ce.createBuffer(r,new Float32Array(t)),ce.createAttrib(r,n,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,n,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},clearBuffers:function(e){var t=e.gl,r=e.buffer;t.deleteBuffer(r)}};var Ae=function(e,t){e.push(Math.cos(t)),e.push(Math.sin(t)),e.push(.1*Math.sin(10*t))},Ne=function(e,t){e.push(.5*Math.sin(10*t)+.5),e.push(.5*Math.sin(8*t)+.5),e.push(.5*Math.sin(12*t)+.5),e.push(1)};const Re={valuesForInit:{drawMode:"TRIANGLE_FAN",topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[];t.push(0,.9,.3,1,1,1,1);for(var r=0;r<2*Math.PI;r+=.01)Ae(t,r),Ne(t,r);r=2*Math.PI,Ae(t,r),Ne(t,r),e.vertexCount=t.length/7;var n=e.gl,o=e.shaderProgram;e.buffer=ce.createBuffer(n,new Float32Array(t)),ce.createAttrib(n,o,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(n,o,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},clearBuffers:function(e){var t=e.gl,r=e.buffer;t.deleteBuffer(r)}};const Le={valuesForInit:{zMatrixTranslate:-4,isDrawElemnts:!0,topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,-1,1,0,0,1,1,-1,-1,1,1,0,1,-1,1,-1,0,1,1,1,1,1,-1,0,0,1,1,-1,1,1,1,.5,0,1,1,1,1,.5,1,1,1,-1,-1,1,1,0,.5,1,1,-1,1,.5,0,1,1];e.vertexCount=t.length/7;var r=e.gl,n=e.shaderProgram;e.buffer=ce.createBuffer(r,new Float32Array(t)),ce.createAttrib(r,n,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,n,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},createIndices:function(e){var t=e.indices=[0,1,2,1,2,3,2,3,4,3,4,5,4,5,6,5,6,7,6,7,0,7,0,1,0,2,6,2,6,4,1,3,7,3,7,5];e.indexCount=t.length;var r=e.gl;e.indexBuffer=ce.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,r=e.buffer,n=e.indexBuffer;t.deleteBuffer(r),t.deleteBuffer(n)}};const Ie={vertexShaderCode:"\n  attribute vec4 coords;\n  attribute float pointSize;\n  uniform mat4 transformMatrix;\n  uniform mat4 perspectiveMatrix;\n  attribute vec4 colors;\n  varying vec4 varyingColors;\n\n  attribute vec2 textureCoords;\n  varying vec2 varyingTextureCoords;\n  void main(void){\n    gl_Position = perspectiveMatrix * transformMatrix * coords;\n    gl_PointSize = pointSize;\n    varyingColors = colors;\n\n    varyingTextureCoords = textureCoords;\n  }\n  ",fragmentShaderCode:"\n  precision mediump float;\n  uniform vec4 color;\n  varying vec4 varyingColors;\n\n  varying vec2 varyingTextureCoords;\n  uniform sampler2D sampler;\n  void main(void) {\n    gl_FragColor = texture2D(sampler, varyingTextureCoords);\n  }\n  ",valuesForInit:{drawMode:"TRIANGLE_STRIP",topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1];e.vertexCount=t.length/4;var r=e.gl,n=e.shaderProgram;e.buffer=ce.createBuffer(r,new Float32Array(t)),ce.createAttrib(r,n,"coords",2,4*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,n,"textureCoords",2,4*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT,!1)},loadTexture:function(e){var t=document.createElement("img");t.crossOrigin="",t.addEventListener("load",(function(){var r=e.gl,n=e.shaderProgram,o=r.createTexture(),i=r.getUniformLocation(n,"sampler");r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,1),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texImage2D(r.TEXTURE_2D,0,r.RGB,r.RGB,r.UNSIGNED_BYTE,t),r.uniform1i(i,0)})),t.src="img/cat.jpg"},clearBuffers:function(e){}};const Me={vertexShaderCode:"\n  attribute vec4 coords;\n  uniform mat4 transformMatrix;\n  uniform mat4 perspectiveMatrix;\n\n  attribute vec3 normal;\n  uniform vec3 lightColor;\n  uniform vec3 lightDirection;\n\n  varying vec4 varyingColors;\n  void main(void){\n    vec3 norm = normalize(normal);\n    vec3 ld = normalize(lightDirection);\n    float dotProduct = max(dot(norm, ld), 0.0);\n    vec3 vertexColor = lightColor * vec3(1, 1, 0) * dotProduct;\n    varyingColors = vec4(vertexColor, 1);\n\n    gl_Position = perspectiveMatrix * transformMatrix * coords;\n  }\n  ",fragmentShaderCode:"\n  precision mediump float;\n  varying vec4 varyingColors;\n  void main(void) {\n    gl_FragColor = varyingColors;\n  }\n  ",valuesForInit:{zMatrixTranslate:-4,isWithoutPointSize:!0,isDrawElemnts:!0,topicLink:{type:"EGGHEAD",title:"Egghead: Build Complex 3D models with WebGL",href:"https://egghead.io/courses/build-complex-3d-models-with-webgl",isPro:!0}},createVertices:function(e){var t=e.vertices=[-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1,-1,1,1,1,1,1,-1,-1,1,1,-1,1];e.vertexCount=t.length/3;var r=e.gl,n=e.shaderProgram;e.buffer=ce.createBuffer(r,new Float32Array(t)),ce.createAttrib(r,n,"coords",3,0,0,!1);e.normalBuffer=ce.createBuffer(r,new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0])),ce.createAttrib(r,n,"normal",3,0,0);var o=r.getUniformLocation(n,"lightColor");r.uniform3f(o,1,1,1);var i=r.getUniformLocation(n,"lightDirection");r.uniform3f(i,.5,1,0)},createIndices:function(e){var t=e.indices=[0,1,2,1,2,3,2,3,4,3,4,5,4,5,6,5,6,7,6,7,0,7,0,1,0,2,6,2,6,4,1,3,7,3,7,5];e.indexCount=t.length;var r=e.gl;e.indexBuffer=ce.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,r=e.buffer,n=e.indexBuffer;t.deleteBuffer(r),t.deleteBuffer(n)}};const ke={valuesForInit:{zMatrixTranslate:-4,isDrawElemnts:!0,drawMode:"LINES",isDynamicTranslate:!0,trZStep:.005,trZ:-4,trZD:-1,minTrZ:-10,maxTrZ:-2},createVertices:function(e){var t=e.vertices=[0,0,0,1,1,1,1,-1,-1,-1,1,0,0,1,1,-1,-1,1,1,0,1,-1,1,-1,1,0,0,1,1,1,-1,1,1,0,1,-1,-1,1,1,0,0,1,1,-1,1,1,1,0,1,-1,1,1,1,0,0,1,1,1,1,1,1,0,1];e.vertexCount=t.length/7;var r=e.gl,n=e.shaderProgram;e.buffer=ce.createBuffer(r,new Float32Array(t)),ce.createAttrib(r,n,"coords",3,7*Float32Array.BYTES_PER_ELEMENT,0,!1).createAttrib(r,n,"colors",4,7*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT)},createIndices:function(e){var t=e.indices=[0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,1,2,2,4,4,3,3,1,1,5,5,6,6,2,6,8,8,7,7,5,8,4,7,3];e.indexCount=t.length;var r=e.gl;e.indexBuffer=ce.createBuffer(r,new Uint8Array(t),"ELEMENT_ARRAY_BUFFER")},clearBuffers:function(e){var t=e.gl,r=e.buffer,n=e.indexBuffer;t.deleteBuffer(r),t.deleteBuffer(n)}};var Be,Fe=((Be={DF:we}).RANDOM_TRIANGLES=we,Be.CROWN=Se,Be.PLANE=Re,Be.CUBE=Le,Be.TEXTURE_IMAGE=Ie,Be.CUBE_WITH_LIGHT=Me,Be.CUBE_TRANSPARENT=ke,Be);const Pe=function(e){var t=e&&Fe[e]||Fe.DF;return t.valuesForInit=n({},Te,t.valuesForInit),t.key=e,{Comp:_e,props:t}};const De=function(t){var r=(0,e.useRef)(t);return(0,e.useMemo)((function(){return[function(e){r.current=e},function(){return r.current}]}),[])};const Ge=function(e){var t=e.id;return l("label",{className:"not-selected",style:e.style,htmlFor:t,children:e.title})};var Oe=r(38),ze={position:"relative",display:"inline-block",backgroundColor:"rgb(225, 225, 203)",margin:"0 5px",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},Ue={display:"inline-block"},Ye={display:"inline",color:"green",width:40,height:26,marginRight:5,fontSize:"16px",fontWeight:"bold",backgroundColor:"#e1e1cb",background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none"},We={width:"100%",margin:"0 0 5px 0",borderWidth:"medium medium 2px",borderStyle:"none none solid",borderColor:"red",borderImage:"none"},Ze={display:"inline-block",position:"relative",borderColor:"rgb(103, 58, 183) transparent transparent",borderStyle:"solid",borderWidth:"12px 6px 4px",cursor:"pointer"},Ve=n({},Ze,{transform:"rotateX(180deg)",margin:"0 6px",top:-16}),He=n({},Ze,{top:-12,marginRight:6}),Xe=function(){},Ke={0:{borderColor:"#f44336"},1:{borderColor:"#673ab7"},2:{borderColor:"#9e9e9e"}},je=function(e,t){return J(t)?e!==parseFloat(t)?1:2:0},qe=function(e){var t=e.initialValue,r=void 0===t?"0":t;return{mode:J(r)?2:0,value:r,initedValue:r}},$e=function(e,t,r){return e.mode=t,e.value=r,n({},e)};const Je=(0,e.forwardRef)((function(t,r){var o=t.id,i=t.inputStyle,a=t.initialValue,c=t.inputKey,s=void 0===c?"dfKey":c,u=t.step,d=void 0===u?.1:u,f=t.onChangeMode,p=void 0===f?Xe:f,v=t.onKeyDownEnter,m=void 0===v?Xe:v,h=(0,e.useRef)(),g=(0,e.useState)((function(){return qe(t)})),b=g[0],y=g[1],x=b.mode,E=b.value,C=b.initedValue,_=function(e){x!==e&&p(s,e)},T=function(){var e=new Oe.default(E).plus(d).toString(),t=je(C,e);_(t),y((function(r){return $e(r,t,e)}))},w=function(){var e=new Oe.default(E).minus(d).toString(),t=je(C,e);_(t),y((function(r){return $e(r,t,e)}))};(0,e.useEffect)((function(){y(qe(t))}),[a]),(0,e.useImperativeHandle)(r,(function(){return{getValue:function(){return parseFloat(E)},setMode:function(e){y((function(t){return t.mode=e,2===e&&(t.initedValue=E),n({},t)}))}}}));var S=Ke[x];return l("div",{style:ze,children:[l("button",{style:Ve,onClick:T}),l("div",{style:Ue,children:[l("input",{ref:h,id:o,type:"text",style:n({},Ye,i),value:E,onChange:function(e){var t=e.target.value,r=je(C,t);_(r),y((function(e){return $e(e,r,t)}))},onKeyDown:function(e){switch(e.keyCode){case 13:m();break;case 27:var t=E!==C||""+C=="0"?2:1;_(t),y((function(e){return $e(e,t,C)}));break;case 38:e.preventDefault(),T();break;case 40:e.preventDefault(),w();break;default:return}}}),l("hr",{style:n({},We,S)})]}),l("button",{style:He,onClick:w})]})}));var Qe={color:"#fefcff",height:30,padding:"4px 6px",marginLeft:16,fontSize:"16px",fontWeight:"bold",backgroundColor:"#673ab7",border:"2px solid #673ab7",borderRadius:8},et={0:n({},Qe,{color:"#f44336",backgroundColor:"#9e9e9e",border:"2px solid #9e9e9e"}),1:n({},Qe,{border:"2px solid #673ab7"}),2:n({},Qe,{backgroundColor:"#9e9e9e",border:"2px solid #9e9e9e"})},tt=(0,e.forwardRef)((function(t,r){var o=t.mode,i=void 0===o?2:o,a=t.style,c=t.onClick,s=(0,e.useState)(i),u=s[0],d=s[1];(0,e.useImperativeHandle)(r,(function(){return{setMode:d}}),[]);var f=1===u?c:void 0;return l("button",{className:"bt",style:n({},a,et[u]),onClick:f,children:"Set"})}));const rt={Label:Ge,OpenClose:L,InputFloat:Je,ButtonSet:tt};const nt=function(e){return l("span",{children:e.item[e.propCaption]})};var ot="zhn-select",it=ot+"__row--active",at=ot+"__footer--margin";const lt=function(e,t){return e?-1!==(""+e).indexOf("%")?n({},t,{width:e}):n({},t,{width:e+"px"}):null};var ct=Array.isArray,st=function(e){return ct(e)?e[0]?e[1]:"":e||""};const ut=function(e,t){var r=st(e),n=st(t);return r?n?r+" "+n:r:n||void 0};var dt=["className","style","caption","onClick"];const ft=function(e){var t=e.className,r=e.style,o=e.caption,i=void 0===o?"":o,a=e.onClick;return l("button",n({},ve(e,dt),{className:ut("zhn-bt-circle2",t),style:r,onClick:a,children:l("div",{children:i})}))};var pt={backgroundColor:"#949ab4"};const vt=(0,e.forwardRef)((function(e,t){var r=e.indexActiveOption,n=e.nFiltered,o=e.nAll,i=e.onStepDown,a=e.onStepUp,c=e.onClear;return l("div",{className:"zhn-select__footer not-selected",children:[l("span",{className:"zhn-select__footer__index",children:[l("span",{ref:t,children:r}),l("span",{children:[": ",n,": ",o]})]}),l("span",{className:"zhn-select__footer__bts",children:[l(ft,{className:at,style:pt,caption:"Dn",onClick:i}),l(ft,{className:at,style:pt,caption:"Up",onClick:a}),l(ft,{style:pt,caption:"CL",onClick:c})]})]})}));var mt={display:"block"},ht={display:"none"};const gt=function(e){var t=e.refOptionsComp,r=e.refIndexNode,o=e.rootOptionsStyle,i=e.width,a=e.isShowOption,c=e.domOptions,s=e.indexActiveOption,u=e.nFiltered,d=e.nAll,f=e.onStepUp,p=e.onStepDown,v=e.onClear,m=lt(i,a?mt:ht);return l("div",{className:"zhn-select__options",style:m,"data-scrollable":!0,children:[l("div",{ref:t,className:"zhn-select__options__div",style:n({},o,m),children:c}),l(vt,{ref:r,indexActiveOption:s,nAll:d,nFiltered:u,onStepUp:f,onStepDown:p,onClear:v})]})};const bt=function(e){var t=e.options,r=e.indexActiveOption,n=e.propCaption,o=e.ItemOptionComp,i=e.onClick;return t.map((function(e,t){return l("div",{role:"option","aria-selected":r===t,tabIndex:"0",className:"zhn-select__row","data-index":t,onClick:function(t){return i(e,t)},children:l(o,{item:e,propCaption:n})},t)}))};var yt={position:"absolute",top:10,right:0,width:35,paddingRight:5,textAlign:"center",verticalAlign:"middle",cursor:"pointer"},xt={position:"relative",top:2,display:"inline-block",height:0,width:0,borderColor:"#999 transparent transparent",borderStyle:"solid",borderWidth:"10px 8px 4px"},Et=function(e){var r=t(e);return r&&r.style||{}};const Ct=(0,e.forwardRef)((function(t,r){var o=t.arrowStyle,i=t.onClick,a=(0,e.useRef)(),c=(0,e.useRef)();return(0,e.useImperativeHandle)(r,(function(){return{startAnimation:function(){Et(a).animation="circle infinite 1.25s linear",Et(c).borderColor="#1b75bb transparent transparent"},stopAnimation:function(){Et(a).animation=""}}})),l("button",{ref:a,style:yt,tabIndex:"-1",onClick:i,children:l("span",{ref:c,style:n({},xt,o)})})}));var _t={borderColor:"#1b75bb transparent transparent"};const Tt=function(e,t,r,n){var o=e.isLoading,i=e.isLoadingFailed,a=e.placeholder,c=e.optionName,s=void 0===c?"":c,u=e.onLoadOption,d=t.isShowOption,f=t.optionNames;return o||i?o?["Loading "+f+"...",l("span",{className:"zhn-select__spinner","data-loader":"circle"})]:i?["Loading "+f+" Failed",l(ft,{className:"zhn-select__spinner--failed","data-loader":"circle-failed",onClick:u})]:[]:[a||"Select "+s+"...",l(Ct,{ref:r,arrowStyle:d?_t:void 0,onClick:n})]};var wt="From input:";const St=function(e,t,r,n){var o=function(e,t,r){var n=t.toLowerCase();return(e||[]).filter((function(e){return-1!==e[r].toLowerCase().indexOf(n)}))}(t,e,r);return 0===o.length&&o.push(function(e,t,r){var n,o=String(e).replace(wt,"").trim();return(n={})[t]=r?"From input: "+o:"No results found",n.value="noresult",n.inputValue=o,n}(e,r,n)),o};var At=function(e){return"number"==typeof e&&e-e==0},Nt=function(e){var t=(e.dataset||{}).index;return Number(t)};const Rt=function(r,n){return(0,e.useMemo)((function(){return[function(e){if(e){e.classList.add(it);var n=Nt(e),o=t(r);o&&At(n)&&(o.textContent=n+1)}},function(e){var t=e||n();t&&t.classList.remove(it)}]}),[])};var Lt=function(e){return(e.children||{}).length};const It=function(r,n,o,i,a,l){return(0,e.useMemo)((function(){return[function(){var e=n();if(e){i(e);var c=t(r);a(l()+1),l()>=Lt(c)&&(a(0),c.scrollTop=0);var s=n();o(s);var u=s.offsetTop,d=c.scrollTop;u-d>70&&(c.scrollTop+=u-d-70)}},function(){var e=n();if(e){i(e);var c=t(r);if(a(l()-1),l()<0){a(Lt(c)-1);var s=n();c.scrollTop=s.offsetTop}var u=n();o(u);var d=u.offsetTop,f=c.scrollTop;d-f<70&&(c.scrollTop-=70-(d-f))}}]}),[])};var Mt=[],kt=function(e){var t=e.optionName,r=e.optionNames,n=e.options,o=void 0===n?Mt:n;return{value:"",initialOptions:o,options:o,optionNames:r||t||""}},Bt=function(){};const Ft=function(r){var o=r.rootStyle,i=r.width,a=r.rootOptionsStyle,c=r.propCaption,s=void 0===c?"caption":c,u=r.ItemOptionComp,d=void 0===u?nt:u,f=r.isWithInput,p=void 0!==f&&f,v=r.onSelect,m=void 0===v?Bt:v,h=(0,e.useRef)(),g=(0,e.useRef)(),b=(0,e.useRef)(),y=(0,e.useRef)(),x=De(0),E=x[0],_=x[1],T=(0,e.useState)((function(){return kt(r)})),w=T[0],S=T[1],A=w.value,N=w.options,R=w.initialOptions,L=C(!1),I=L[0],M=L[1],k=(0,e.useCallback)((function(){S((function(){return kt(r)})),M(!1),E(0)}),[r]),B=(0,e.useCallback)((function(){return((t(b)||{}).childNodes||[])[_()]}),[]),F=Rt(y,B),P=F[0],D=F[1],G=It(b,B,P,D,E,_),O=G[0],z=G[1],U=(0,e.useCallback)((function(e,t){D(),E(Nt(t.currentTarget)),M(!1),S((function(t){return n({},t,{value:e[s]})})),m(e)}),[]),Y=(0,e.useMemo)((function(){return l(bt,{options:N,indexActiveOption:_(),propCaption:s,ItemOptionComp:d,onClick:U})}),[N]);(0,e.useEffect)((function(){if(I){var e=B();P(e),function(e){if(e){var t=e.offsetTop,r=e.parentElement,n=r.scrollTop;t-n>70&&(r.scrollTop+=t-n-70),t-n<0&&(r.scrollTop=0)}}(e)}}),[I]);var W=_(),Z=lt(i,o),V=Tt(r,w,h,M),H=V[0],X=V[1],K=function(e){var t=e.options,r=e.initialOptions;return[t[0]&&"noresult"!==t[0].value?t.length:0,r?r.length:0]}(w),j=K[0],q=K[1];return l("div",{className:ot,style:Z,children:[l("input",{ref:g,className:"zhn-select__input",type:"text",name:"select",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,value:A,placeholder:H,onChange:function(e){var t=e.target.value,r=t.length,o=A.length;r!==o&&(0!==_()&&(D(),E(0)),S((function(e){return n({},e,{value:t,options:St(t,r>o?N:R,s,p)})})),M(!0))},onKeyDown:function(e){switch(e.keyCode){case 13:var t=_();if(At(t)){var r=N[t];if(r&&r[s]){var o="noresult"!==r.value?r:p?function(e,t){var r;return(r={})[t]="From Input",r.value=e.inputValue,r}(r,s):void 0;m(o),M(!1),S((function(e){return n({},e,{value:r[s]})}))}}else m();break;case 27:case 46:e.preventDefault(),I?M(!1):(D(),k(),m());break;case 40:I?(e.preventDefault(),O()):M(!0);break;case 38:I&&(e.preventDefault(),z());break;default:return}}}),X,l("hr",{className:"zhn-select__input__hr"}),I&&l(gt,{refOptionsComp:b,refIndexNode:y,rootOptionsStyle:a,width:i,isShowOption:I,domOptions:Y,indexActiveOption:W,nFiltered:j,nAll:q,onStepUp:z,onStepDown:O,onClear:function(){D(),m(),k()}})]})};const Pt=n({},rt,{InputSelect:Ft});var Dt={float:"left",margin:"8px 0 16px 20px"},Gt={color:"forestgreen",fontSize:"16px",fontWeight:"bold"},Ot={backgroundColor:"#33373a"},zt={display:"flex",alignItems:"center",paddingTop:6},Ut={paddingBottom:8},Yt={margin:"8px 0 16px 0"},Wt={display:"inline-block",width:65,textAlign:"end"},Zt=[{caption:"TRIANGLES",value:"TRIANGLES"},{caption:"TRIANGLE_STRIP",value:"TRIANGLE_STRIP"},{caption:"TRIANGLE_FAN",value:"TRIANGLE_FAN"},{caption:"LINES",value:"LINES"},{caption:"LINE_STRIP",value:"LINE_STRIP"},{caption:"LINE_LOOP",value:"LINE_LOOP"},{caption:"POINTS",value:"POINTS"}],Vt={position:"relative",top:-6};const Ht=function(t){var r=t.onGetComp,n=De(),o=n[0],i=n[1],a=(0,e.useCallback)((function(){var e=i();e&&(r().drawMode=e.value)}),[r,i]);return l(Pt.OpenClose,{caption:"DrawMode",style:Ot,childrenStyle:Ut,children:l("div",{style:zt,children:[l(Pt.InputSelect,{width:"170",options:Zt,styleRoot:Yt,onSelect:o}),l(Pt.ButtonSet,{style:Vt,mode:1,onClick:a})]})})};const Xt=function(r){return t((0,e.useRef)(r))};var Kt={marginTop:12,display:"flex",alignItems:"center"},jt={color:"grey",paddingLeft:24,fontWeight:"bold",fontSize:"16px"},qt={width:45},$t=function(){},Jt="inputFloat";const Qt=function(r){var o,i=r.inputId,a=r.labelBy,c=r.value,s=r.propKey,u=r.styleLabel,d=r.onGetComp,f=r.fnAfterSet,p=void 0===f?$t:f,v=(0,e.useRef)(),m=(0,e.useRef)(),h=(0,e.useRef)(((o={}).inputFloat=2,o.bt=2,o)),g=(0,e.useCallback)((function(e,r){var n=t(h);n.inputFloat=r;var o,i=0===(o=r)?0:1===o?1:2;n.bt!==i&&(n.bt=i,t(m).setMode(i))}),[]),b=(0,e.useCallback)((function(e){var r=t(h);r.inputFloat=e,r.bt=e,t(v).setMode(e),t(m).setMode(e)}),[]),y=(0,e.useCallback)((function(){var e=d();e[s]=t(v).getValue(),p(e),b(2)}),[s,d,p,b]);return l("div",{style:Kt,children:[l(Pt.Label,{id:i,style:n({},jt,u),title:a}),l(Pt.InputFloat,{ref:v,id:i,inputKey:Jt,inputStyle:qt,initialValue:c,step:.001,onChangeMode:g,onKeyDownEnter:y}),l(Pt.ButtonSet,{ref:m,onClick:y})]})};const er=function(e){var t=e.perspectiveNear,r=e.perspectiveFar,n=e.onGetComp,o=Xt((function(e){e.createPerspective(e)}));return l(L,{caption:"Perspective",style:Ot,childrenStyle:Ut,children:[l(Qt,{labelBy:"Near:",inputId:"pNear",value:t,propKey:"perspectiveNear",styleLabel:Wt,onGetComp:n,fnAfterSet:o}),l(Qt,{labelBy:"Far:",inputId:"pFar",value:r,styleLabel:Wt,propKey:"perspectiveFar",onGetComp:n,fnAfterSet:o})]})};const tr=function(e){var t=e.zMatrixTranslate,r=e.onGetComp,n=Xt((function(e){e.configMatrix(e)}));return l(L,{caption:"Translate",style:Ot,childrenStyle:Ut,children:l(Qt,{labelBy:"Z:",inputId:"tZ",value:t,propKey:"zMatrixTranslate",onGetComp:r,fnAfterSet:n})})};const rr=function(e){var t=e.rX,r=e.rY,n=e.rZ,o=e.onGetComp;return l(L,{isClose:!0,caption:"Rotate",style:Ot,children:[l(Qt,{labelBy:"X:",inputId:"rX",value:t,propKey:"rX",onGetComp:o}),l(Qt,{labelBy:"Y:",inputId:"rY",value:r,propKey:"rY",onGetComp:o}),l(Qt,{labelBy:"Z:",inputId:"rZ",value:n,propKey:"rZ",onGetComp:o})]})};const nr=function(e){var t=e.onGetComp,r=e.valuesForInit,n=r.perspectiveNear,o=r.perspectiveFar,i=r.zMatrixTranslate,a=r.rX,c=r.rY,s=r.rZ;return l("div",{style:Dt,children:[l("span",{style:Gt,children:"Config WebGL Topic"}),l(Ht,{onGetComp:t}),l(er,{perspectiveNear:n,perspectiveFar:o,onGetComp:t}),l(tr,{zMatrixTranslate:i,onGetComp:t}),l(rr,{rX:a,rY:c,rZ:s,onGetComp:t})]})};var or="container";const ir=function(t){var r=t.store,o=(0,e.useState)(),a=o[0],c=o[1],s=(0,e.useRef)(null),u=(0,e.useMemo)((function(){return function(){return s.current}}),[]),d=(0,e.useMemo)((function(){return Pe(a)}),[a]),f=d.Comp,v=d.props,m=v.valuesForInit;return p(r,(function(e,t){e===g&&c(t.topicId)})),l("div",{className:or,role:"document",children:l("main",{className:"container__content",role:"main",children:l("div",{className:"row",children:[(0,i.createElement)(f,n({},v,{ref:s,key:v.key})),l(nr,{valuesForInit:m,onGetComp:u})]})})})};const ar=function(){return l("div",{role:"complementary",className:"container__footer"})};const lr=function(e){var t=e.store;return l("div",{className:"app",role:"application",children:[l(f,{}),l(X,{store:t}),l(ir,{store:t}),l(ar,{})]})};const cr={_setTopicId:function(e){this.state.topicId=e},onViewTopic:function(e){this._setTopicId(e),this.trigger(g,this.state)}};const sr=h().createStore(n({listenables:[b],state:{topicId:D}},cr));(0,e.render)(l(lr,{store:sr}),document.getElementById("app"))})()})();